import{c as Wo}from"./chunk-2JLCVH2Z.js";import{$ as wt,$a as it,A as Fo,Aa as Te,Ab as Op,Ba as se,C as Nc,Ca as ee,Cb as sn,Db as $o,E as Oo,Ea as ke,F as No,Fa as xe,G as Yr,Ga as Tp,H as Lc,Ha as Cp,I as pt,Ia as Sp,Ja as Et,K as Lo,Ka as ve,L as Xr,La as we,Lb as Ho,M as Jr,Ma as Go,N as B,Nb as Ni,O as re,Oa as at,Ob as qo,P as q,Pa as H,Pb as zc,Q as le,Qa as z,R as S,Ra as Ce,S as gt,Sa as Rp,T as Pi,Ta as es,U as Vo,Ua as ht,V as Bo,Va as yt,W as bp,Wa as rn,X as tn,Xa as Me,Y as xp,Ya as Oi,Z as Ip,Za as Nt,_a as nt,a as ko,aa as Oe,ab as Dp,b as tt,bb as kp,c as me,ca as Uo,cb as Bc,d as Mo,da as Pt,db as ue,e as mp,ea as Z,eb as rt,f as pp,fb as We,g as gp,ga as pe,gb as Mp,h as Pc,ha as Zr,hb as At,i as Fc,ia as nn,ib as ye,j as Oc,ja as Vc,jb as _e,k as Sn,ka as wp,kb as Pp,l as Po,la as Ft,lb as ts,ma as Rn,mb as ns,na as jo,nb as Uc,o as Fe,oa as Ep,ob as jc,p as yp,pb as Lt,q as _p,rb as Vt,s as vp,sa as N,sb as Bt,t as Wr,tb as is,u as It,ua as Fi,ub as Fp,va as Ot,vb as lt,wa as G,wb as Gc,y as Kr,ya as Ap,z as Qr,zb as zo}from"./chunk-K7NCM4M7.js";import{a as X,b as qe,e as Cn,f as g}from"./chunk-25N2FLV6.js";var zp=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(G(Ot),G(pe))};static \u0275dir=ee({type:n})}return n})(),y0=(()=>{class n extends zp{static \u0275fac=(()=>{let t;return function(r){return(t||(t=wt(n)))(r||n)}})();static \u0275dir=ee({type:n,features:[ke]})}return n})(),$p=new q("");var _0={provide:$p,useExisting:Jr(()=>ji),multi:!0};function v0(){let n=Gc()?Gc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var b0=new q(""),ji=(()=>{class n extends zp{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!v0())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(G(Ot),G(pe),G(b0,8))};static \u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ht("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[At([_0]),ke]})}return n})();function Kc(n){return n==null||Qc(n)===0}function Qc(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Yc=new q(""),Xc=new q(""),x0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ke=class{static min(e){return I0(e)}static max(e){return w0(e)}static required(e){return E0(e)}static requiredTrue(e){return A0(e)}static email(e){return T0(e)}static minLength(e){return C0(e)}static maxLength(e){return S0(e)}static pattern(e){return R0(e)}static nullValidator(e){return Hp()}static compose(e){return Xp(e)}static composeAsync(e){return Jp(e)}};function I0(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function w0(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function E0(n){return Kc(n.value)?{required:!0}:null}function A0(n){return n.value===!0?null:{required:!0}}function T0(n){return Kc(n.value)||x0.test(n.value)?null:{email:!0}}function C0(n){return e=>{let t=e.value?.length??Qc(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function S0(n){return e=>{let t=e.value?.length??Qc(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function R0(n){if(!n)return Hp;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Kc(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Hp(n){return null}function qp(n){return n!=null}function Wp(n){return Tp(n)?Sn(n):n}function Kp(n){let e={};return n.forEach(t=>{e=t!=null?X(X({},e),t):e}),Object.keys(e).length===0?null:e}function Qp(n,e){return e.map(t=>t(n))}function D0(n){return!n.validate}function Yp(n){return n.map(e=>D0(e)?e:t=>e.validate(t))}function Xp(n){if(!n)return null;let e=n.filter(qp);return e.length==0?null:function(t){return Kp(Qp(t,e))}}function Jc(n){return n!=null?Xp(Yp(n)):null}function Jp(n){if(!n)return null;let e=n.filter(qp);return e.length==0?null:function(t){let i=Qp(t,e).map(Wp);return vp(i).pipe(Fe(Kp))}}function Zc(n){return n!=null?Jp(Yp(n)):null}function Np(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zp(n){return n._rawValidators}function eg(n){return n._rawAsyncValidators}function $c(n){return n?Array.isArray(n)?n:[n]:[]}function Yo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Lp(n,e){let t=$c(e);return $c(n).forEach(r=>{Yo(t,r)||t.push(r)}),t}function Vp(n,e){return $c(e).filter(t=>!Yo(n,t))}var Xo=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Dn=class extends Xo{name;get formDirective(){return null}get path(){return null}},Jn=class extends Xo{_parent=null;name=null;valueAccessor=null},Jo=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},k0={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ok=qe(X({},k0),{"[class.ng-submitted]":"isSubmitted"}),ra=(()=>{class n extends Jo{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(G(Jn,2))};static \u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&we("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ke]})}return n})(),sa=(()=>{class n extends Jo{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(G(Dn,10))};static \u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&we("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ke]})}return n})();var rs="VALID",Ko="INVALID",Li="PENDING",ss="DISABLED",kn=class{},Zo=class extends kn{value;source;constructor(e,t){super(),this.value=e,this.source=t}},as=class extends kn{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ls=class extends kn{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Vi=class extends kn{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ea=class extends kn{source;constructor(e){super(),this.source=e}},ta=class extends kn{source;constructor(e){super(),this.source=e}};function ed(n){return(oa(n)?n.validators:n)||null}function M0(n){return Array.isArray(n)?Jc(n):n||null}function td(n,e){return(oa(e)?e.asyncValidators:n)||null}function P0(n){return Array.isArray(n)?Zc(n):n||null}function oa(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function tg(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Xr(1e3,"");if(!i[t])throw new Xr(1001,"")}function ng(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Xr(1002,"")})}var Bi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vt(this.statusReactive)}set status(e){Vt(()=>this.statusReactive.set(e))}_status=Bt(()=>this.statusReactive());statusReactive=nn(void 0);get valid(){return this.status===rs}get invalid(){return this.status===Ko}get pending(){return this.status==Li}get disabled(){return this.status===ss}get enabled(){return this.status!==ss}errors;get pristine(){return Vt(this.pristineReactive)}set pristine(e){Vt(()=>this.pristineReactive.set(e))}_pristine=Bt(()=>this.pristineReactive());pristineReactive=nn(!0);get dirty(){return!this.pristine}get touched(){return Vt(this.touchedReactive)}set touched(e){Vt(()=>this.touchedReactive.set(e))}_touched=Bt(()=>this.touchedReactive());touchedReactive=nn(!1);get untouched(){return!this.touched}_events=new me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Lp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Lp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vp(e,this._rawAsyncValidators))}hasValidator(e){return Yo(this._rawValidators,e)}hasAsyncValidator(e){return Yo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(qe(X({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ls(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new ls(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(qe(X({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new as(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new as(!0,i))}markAsPending(e={}){this.status=Li;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(qe(X({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ss,this.errors=null,this._forEachChild(r=>{r.disable(qe(X({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zo(this.value,i)),this._events.next(new Vi(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qe(X({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rs,this._forEachChild(i=>{i.enable(qe(X({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(qe(X({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rs||this.status===Li)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zo(this.value,t)),this._events.next(new Vi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(qe(X({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ss:rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Li,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Wp(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Vi(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?ss:this.errors?Ko:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Li)?Li:this._anyControlsHaveStatus(Ko)?Ko:rs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new as(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ls(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oa(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=M0(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=P0(this._rawAsyncValidators)}},Ui=class extends Bi{constructor(e,t,i){super(ed(t),td(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ng(this,!0,e),Object.keys(e).forEach(i=>{tg(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hc=class extends Ui{};var aa=new q("",{providedIn:"root",factory:()=>la}),la="always";function F0(n,e){return[...e.path,n]}function qc(n,e,t=la){nd(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),N0(n,e),V0(n,e),L0(n,e),O0(n,e)}function Bp(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ia(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function na(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O0(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function nd(n,e){let t=Zp(n);e.validator!==null?n.setValidators(Np(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=eg(n);e.asyncValidator!==null?n.setAsyncValidators(Np(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();na(e._rawValidators,r),na(e._rawAsyncValidators,r)}function ia(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Zp(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=eg(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return na(e._rawValidators,i),na(e._rawAsyncValidators,i),t}function N0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ig(n,e)})}function L0(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ig(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ig(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function V0(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function rg(n,e){n==null,nd(n,e)}function B0(n,e){return ia(n,e)}function U0(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function j0(n){return Object.getPrototypeOf(n.constructor)===y0}function sg(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function G0(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===ji?t=s:j0(s)?i=s:r=s}),r||i||t||null}function z0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var $0={provide:Dn,useExisting:Jr(()=>id)},os=Promise.resolve(),id=(()=>{class n extends Dn{callSetDisabledState;get submitted(){return Vt(this.submittedReactive)}_submitted=Bt(()=>this.submittedReactive());submittedReactive=nn(!1);_directives=new Set;form;ngSubmit=new Pt;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new Ui({},Jc(t),Zc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){os.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),qc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){os.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){os.then(()=>{let i=this._findContainer(t.path),r=new Ui({});rg(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){os.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){os.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),sg(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new ea(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new ta(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(G(Yc,10),G(Xc,10),G(aa,8))};static \u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&ht("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[At([$0]),ke]})}return n})();function Up(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jp(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Qo=class extends Bi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(ed(t),td(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oa(t)&&(t.nonNullable||t.initialValueIsDefault)&&(jp(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Up(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Up(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H0=n=>n instanceof Qo;var ca=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var og=new q("");var q0={provide:Dn,useExisting:Jr(()=>Zn)},Zn=(()=>{class n extends Dn{callSetDisabledState;get submitted(){return Vt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Bt(()=>this._submittedReactive());_submittedReactive=nn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Pt;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ia(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return qc(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Bp(t.control||null,t,!1),z0(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),sg(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ea(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new ta(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Bp(i||null,t),H0(r)&&(qc(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);rg(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&B0(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nd(this.form,this),this._oldForm&&ia(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(G(Yc,10),G(Xc,10),G(aa,8))};static \u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&ht("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[At([q0]),ke,tn]})}return n})();var W0={provide:Jn,useExisting:Jr(()=>cs)},cs=(()=>{class n extends Jn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Pt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,s,a){super(),this._ngModelWarningConfig=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=G0(this,s)}ngOnChanges(t){this._added||this._setUpControl(),U0(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return F0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(G(Dn,13),G(Yc,10),G(Xc,10),G($p,10),G(og,8))};static \u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[At([W0]),ke,tn]})}return n})();var ag=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({})}return n})(),Wc=class extends Bi{constructor(e,t,i){super(ed(t),td(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ng(this,!1,e),e.forEach((i,r)=>{tg(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Gp(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var da=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),s={};return Gp(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ui(r,s)}record(t,i=null){let r=this._reduceControls(t);return new Hc(r,i)}control(t,i,r){let s={};return this.useNonNullable?(Gp(i)?s=i:(s.validators=i,s.asyncValidators=r),new Qo(t,qe(X({},s),{nonNullable:!0}))):new Qo(t,i,r)}array(t,i,r){let s=t.map(a=>this._createControl(a));return new Wc(s,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Qo)return t;if(t instanceof Bi)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(i,r,s)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:aa,useValue:t.callSetDisabledState??la}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[ag]})}return n})(),ck=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:og,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:aa,useValue:t.callSetDisabledState??la}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[ag]})}return n})();function ds(n){return n.buttons===0||n.detail===0}function us(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var rd;function cg(){if(rd==null){let n=typeof document<"u"?document.head:null;rd=!!(n&&(n.createShadowRoot||n.attachShadow))}return rd}function sd(n){if(cg()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Tt(n){return n.composedPath?n.composedPath()[0]:n.target}function on(n,e,t,i,r){let s=parseInt(ns.major),a=parseInt(ns.minor);return s>19||s===19&&a>0||s===0&&a===0?n.listen(e,t,i,r):(e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)})}var od;try{od=typeof Intl<"u"&&Intl.v8BreakIterator}catch{od=!1}var Ne=(()=>{class n{_platformId=S(Ft);isBrowser=this._platformId?sn(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||od)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hs;function dg(){if(hs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hs=!0}))}finally{hs=hs||!1}return hs}function Gi(n){return dg()?n:!!n.capture}function Ct(n){return n instanceof pe?n.nativeElement:n}var ug=new q("cdk-input-modality-detector-options"),hg={ignoreKeys:[18,17,224,91,16]},fg=650,ad={passive:!0,capture:!0},mg=(()=>{class n{_platform=S(Ne);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Mo(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Tt(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<fg||(this._modality.next(ds(t)?"keyboard":"mouse"),this._mostRecentTarget=Tt(t))};_onTouchstart=t=>{if(us(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Tt(t)};constructor(){let t=S(Z),i=S(lt),r=S(ug,{optional:!0});if(this._options=X(X({},hg),r),this.modalityDetected=this._modality.pipe(No(1)),this.modalityChanged=this.modalityDetected.pipe(Fo()),this._platform.isBrowser){let s=S(Fi).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[on(s,i,"keydown",this._onKeydown,ad),on(s,i,"mousedown",this._onMousedown,ad),on(s,i,"touchstart",this._onTouchstart,ad)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fs=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(fs||{}),pg=new q("cdk-focus-monitor-default-options"),ua=Gi({passive:!0,capture:!0}),ld=(()=>{class n{_ngZone=S(Z);_platform=S(Ne);_inputModalityDetector=S(mg);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=S(lt,{optional:!0});_stopInputModalityDetector=new me;constructor(){let t=S(pg,{optional:!0});this._detectionMode=t?.detectionMode||fs.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=Tt(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=Ct(t);if(!this._platform.isBrowser||r.nodeType!==1)return Po();let s=sd(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let l={checkChildren:i,subject:new me,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){let i=Ct(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let s=Ct(t),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,i,d)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===fs.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===fs.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?fg:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),s=Tt(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ua),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ua)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ua),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ua),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ha=new WeakMap,ei=(()=>{class n{_appRef;_injector=S(Oe);_environmentInjector=S(Vo);load(t){let i=this._appRef=this._appRef||this._injector.get(Sp),r=ha.get(i);r||(r={loaders:new Set,refs:[]},ha.set(i,r),i.onDestroy(()=>{ha.get(i)?.refs.forEach(s=>s.destroy()),ha.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(Fp(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function cd(n){return Array.isArray(n)?n:[n]}var gg=new Set,ti,K0=(()=>{class n{_platform=S(Ne);_nonce=S(jo,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Y0}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Q0(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q0(n,e){if(!gg.has(n))try{ti||(ti=document.createElement("style"),e&&ti.setAttribute("nonce",e),ti.setAttribute("type","text/css"),document.head.appendChild(ti)),ti.sheet&&(ti.sheet.insertRule(`@media ${n} {body{ }}`,0),gg.add(n))}catch(t){console.error(t)}}function Y0(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var _g=(()=>{class n{_mediaMatcher=S(K0);_zone=S(Z);_queries=new Map;_destroySubject=new me;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return yg(cd(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=yg(cd(t)).map(a=>this._registerQuery(a).observable),s=yp(r);return s=_p(s.pipe(Qr(1)),s.pipe(No(1),Kr(0))),s.pipe(Fe(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:h})=>{l.matches=l.matches||d,l.breakpoints[h]=d}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),s={observable:new tt(a=>{let l=d=>this._zone.run(()=>a.next(d));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(Yr(i),Fe(({matches:a})=>({query:t,matches:a})),pt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yg(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var X0=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({providers:[X0]})}return n})();var Ig=new q("liveAnnouncerElement",{providedIn:"root",factory:wg});function wg(){return null}var Eg=new q("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),J0=0,Z0=(()=>{class n{_ngZone=S(Z);_defaultOptions=S(Eg,{optional:!0});_liveElement;_document=S(lt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=S(Ig,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...i){let r=this._defaultOptions,s,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${J0++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],a=s.getAttribute("aria-owns");a?a.indexOf(t)===-1&&s.setAttribute("aria-owns",a+" "+t):s.setAttribute("aria-owns",t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mn=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Mn||{}),bg="cdk-high-contrast-black-on-white",xg="cdk-high-contrast-white-on-black",dd="cdk-high-contrast-active",ud=(()=>{class n{_platform=S(Ne);_hasCheckedHighContrastMode;_document=S(lt);_breakpointSubscription;constructor(){this._breakpointSubscription=S(_g).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Mn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Mn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Mn.BLACK_ON_WHITE}return Mn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(dd,bg,xg),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Mn.BLACK_ON_WHITE?t.add(dd,bg):i===Mn.WHITE_ON_BLACK&&t.add(dd,xg)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hd={},ni=(()=>{class n{_appId=S(wp);getId(t){return this._appId!=="ng"&&(t+=this._appId),hd.hasOwnProperty(t)||(hd[t]=0),`${t}${hd[t]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eI=200,fa=class{_letterKeyStream=new me;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new me;selectedItem=this._selectedItem;constructor(e,t){let i=typeof t?.debounceInterval=="number"?t.debounceInterval:eI;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Lo(t=>this._pressedLetters.push(t)),Kr(e),It(()=>this._pressedLetters.length>0),Fe(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,s=this._items[r];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}};function Ag(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var zi=class{_items;_activeItemIndex=-1;_activeItem=nn(null);_wrap=!1;_typeaheadSubscription=ko.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Vc?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Zr(e)&&(this._effectRef=is(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new me;change=new me;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new fa(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){let t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}else return;default:(r||Ag(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),i=typeof e=="number"?e:t.indexOf(e),r=t[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let i=1;i<=t.length;i++){let r=(this._activeItemIndex+e*i+t.length)%t.length,s=t[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=t,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Zr(this._items)?this._items():this._items instanceof Vc?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let i=e.indexOf(t);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var fd=class extends zi{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var md=class extends zi{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var Tg=" ";function KM(n,e,t){let i=Cg(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(Tg)))}function QM(n,e,t){let i=Cg(n,e);t=t.trim();let r=i.filter(s=>s!==t);r.length?n.setAttribute(e,r.join(Tg)):n.removeAttribute(e)}function Cg(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var tI=new q("cdk-dir-doc",{providedIn:"root",factory:nI});function nI(){return S(lt)}var iI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Sg(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?iI.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ms=(()=>{class n{value="ltr";change=new Pt;constructor(){let t=S(tI,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=Sg(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ps=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({})}return n})();var st=(()=>{class n{constructor(){S(ud)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[ps,ps]})}return n})();var sI=["*"];var oI=new q("MAT_CARD_CONFIG"),ma=(()=>{class n{appearance;constructor(){let t=S(oI,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&we("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:sI,decls:1,vars:0,template:function(i,r){i&1&&(rn(),Me(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})();var x1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[st,st]})}return n})();function ii(n){return n!=null&&`${n}`!="false"}function w1(n){return n==null?"":typeof n=="string"?n:`${n}px`}var ri;function R1(){if(ri==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ri=!1,ri;if("scrollBehavior"in document.documentElement.style)ri=!0;else{let n=Element.prototype.scrollTo;n?ri=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ri=!1}}return ri}function k1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $i,Dg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pd(){if($i)return $i;if(typeof document!="object"||!document)return $i=new Set(Dg),$i;let n=document.createElement("input");return $i=new Set(Dg.filter(e=>(n.setAttribute("type",e),n.type===e))),$i}var gd=class{_box;_destroyed=new me;_resizeSubject=new me;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new tt(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(It(t=>t.some(i=>i.target===e)),Oo({bufferSize:1,refCount:!0}),pt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},kg=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=S(Z);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new gd(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lI=["notch"],cI=["matFormFieldNotchedOutline",""],dI=["*"],uI=["textField"],hI=["iconPrefixContainer"],fI=["textPrefixContainer"],mI=["iconSuffixContainer"],pI=["textSuffixContainer"],gI=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yI=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function _I(n,e){n&1&&Ce(0,"span",20)}function vI(n,e){if(n&1&&(H(0,"label",19),Me(1,1),xe(2,_I,1,0,"span",20),z()),n&2){let t=yt(2);ve("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Et("for",t._control.disableAutomaticLabeling?null:t._control.id),N(2),at(!t.hideRequiredMarker&&t._control.required?2:-1)}}function bI(n,e){if(n&1&&xe(0,vI,3,5,"label",19),n&2){let t=yt();at(t._hasFloatingLabel()?0:-1)}}function xI(n,e){n&1&&Ce(0,"div",7)}function II(n,e){}function wI(n,e){if(n&1&&xe(0,II,0,0,"ng-template",13),n&2){yt(2);let t=Bc(1);ve("ngTemplateOutlet",t)}}function EI(n,e){if(n&1&&(H(0,"div",9),xe(1,wI,1,1,null,13),z()),n&2){let t=yt();ve("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),N(),at(t._forceDisplayInfixLabel()?-1:1)}}function AI(n,e){n&1&&(H(0,"div",10,2),Me(2,2),z())}function TI(n,e){n&1&&(H(0,"div",11,3),Me(2,3),z())}function CI(n,e){}function SI(n,e){if(n&1&&xe(0,CI,0,0,"ng-template",13),n&2){yt();let t=Bc(1);ve("ngTemplateOutlet",t)}}function RI(n,e){n&1&&(H(0,"div",14,4),Me(2,4),z())}function DI(n,e){n&1&&(H(0,"div",15,5),Me(2,5),z())}function kI(n,e){n&1&&Ce(0,"div",16)}function MI(n,e){n&1&&Me(0,6)}function PI(n,e){if(n&1&&(H(0,"mat-hint",21),ue(1),z()),n&2){let t=yt(2);ve("id",t._hintLabelId),N(),rt(t.hintLabel)}}function FI(n,e){if(n&1&&(xe(0,PI,2,2,"mat-hint",21),Me(1,7),Ce(2,"div",22),Me(3,8)),n&2){let t=yt();at(t.hintLabel?0:-1)}}var si=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["mat-label"]]})}return n})(),_d=new q("MatError"),gs=(()=>{class n{id=S(ni).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&es("id",r.id)},inputs:{id:"id"},features:[At([{provide:_d,useExisting:n}])]})}return n})(),yd=(()=>{class n{align="start";id=S(ni).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(es("id",r.id),Et("align",null),we("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),Vg=new q("MatPrefix");var Bg=new q("MatSuffix");var Ug=new q("FloatingLabelParent"),Mg=(()=>{class n{_elementRef=S(pe);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=S(kg);_ngZone=S(Z);_parent=S(Ug);_resizeSubscription=new ko;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return OI(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&we("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function OI(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var Pg="mdc-line-ripple--active",pa="mdc-line-ripple--deactivating",Fg=(()=>{class n{_elementRef=S(pe);_cleanupTransitionEnd;constructor(){let t=S(Z),i=S(Ot);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(pa),t.add(Pg)}deactivate(){this._elementRef.nativeElement.classList.add(pa)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,r=i.contains(pa);t.propertyName==="opacity"&&r&&i.remove(Pg,pa)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Og=(()=>{class n{_elementRef=S(pe);_ngZone=S(Z);open=!1;_notch;constructor(){}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Nt(lI,5),i&2){let s;nt(s=it())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&we("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:cI,ngContentSelectors:dI,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(rn(),Ce(0,"div",1),H(1,"div",2,0),Me(3),z(),Ce(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),ga=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n})}return n})();var ya=new q("MatFormField"),jg=new q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ng="fill",NI="auto",Lg="fixed",LI="translateY(-50%)",ys=(()=>{class n{_elementRef=S(pe);_changeDetectorRef=S(jc);_dir=S(ms);_platform=S(Ne);_idGenerator=S(ni);_ngZone=S(Z);_injector=S(Oe);_defaults=S(jg,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Ap(si);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ii(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||NI}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(t){let i=this._appearance,r=t||this._defaults?.appearance||Ng;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=Ng;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Lg}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||Lg}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new me;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let t=this._defaults;t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),this._animationsDisabled=S(Rn,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Bt(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Yr([void 0,void 0]),Fe(()=>[i.errorState,i.userAriaDescribedBy]),Nc(),It(([[s,a],[l,d]])=>s!==l||a!==d)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Wr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Ep(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(pt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Bt(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0,m=a?.getBoundingClientRect().width??0,v=this._dir.value==="rtl"?"-1":"1",x=`${l+d}px`,k=`calc(${v} * (${x} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${LI} translateX(${k})
    )`;let F=l+d+h+m;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${F}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(i&1&&(Dp(s,r._labelChild,si,5),Oi(s,ga,5),Oi(s,Vg,5),Oi(s,Bg,5),Oi(s,_d,5),Oi(s,yd,5)),i&2){kp();let a;nt(a=it())&&(r._formFieldControl=a.first),nt(a=it())&&(r._prefixChildren=a),nt(a=it())&&(r._suffixChildren=a),nt(a=it())&&(r._errorChildren=a),nt(a=it())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&(Nt(uI,5),Nt(hI,5),Nt(fI,5),Nt(mI,5),Nt(pI,5),Nt(Mg,5),Nt(Og,5),Nt(Fg,5)),i&2){let s;nt(s=it())&&(r._textField=s.first),nt(s=it())&&(r._iconPrefixContainer=s.first),nt(s=it())&&(r._textPrefixContainer=s.first),nt(s=it())&&(r._iconSuffixContainer=s.first),nt(s=it())&&(r._textSuffixContainer=s.first),nt(s=it())&&(r._floatingLabel=s.first),nt(s=it())&&(r._notchedOutline=s.first),nt(s=it())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&we("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[At([{provide:ya,useExisting:n},{provide:Ug,useExisting:n}])],ngContentSelectors:yI,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let s=Rp();rn(gI),xe(0,bI,1,1,"ng-template",null,0,Pp),H(2,"div",6,1),ht("click",function(l){return xp(s),Ip(r._control.onContainerClick(l))}),xe(4,xI,1,0,"div",7),H(5,"div",8),xe(6,EI,2,2,"div",9)(7,AI,3,0,"div",10)(8,TI,3,0,"div",11),H(9,"div",12),xe(10,SI,1,1,null,13),Me(11),z(),xe(12,RI,3,0,"div",14)(13,DI,3,0,"div",15),z(),xe(14,kI,1,0,"div",16),z(),H(15,"div",17),Mp(16),H(17,"div",18),xe(18,MI,1,0)(19,FI,4,1),z()()}if(i&2){let s;N(2),we("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),N(2),at(!r._hasOutline()&&!r._control.disabled?4:-1),N(2),at(r._hasOutline()?6:-1),N(),at(r._hasIconPrefix?7:-1),N(),at(r._hasTextPrefix?8:-1),N(2),at(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),N(2),at(r._hasTextSuffix?12:-1),N(),at(r._hasIconSuffix?13:-1),N(),at(r._hasOutline()?-1:14),N(),we("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();N(2),we("mat-mdc-form-field-error-wrapper",a==="error")("mat-mdc-form-field-hint-wrapper",a==="hint"),N(),at((s=a)==="error"?18:s==="hint"?19:-1)}},dependencies:[Mg,Og,Op,Fg,yd],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var _a=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[st,vg,st]})}return n})();var VI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),BI={passive:!0},zg=(()=>{class n{_platform=S(Ne);_ngZone=S(Z);_renderer=S(Fi).createRenderer(null,null);_styleLoader=S(ei);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return gp;this._styleLoader.load(VI);let i=Ct(t),r=this._monitoredElements.get(i);if(r)return r.subject;let s=new me,a="cdk-text-field-autofilled",l=h=>{h.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0}))):h.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1})))},d=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),on(this._renderer,i,"animationstart",l,BI)));return this._monitoredElements.set(i,{subject:s,unlisten:d}),s}stopMonitoring(t){let i=Ct(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $g=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({})}return n})();var Hg=new q("MAT_INPUT_VALUE_ACCESSOR");var qg=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var va=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,i,r,s){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,t)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var UI=["button","checkbox","file","hidden","image","radio","range","reset","submit"],jI=new q("MAT_INPUT_CONFIG"),ba=(()=>{class n{_elementRef=S(pe);_platform=S(Ne);ngControl=S(Jn,{optional:!0,self:!0});_autofillMonitor=S(zg);_ngZone=S(Z);_formField=S(ya,{optional:!0});_renderer=S(Ot);_uid=S(ni).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=S(jI,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new me;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=ii(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Ke.required)??!1}set required(t){this._required=ii(t)}_required;get type(){return this._type}set type(t){let i=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&pd().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ii(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>pd().has(t));constructor(){let t=S(id,{optional:!0}),i=S(Zn,{optional:!0}),r=S(qg),s=S(Hg,{optional:!0,self:!0}),a=this._elementRef.nativeElement,l=a.nodeName.toLowerCase();s?Zr(s.value)?this._signalBasedValueAccessor=s:this._inputValueAccessor=s:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new va(r,this.ngControl,i,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&is(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){UI.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),s;if(r){let a=this._formFieldDescribedBy||t;s=t.concat(r.split(" ").filter(l=>l&&!a.includes(l)))}else s=t;this._formFieldDescribedBy=t,s.length?i.setAttribute("aria-describedby",s.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let i=t.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&ht("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(es("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Et("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),we("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Lt]},exportAs:["matInput"],features:[At([{provide:ga,useExisting:n}]),tn]})}return n})(),eF=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[st,_a,_a,$g,st]})}return n})();var _t=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(_t||{}),vd=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=_t.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Kg=Gi({passive:!0,capture:!0}),bd=class{_events=new Map;addHandler(e,t,i,r){let s=this._events.get(t);if(s){let a=s.get(i);a?a.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Kg)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let s=r.get(t);s&&(s.delete(i),s.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Kg)))}_delegateEventHandler=e=>{let t=Tt(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}},_s={enterDuration:225,exitDuration:150},GI=800,Qg=Gi({passive:!0,capture:!0}),Yg=["mousedown","touchstart"],Xg=["mouseup","mouseleave","touchend","touchcancel"],zI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),vs=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new bd;constructor(e,t,i,r,s){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=Ct(i)),s&&s.get(ei).load(zI)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=X(X({},_s),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let a=i.radius||$I(e,t,r),l=e-r.left,d=t-r.top,h=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-a}px`,m.style.top=`${d-a}px`,m.style.height=`${a*2}px`,m.style.width=`${a*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(m);let v=window.getComputedStyle(m),x=v.transitionProperty,C=v.transitionDuration,k=x==="none"||C==="0s"||C==="0s, 0s"||r.width===0&&r.height===0,F=new vd(this,m,i,k);m.style.transform="scale3d(1, 1, 1)",F.state=_t.FADING_IN,i.persistent||(this._mostRecentTransientRipple=F);let M=null;return!k&&(h||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let K=()=>{M&&(M.fallbackTimer=null),clearTimeout(Q),this._finishRippleTransition(F)},j=()=>this._destroyRipple(F),Q=setTimeout(j,h+100);m.addEventListener("transitionend",K),m.addEventListener("transitioncancel",j),M={onTransitionEnd:K,onTransitionCancel:j,fallbackTimer:Q}}),this._activeRipples.set(F,M),(k||!h)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(e.state===_t.FADING_OUT||e.state===_t.HIDDEN)return;let t=e.element,i=X(X({},_s),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=_t.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Ct(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Yg.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Xg.forEach(t=>{this._triggerElement.addEventListener(t,this,Qg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===_t.FADING_IN?this._startFadeOutTransition(e):e.state===_t.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=_t.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=_t.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=ds(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+GI;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!us(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===_t.VISIBLE||e.config.terminateOnPointerUp&&e.state===_t.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Yg.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Xg.forEach(t=>e.removeEventListener(t,this,Qg)),this._pointerUpEventsRegistered=!1))}};function $I(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var xd=new q("mat-ripple-global-options"),uF=(()=>{class n{_elementRef=S(pe);_animationMode=S(Rn,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=S(Z),i=S(Ne),r=S(xd,{optional:!0}),s=S(Oe);this._globalOptions=r||{},this._rippleRenderer=new vs(this,t,this._elementRef,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:X(X(X({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,X(X({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,X(X({},this.rippleConfig),t))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&we("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var HI={capture:!0},qI=["focus","mousedown","mouseenter","touchstart"],Id="mat-ripple-loader-uninitialized",wd="mat-ripple-loader-class-name",Jg="mat-ripple-loader-centered",xa="mat-ripple-loader-disabled",Zg=(()=>{class n{_document=S(lt);_animationMode=S(Rn,{optional:!0});_globalRippleOptions=S(xd,{optional:!0});_platform=S(Ne);_ngZone=S(Z);_injector=S(Oe);_eventCleanups;_hosts=new Map;constructor(){let t=S(Fi).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>qI.map(i=>on(t,this._document,i,this._onInteraction,HI)))}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(Id,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(wd))&&t.setAttribute(wd,i.className||""),i.centered&&t.setAttribute(Jg,""),i.disabled&&t.setAttribute(xa,"")}setDisabled(t,i){let r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(xa,""):t.removeAttribute(xa)}_onInteraction=t=>{let i=Tt(t);if(i instanceof HTMLElement){let r=i.closest(`[${Id}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(wd)),t.append(i);let r=this._animationMode==="NoopAnimations",s=this._globalRippleOptions,a=r?0:s?.animation?.enterDuration??_s.enterDuration,l=r?0:s?.animation?.exitDuration??_s.exitDuration,d={rippleDisabled:r||s?.disabled||t.hasAttribute(xa),rippleConfig:{centered:t.hasAttribute(Jg),terminateOnPointerUp:s?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:l}}},h=new vs(d,this._ngZone,i,this._platform,this._injector),m=!d.rippleDisabled;m&&h.setupTriggerEvents(t),this._hosts.set(t,{target:d,renderer:h,hasSetUpEvents:m}),t.removeAttribute(Id)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ey=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var WI=["mat-icon-button",""],KI=["*"];var QI=new q("MAT_BUTTON_CONFIG");var YI=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ed=(()=>{class n{_elementRef=S(pe);_ngZone=S(Z);_animationMode=S(Rn,{optional:!0});_focusMonitor=S(ld);_rippleLoader=S(Zg);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){S(ei).load(ey);let t=S(QI,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:s,mdcClasses:a}of YI)i.hasAttribute(s)&&r.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ee({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Lt],disabled:[2,"disabled","disabled",Lt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Lt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Lt]}})}return n})();var XI=(()=>{class n extends Ed{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Te({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Et("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Go(r.color?"mat-"+r.color:""),we("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ke],attrs:WI,ngContentSelectors:KI,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(rn(),Ce(0,"span",0),Me(1),Ce(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var ty=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[st,st]})}return n})();var JI=["mat-button",""],ZI=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ew=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ia=(()=>{class n extends Ed{static \u0275fac=(()=>{let t;return function(r){return(t||(t=wt(n)))(r||n)}})();static \u0275cmp=Te({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Et("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Go(r.color?"mat-"+r.color:""),we("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ke],attrs:JI,ngContentSelectors:ew,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(rn(ZI),Ce(0,"span",0),Me(1),H(2,"span",1),Me(3,1),z(),Me(4,2),Ce(5,"span",2)(6,"span",3)),i&2&&we("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var GF=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[st,ty,st]})}return n})();var iy=()=>{};var oy=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},tw=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],a=n[t++],l=n[t++],d=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],a=r+1<n.length,l=a?n[r+1]:0,d=r+2<n.length,h=d?n[r+2]:0,m=s>>2,v=(s&3)<<4|l>>4,x=(l&15)<<2|h>>6,C=h&63;d||(C=64,a||(x=64)),i.push(t[m],t[v],t[x],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;let h=r<n.length?t[n.charAt(r)]:64;++r;let v=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||l==null||h==null||v==null)throw new Td;let x=s<<2|l>>4;if(i.push(x),h!==64){let C=l<<4&240|h>>2;if(i.push(C),v!==64){let k=h<<6&192|v;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Td=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nw=function(n){let e=oy(n);return wa.encodeByteArray(e,!0)},xs=function(n){return nw(n).replace(/\./g,"")},Ea=function(n){try{return wa.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iw=()=>Sd().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ea(n[1]);return e&&JSON.parse(e)},Aa=()=>{try{return iy()||iw()||rw()||sw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rd=n=>{var e,t;return(t=(e=Aa())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ay=n=>{let e=Rd(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Dd=()=>{var n;return(n=Aa())===null||n===void 0?void 0:n.config},kd=n=>{var e;return(e=Aa())===null||e===void 0?void 0:e[`_${n}`]};var oi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Pn(n){return n.endsWith(".cloudworkstations.dev")}function Ta(n){return g(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function ly(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xs(JSON.stringify(t)),xs(JSON.stringify(a)),""].join(".")}var bs={};function ow(){let n={prod:[],emulator:[]};for(let e of Object.keys(bs))bs[e]?n.emulator.push(e):n.prod.push(e);return n}function aw(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ry=!1;function Ca(n,e){if(typeof window>"u"||typeof document>"u"||!Pn(window.location.host)||bs[n]===e||bs[n]||ry)return;bs[n]=e;function t(x){return`__firebase__banner__${x}`}let i="__firebase__banner",s=ow().prod.length>0;function a(){let x=document.getElementById(i);x&&x.remove()}function l(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){let x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ry=!0,a()},x}function m(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){let x=aw(i),C=t("text"),k=document.getElementById(C)||document.createElement("span"),F=t("learnmore"),M=document.getElementById(F)||document.createElement("a"),K=t("preprendIcon"),j=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){let Q=x.element;l(Q),m(M,F);let he=h();d(j,K),Q.append(j,k,M,he),document.body.appendChild(Q)}s?(k.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function lw(){var n;let e=(n=Aa())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dy(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uy(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fy(){let n=Le();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function my(){return!lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Is(){try{return typeof indexedDB=="object"}catch{return!1}}function py(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var cw="FirebaseError",ft=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=cw,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}},St=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?dw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ft(r,l,i)}};function dw(n,e){return n.replace(uw,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var uw=/\{\$([^}]+)}/g;function gy(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ut(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],a=e[r];if(sy(s)&&sy(a)){if(!Ut(s,a))return!1}else if(s!==a)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function sy(n){return n!==null&&typeof n=="object"}function ws(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hi(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function qi(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yy(n,e){let t=new Cd(n,e);return t.subscribe.bind(t)}var Cd=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");hw(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ad),r.error===void 0&&(r.error=Ad),r.complete===void 0&&(r.complete=Ad);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hw(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ad(){}var HF=4*60*60*1e3;function Qe(n){return n&&n._delegate?n._delegate:n}var ot=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ai="[DEFAULT]";var Md=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new oi;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fw(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fw(n){return n===ai?void 0:n}function mw(n){return n.instantiationMode==="EAGER"}var Sa=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Md(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var pw=[],te=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(te||{}),gw={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},yw=te.INFO,_w={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},vw=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=_w[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jt=class{constructor(e){this.name=e,this._logLevel=yw,this._logHandler=vw,this._userLogHandler=null,pw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var bw=(n,e)=>e.some(t=>n instanceof t),_y,vy;function xw(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iw(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var by=new WeakMap,Fd=new WeakMap,xy=new WeakMap,Pd=new WeakMap,Nd=new WeakMap;function ww(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Gt(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&by.set(t,n)}).catch(()=>{}),Nd.set(e,n),e}function Ew(n){if(Fd.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Fd.set(n,e)}var Od={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xy.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Iy(n){Od=n(Od)}function Aw(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Ra(this),e,...t);return xy.set(i,e.sort?e.sort():[e]),Gt(i)}:Iw().includes(n)?function(...e){return n.apply(Ra(this),e),Gt(by.get(this))}:function(...e){return Gt(n.apply(Ra(this),e))}}function Tw(n){return typeof n=="function"?Aw(n):(n instanceof IDBTransaction&&Ew(n),bw(n,xw())?new Proxy(n,Od):n)}function Gt(n){if(n instanceof IDBRequest)return ww(n);if(Pd.has(n))return Pd.get(n);let e=Tw(n);return e!==n&&(Pd.set(n,e),Nd.set(e,n)),e}var Ra=n=>Nd.get(n);function Ey(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let a=indexedDB.open(n,e),l=Gt(a);return i&&a.addEventListener("upgradeneeded",d=>{i(Gt(a.result),d.oldVersion,d.newVersion,Gt(a.transaction),d)}),t&&a.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{s&&d.addEventListener("close",()=>s()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}var Cw=["get","getKey","getAll","getAllKeys","count"],Sw=["put","add","delete","clear"],Ld=new Map;function wy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=Sw.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Cw.includes(t)))return;let s=function(a,...l){return g(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[t](...l),r&&d.done]))[0]})};return Ld.set(e,s),s}Iy(n=>qe(X({},n),{get:(e,t,i)=>wy(e,t)||n.get(e,t,i),has:(e,t)=>!!wy(e,t)||n.has(e,t)}));var Bd=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Rw(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Rw(n){let e=n.getComponent();return e?.type==="VERSION"}var Ud="@firebase/app",Ay="0.13.1";var an=new jt("@firebase/app"),Dw="@firebase/app-compat",kw="@firebase/analytics-compat",Mw="@firebase/analytics",Pw="@firebase/app-check-compat",Fw="@firebase/app-check",Ow="@firebase/auth",Nw="@firebase/auth-compat",Lw="@firebase/database",Vw="@firebase/data-connect",Bw="@firebase/database-compat",Uw="@firebase/functions",jw="@firebase/functions-compat",Gw="@firebase/installations",zw="@firebase/installations-compat",$w="@firebase/messaging",Hw="@firebase/messaging-compat",qw="@firebase/performance",Ww="@firebase/performance-compat",Kw="@firebase/remote-config",Qw="@firebase/remote-config-compat",Yw="@firebase/storage",Xw="@firebase/storage-compat",Jw="@firebase/firestore",Zw="@firebase/ai",eE="@firebase/firestore-compat",tE="firebase",nE="11.9.0";var jd="[DEFAULT]",iE={[Ud]:"fire-core",[Dw]:"fire-core-compat",[Mw]:"fire-analytics",[kw]:"fire-analytics-compat",[Fw]:"fire-app-check",[Pw]:"fire-app-check-compat",[Ow]:"fire-auth",[Nw]:"fire-auth-compat",[Lw]:"fire-rtdb",[Vw]:"fire-data-connect",[Bw]:"fire-rtdb-compat",[Uw]:"fire-fn",[jw]:"fire-fn-compat",[Gw]:"fire-iid",[zw]:"fire-iid-compat",[$w]:"fire-fcm",[Hw]:"fire-fcm-compat",[qw]:"fire-perf",[Ww]:"fire-perf-compat",[Kw]:"fire-rc",[Qw]:"fire-rc-compat",[Yw]:"fire-gcs",[Xw]:"fire-gcs-compat",[Jw]:"fire-fst",[eE]:"fire-fst-compat",[Zw]:"fire-vertex","fire-js":"fire-js",[tE]:"fire-js-all"};var Es=new Map,rE=new Map,Gd=new Map;function Ty(n,e){try{n.container.addComponent(e)}catch(t){an.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rt(n){let e=n.name;if(Gd.has(e))return an.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,n);for(let t of Es.values())Ty(t,n);for(let t of rE.values())Ty(t,n);return!0}function Wi(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ct(n){return n==null?!1:n.settings!==void 0}var sE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new St("app","Firebase",sE);var zd=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}};var On=nE;function qd(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:jd,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Fn.create("bad-app-name",{appName:String(r)});if(t||(t=Dd()),!t)throw Fn.create("no-options");let s=Es.get(r);if(s){if(Ut(t,s.options)&&Ut(i,s.config))return s;throw Fn.create("duplicate-app",{appName:r})}let a=new Sa(r);for(let d of Gd.values())a.addComponent(d);let l=new zd(t,i,a);return Es.set(r,l),l}function li(n=jd){let e=Es.get(n);if(!e&&n===jd&&Dd())return qd();if(!e)throw Fn.create("no-app",{appName:n});return e}function Da(){return Array.from(Es.values())}function Ee(n,e,t){var i;let r=(i=iE[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),an.warn(l.join(" "));return}Rt(new ot(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var oE="firebase-heartbeat-database",aE=1,As="firebase-heartbeat-store",Vd=null;function Dy(){return Vd||(Vd=Ey(oE,aE,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(As)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fn.create("idb-open",{originalErrorMessage:n.message})})),Vd}function lE(n){return g(this,null,function*(){try{let t=(yield Dy()).transaction(As),i=yield t.objectStore(As).get(ky(n));return yield t.done,i}catch(e){if(e instanceof ft)an.warn(e.message);else{let t=Fn.create("idb-get",{originalErrorMessage:e?.message});an.warn(t.message)}}})}function Cy(n,e){return g(this,null,function*(){try{let i=(yield Dy()).transaction(As,"readwrite");yield i.objectStore(As).put(e,ky(n)),yield i.done}catch(t){if(t instanceof ft)an.warn(t.message);else{let i=Fn.create("idb-set",{originalErrorMessage:t?.message});an.warn(i.message)}}})}function ky(n){return`${n.name}!${n.options.appId}`}var cE=1024,dE=30,$d=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Hd(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return g(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>dE){let a=hE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){an.warn(i)}})}getHeartbeatsHeader(){return g(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Sy(),{heartbeatsToSend:i,unsentEntries:r}=uE(this._heartbeatsCache.heartbeats),s=xs(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return an.warn(t),""}})}};function Sy(){return new Date().toISOString().substring(0,10)}function uE(n,e=cE){let t=[],i=n.slice();for(let r of n){let s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Ry(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Ry(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Hd=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return Is()?py().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Ry(n){return xs(JSON.stringify({version:2,heartbeats:n})).length}function hE(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function fE(n){Rt(new ot("platform-logger",e=>new Bd(e),"PRIVATE")),Rt(new ot("heartbeat",e=>new $d(e),"PRIVATE")),Ee(Ud,Ay,n),Ee(Ud,Ay,"esm2017"),Ee("fire-js","")}fE("");var mE="firebase",pE="11.9.1";Ee(mE,pE,"app");function Wd(n){n===void 0&&(bp(Wd),n=S(Oe));let e=n.get(Uo);return t=>new tt(i=>{let r=e.add(),s=!1;function a(){s||(r(),s=!0)}let l=t.subscribe({next:d=>{i.next(d),a()},complete:()=>{i.complete(),a()},error:d=>{i.error(d),a()}});return l.add(()=>{i.unsubscribe(),a()}),l})}var Nn=new ts("ANGULARFIRE2_VERSION");function Ts(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qi=(n,e)=>{let t=e?[e]:Da(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},Ki=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ki||{}),My=Uc()&&typeof Zone<"u"?Ki.WARN:Ki.SILENT;var ka=class{zone;delegate;constructor(e,t=pp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(a){r?r.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])};return this.delegate.schedule(s,t,i)}},Ln=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=S(Z);this.outsideAngular=t.runOutsideAngular(()=>new ka(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new ka(typeof Zone>"u"?void 0:Zone.current,mp))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Py=!1;function gE(n,e){!Py&&(My>Ki.SILENT||Uc())&&(Py=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),My>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function yE(n){let e=S(Z,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ci(n){let e=S(Z,{optional:!0});return e?e.run(()=>n()):n()}var _E=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),Bo(t,()=>ci(()=>n.apply(void 0,i)))),dt=(n,e,t)=>(t||=e?Ki.WARN:Ki.VERBOSE,function(){let i,r=arguments,s,a,l;try{s=S(Ln),a=S(Uo),l=S(Vo)}catch{return gE(n,t),n.apply(this,r)}for(let h=0;h<arguments.length;h++)typeof r[h]=="function"&&(e&&(i||=ci(()=>a.add())),r[h]=_E(r[h],i,l));let d=yE(()=>n.apply(this,r));return e?d instanceof tt?d.pipe(Oc(s.outsideAngular),Fc(s.insideAngular),Wd(l)):d instanceof Promise?ci(()=>new Promise((h,m)=>{a.run(()=>d).then(v=>Bo(l,()=>ci(()=>h(v))),v=>Bo(l,()=>ci(()=>m(v))))})):typeof d=="function"&&i?function(){return setTimeout(i,0),d.apply(this,arguments)}:ci(()=>d):d instanceof tt?d.pipe(Oc(s.outsideAngular),Fc(s.insideAngular)):ci(()=>d)});var ln=class{constructor(e){return e}},di=class{constructor(){return Da()}};function vE(n){return n&&n.length===1?n[0]:new ln(li())}var Kd=new q("angularfire2._apps"),bE={provide:ln,useFactory:vE,deps:[[new gt,Kd]]},xE={provide:di,deps:[[new gt,Kd]]};function IE(n){return(e,t)=>{let i=t.get(Ft);Ee("angularfire",Nn.full,"core"),Ee("angularfire",Nn.full,"app"),Ee("angular",ns.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new ln(r)}}function zO(n,...e){return Pi([bE,xE,{provide:Kd,useFactory:IE(n),multi:!0,deps:[Z,Oe,Ln,...e]}])}var $O=dt(qd,!0);var wE=new Map,EE={activated:!1,tokenObservers:[]},AE={initialized:!1,enabled:!1};function Dt(n){return wE.get(n)||Object.assign({},EE)}function Ly(){return AE}var TE="https://content-firebaseappcheck.googleapis.com/v1";var CE="exchangeDebugToken",Fy={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ZO=24*60*60*1e3;var Xd=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return g(this,null,function*(){this.stop();try{this.pending=new oi,this.pending.promise.catch(t=>{}),yield SE(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new oi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function SE(n){return new Promise(e=>{setTimeout(e,n)})}var RE={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vn=new St("appCheck","AppCheck",RE);function Vy(n){if(!Dt(n).activated)throw Vn.create("use-before-activation",{appName:n.name})}function By(i,r){return g(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){let C=yield a.getHeartbeatsHeader();C&&(s["X-Firebase-Client"]=C)}let l={method:"POST",body:JSON.stringify(e),headers:s},d;try{d=yield fetch(n,l)}catch(C){throw Vn.create("fetch-network-error",{originalErrorMessage:C?.message})}if(d.status!==200)throw Vn.create("fetch-status-error",{httpStatus:d.status});let h;try{h=yield d.json()}catch(C){throw Vn.create("fetch-parse-error",{originalErrorMessage:C?.message})}let m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let v=Number(m[1])*1e3,x=Date.now();return{token:h.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})}function Uy(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${TE}/projects/${t}/apps/${i}:${CE}?key=${r}`,body:{debug_token:e}}}var DE="firebase-app-check-database",kE=1,Jd="firebase-app-check-store";var Ma=null;function ME(){return Ma||(Ma=new Promise((n,e)=>{try{let t=indexedDB.open(DE,kE);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Vn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Jd,{keyPath:"compositeKey"})}}}catch(t){e(Vn.create("storage-open",{originalErrorMessage:t?.message}))}}),Ma)}function PE(n,e){return FE(OE(n),e)}function FE(n,e){return g(this,null,function*(){let i=(yield ME()).transaction(Jd,"readwrite"),s=i.objectStore(Jd).put({compositeKey:n,value:e});return new Promise((a,l)=>{s.onsuccess=d=>{a()},i.onerror=d=>{var h;l(Vn.create("storage-set",{originalErrorMessage:(h=d.target.error)===null||h===void 0?void 0:h.message}))}})})}function OE(n){return`${n.options.appId}-${n.name}`}var Cs=new jt("@firebase/app-check");function Qd(n,e){return Is()?PE(n,e).catch(t=>{Cs.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jy(){return Ly().enabled}function Gy(){return g(this,null,function*(){let n=Ly();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var NE={error:"UNKNOWN_ERROR"};function LE(n){return wa.encodeString(JSON.stringify(n),!1)}function Zd(n,e=!1,t=!1){return g(this,null,function*(){let i=n.app;Vy(i);let r=Dt(i),s=r.token,a;if(s&&!Ss(s)&&(r.token=void 0,s=void 0),!s){let h=yield r.cachedTokenPromise;h&&(Ss(h)?s=h:yield Qd(i,void 0))}if(!e&&s&&Ss(s))return{token:s.token};let l=!1;if(jy())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=By(Uy(i,yield Gy()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);let h=yield r.exchangeTokenPromise;return yield Qd(i,h),r.token=h,{token:h.token}}catch(h){return h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?Cs.warn(h.message):t&&Cs.error(h),Yd(h)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Dt(i).exchangeTokenPromise}catch(h){h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?Cs.warn(h.message):t&&Cs.error(h),a=h}let d;return s?a?Ss(s)?d={token:s.token,internalError:a}:d=Yd(a):(d={token:s.token},r.token=s,yield Qd(i,s)):d=Yd(a),l&&jE(i,d),d})}function VE(n){return g(this,null,function*(){let e=n.app;Vy(e);let{provider:t}=Dt(e);if(jy()){let i=yield Gy(),{token:r}=yield By(Uy(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function BE(n,e,t,i){let{app:r}=n,s=Dt(r),a={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,a],s.token&&Ss(s.token)){let l=s.token;Promise.resolve().then(()=>{t({token:l.token}),Oy(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Oy(n))}function zy(n,e){let t=Dt(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Oy(n){let{app:e}=n,t=Dt(e),i=t.tokenRefresher;i||(i=UE(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function UE(n){let{app:e}=n;return new Xd(()=>g(null,null,function*(){let t=Dt(e),i;if(t.token?i=yield Zd(n,!0):i=yield Zd(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Dt(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Fy.RETRIAL_MIN_WAIT,Fy.RETRIAL_MAX_WAIT)}function jE(n,e){let t=Dt(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ss(n){return n.expireTimeMillis-Date.now()>0}function Yd(n){return{token:LE(NE),error:n}}var eu=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Dt(this.app);for(let t of e)zy(this.app,t.next);return Promise.resolve()}};function GE(n,e){return new eu(n,e)}function zE(n){return{getToken:e=>Zd(n,e),getLimitedUseToken:()=>VE(n),addTokenListener:e=>BE(n,"INTERNAL",e),removeTokenListener:e=>zy(n.app,e)}}var $E="@firebase/app-check",HE="0.10.0";var qE="app-check",Ny="app-check-internal";function WE(){Rt(new ot(qE,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return GE(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ny).initialize()})),Rt(new ot(Ny,n=>{let e=n.getProvider("app-check").getImmediate();return zE(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ee($E,HE)}WE();var KE="app-check";var Yi=class{constructor(){return Qi(KE)}};var QE=["localhost","0.0.0.0","127.0.0.1"],hN=typeof window<"u"&&QE.includes(window.location.hostname);function s_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var o_=s_,a_=new St("auth","Firebase",s_());var Va=new jt("@firebase/auth");function YE(n,...e){Va.logLevel<=te.WARN&&Va.warn(`Auth (${On}): ${n}`,...e)}function Fa(n,...e){Va.logLevel<=te.ERROR&&Va.error(`Auth (${On}): ${n}`,...e)}function $t(n,...e){throw Au(n,...e)}function ui(n,...e){return Au(n,...e)}function l_(n,e,t){let i=Object.assign(Object.assign({},o_()),{[e]:t});return new St("auth","Firebase",i).create(e,{appName:n.name})}function un(n){return l_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Au(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return a_.create(n,...e)}function $(n,e,...t){if(!n)throw Au(e,...t)}function cn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Fa(e),new Error(e)}function jn(n,e){n||cn(e)}function ru(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function XE(){return $y()==="http:"||$y()==="https:"}function $y(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function JE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XE()||uy()||"connection"in navigator)?navigator.onLine:!0}function ZE(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var hi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,jn(t>e,"Short delay should be less than long delay!"),this.isMobile=cy()||hy()}get(){return JE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Tu(n,e){jn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ba=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var tA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nA=new hi(3e4,6e4);function Gn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zn(s,a,l,d){return g(this,arguments,function*(n,e,t,i,r={}){return c_(n,r,()=>g(null,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let v=ws(Object.assign({key:n.config.apiKey},m)).slice(1),x=yield n._getAdditionalHeaders();x["Content-Type"]="application/json",n.languageCode&&(x["X-Firebase-Locale"]=n.languageCode);let C=Object.assign({method:e,headers:x},h);return dy()||(C.referrerPolicy="no-referrer"),n.emulatorConfig&&Pn(n.emulatorConfig.host)&&(C.credentials="include"),Ba.fetch()(yield d_(n,n.config.apiHost,t,v),C)}))})}function c_(n,e,t){return g(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},eA),e);try{let r=new su(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw Pa(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let l=s.ok?a.errorMessage:a.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pa(n,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Pa(n,"email-already-in-use",a);if(d==="USER_DISABLED")throw Pa(n,"user-disabled",a);let m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw l_(n,m,h);$t(n,m)}}catch(r){if(r instanceof ft)throw r;$t(n,"network-request-failed",{message:String(r)})}})}function Ls(s,a,l,d){return g(this,arguments,function*(n,e,t,i,r={}){let h=yield zn(n,e,t,i,r);return"mfaPendingCredential"in h&&$t(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function d_(n,e,t,i){return g(this,null,function*(){let r=`${e}${t}?${i}`,s=n,a=s.config.emulator?Tu(n.config,r):`${n.config.apiScheme}://${r}`;return tA.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a})}function iA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var su=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ui(this.auth,"network-request-failed")),nA.get())})}};function Pa(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=ui(n,e,i);return r.customData._tokenResponse=t,r}function Hy(n){return n!==void 0&&n.enterprise!==void 0}var ou=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function rA(n,e){return g(this,null,function*(){return zn(n,"GET","/v2/recaptchaConfig",Gn(n,e))})}function sA(n,e){return g(this,null,function*(){return zn(n,"POST","/v1/accounts:delete",e)})}function Ua(n,e){return g(this,null,function*(){return zn(n,"POST","/v1/accounts:lookup",e)})}function Ds(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cu(n,e=!1){return g(this,null,function*(){let t=Qe(n),i=yield t.getIdToken(e),r=Su(i);$(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,a=s?.sign_in_provider;return{claims:r,token:i,authTime:Ds(tu(r.auth_time)),issuedAtTime:Ds(tu(r.iat)),expirationTime:Ds(tu(r.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function tu(n){return Number(n)*1e3}function Su(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Fa("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ea(t);return r?JSON.parse(r):(Fa("Failed to decode base64 JWT payload"),null)}catch(r){return Fa("Caught error parsing JWT payload as JSON",r?.toString()),null}}function qy(n){let e=Su(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ms(n,e,t=!1){return g(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof ft&&oA(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function oA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var au=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),t)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ps=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ds(this.lastLoginAt),this.creationTime=Ds(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ja(n){return g(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Ms(n,Ua(t,{idToken:i}));$(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?u_(s.providerUserInfo):[],l=aA(n.providerData,a),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,m=d?h:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ps(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,v)})}function Ru(n){return g(this,null,function*(){let e=Qe(n);yield ja(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function aA(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function u_(n){return n.map(e=>{var{providerId:t}=e,i=Pc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function lA(n,e){return g(this,null,function*(){let t=yield c_(n,{},()=>g(null,null,function*(){let i=ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=yield d_(n,r,"/v1/token",`key=${s}`),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";let d={method:"POST",headers:l,body:i};return n.emulatorConfig&&Pn(n.emulatorConfig.host)&&(d.credentials="include"),Ba.fetch()(a,d)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function cA(n,e){return g(this,null,function*(){return zn(n,"POST","/v2/accounts:revokeToken",Gn(n,e))})}var ks=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=qy(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return g(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return g(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield lA(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new n;return i&&($(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&($(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return cn("not implemented")}};function Bn(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Un=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Pc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new au(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ps(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let t=yield Ms(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Cu(this,e)}reload(){return Ru(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return g(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ja(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(ct(this.auth.app))return Promise.reject(un(this.auth));let e=yield this.getIdToken();return yield Ms(this,sA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,l,d,h,m;let v=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(r=t.email)!==null&&r!==void 0?r:void 0,C=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,k=(a=t.photoURL)!==null&&a!==void 0?a:void 0,F=(l=t.tenantId)!==null&&l!==void 0?l:void 0,M=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,K=(h=t.createdAt)!==null&&h!==void 0?h:void 0,j=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:Q,emailVerified:he,isAnonymous:Je,providerData:de,stsTokenManager:I}=t;$(Q&&I,e,"internal-error");let p=ks.fromJSON(this.name,I);$(typeof Q=="string",e,"internal-error"),Bn(v,e.name),Bn(x,e.name),$(typeof he=="boolean",e,"internal-error"),$(typeof Je=="boolean",e,"internal-error"),Bn(C,e.name),Bn(k,e.name),Bn(F,e.name),Bn(M,e.name),Bn(K,e.name),Bn(j,e.name);let _=new n({uid:Q,auth:e,email:x,emailVerified:he,displayName:v,isAnonymous:Je,photoURL:k,phoneNumber:C,tenantId:F,stsTokenManager:p,createdAt:K,lastLoginAt:j});return de&&Array.isArray(de)&&(_.providerData=de.map(b=>Object.assign({},b))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,t,i=!1){return g(this,null,function*(){let r=new ks;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield ja(s),s})}static _fromGetAccountInfoResponse(e,t,i){return g(this,null,function*(){let r=t.users[0];$(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?u_(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!s?.length,l=new ks;l.updateFromIdToken(i);let d=new n({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ps(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(d,h),d})}};var Wy=new Map;function dn(n){jn(n instanceof Function,"Expected a class definition");let e=Wy.get(n);return e?(jn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wy.set(n,e),e)}var dA=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(t,i){return g(this,null,function*(){this.storage[t]=i})}_get(t){return g(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return g(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),lu=dA;function Oa(n,e,t){return`firebase:${n}:${e}:${t}`}var Ga=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Oa(this.userKey,r.apiKey,s),this.fullPersistenceKey=Oa("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ua(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return g(this,null,function*(){if(!t.length)return new n(dn(lu),e,i);let r=(yield Promise.all(t.map(h=>g(null,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),s=r[0]||dn(lu),a=Oa(i,e.config.apiKey,e.name),l=null;for(let h of t)try{let m=yield h._get(a);if(m){let v;if(typeof m=="string"){let x=yield Ua(e,{idToken:m}).catch(()=>{});if(!x)break;v=yield Un._fromGetAccountInfoResponse(e,x,m)}else v=Un._fromJSON(e,m);h!==s&&(l=v),s=h;break}}catch{}let d=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new n(s,e,i):(s=d[0],l&&(yield s._set(a,l.toJSON())),yield Promise.all(t.map(h=>g(null,null,function*(){if(h!==s)try{yield h._remove(a)}catch{}}))),new n(s,e,i))})}};function Ky(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y_(e))return"Blackberry";if(__(e))return"Webos";if(f_(e))return"Safari";if((e.includes("chrome/")||m_(e))&&!e.includes("edge/"))return"Chrome";if(g_(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function h_(n=Le()){return/firefox\//i.test(n)}function f_(n=Le()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m_(n=Le()){return/crios\//i.test(n)}function p_(n=Le()){return/iemobile/i.test(n)}function g_(n=Le()){return/android/i.test(n)}function y_(n=Le()){return/blackberry/i.test(n)}function __(n=Le()){return/webos/i.test(n)}function Du(n=Le()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uA(n=Le()){var e;return Du(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hA(){return fy()&&document.documentMode===10}function v_(n=Le()){return Du(n)||g_(n)||__(n)||y_(n)||/windows phone/i.test(n)||p_(n)}function b_(n,e=[]){let t;switch(n){case"Browser":t=Ky(Le());break;case"Worker":t=`${Ky(Le())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${On}/${i}`}var cu=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((a,l)=>{try{let d=e(s);a(d)}catch(d){l(d)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function fA(t){return g(this,arguments,function*(n,e={}){return zn(n,"GET","/v2/passwordPolicy",Gn(n,e))})}var mA=6,du=class{constructor(e){var t,i,r,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:mA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var uu=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new za(this),this.idTokenSubscription=new za(this),this.beforeStateQueue=new cu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dn(t)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var i,r,s;if(!this._deleted&&(this.persistenceManager=yield Ga.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let t=yield Ua(this,{idToken:e}),i=yield Un._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var t;if(ct(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return g(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield ja(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZE()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(ct(this.app))return Promise.reject(un(this));let t=e?Qe(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return g(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return ct(this.app)?Promise.reject(un(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ct(this.app)?Promise.reject(un(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(dn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield fA(this),t=new du(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new St("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield cA(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return g(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&dn(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=yield Ga.create(this,[dn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(t);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return g(this,null,function*(){var e;if(ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&YE(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function mi(n){return Qe(n)}var za=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yy(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ya={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pA(n){Ya=n}function x_(n){return Ya.loadJS(n)}function gA(){return Ya.recaptchaEnterpriseScript}function yA(){return Ya.gapiScript}function I_(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var hu=class{constructor(){this.enterprise=new fu}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},fu=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var _A="recaptcha-enterprise",w_="NO_RECAPTCHA",mu=class{constructor(e){this.type=_A,this.auth=mi(e)}verify(e="verify",t=!1){return g(this,null,function*(){function i(s){return g(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,l)=>g(null,null,function*(){rA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let h=new ou(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(d=>{l(d)})}))})}function r(s,a,l){let d=window.grecaptcha;Hy(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(w_)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hu().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!t&&Hy(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=gA();d.length!==0&&(d+=l),x_(d).then(()=>{r(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})})}};function Rs(n,e,t,i=!1,r=!1){return g(this,null,function*(){let s=new mu(n),a;if(r)a=w_;else try{a=yield s.verify(t)}catch{a=yield s.verify(t,!0)}let l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){let d=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){let d=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})}function pu(n,e,t,i,r){return g(this,null,function*(){var s,a;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let l=yield Rs(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(l=>g(null,null,function*(){if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let d=yield Rs(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(l)}));else if(r==="PHONE_PROVIDER")if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){let l=yield Rs(n,e,t);return i(n,l).catch(d=>g(null,null,function*(){var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let m=yield Rs(n,e,t,!1,!0);return i(n,m)}return Promise.reject(d)}))}else{let l=yield Rs(n,e,t,!1,!0);return i(n,l)}else return Promise.reject(r+" provider is not supported.")})}function ku(n,e){let t=Wi(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(Ut(s,e??{}))return r;$t(r,"already-initialized")}return t.initialize({options:e})}function vA(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(dn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Mu(n,e,t){let i=mi(n);$(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=E_(e),{host:a,port:l}=bA(e),d=l===null?"":`:${l}`,h={url:`${s}//${a}${d}/`},m=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(Ut(h,i.config.emulator)&&Ut(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Pn(a)?(Ta(`${s}//${a}${d}`),Ca("Auth",!0)):r||xA()}function E_(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bA(n){let e=E_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Qy(i.substr(s.length+1))}}else{let[s,a]=i.split(":");return{host:s,port:Qy(a)}}}function Qy(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function xA(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Fs=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cn("not implemented")}_getIdTokenResponse(e){return cn("not implemented")}_linkToIdToken(e,t){return cn("not implemented")}_getReauthenticationResolver(e){return cn("not implemented")}};function IA(n,e){return g(this,null,function*(){return zn(n,"POST","/v1/accounts:signUp",e)})}function wA(n,e){return g(this,null,function*(){return Ls(n,"POST","/v1/accounts:signInWithPassword",Gn(n,e))})}function EA(n,e){return g(this,null,function*(){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Gn(n,e))})}function AA(n,e){return g(this,null,function*(){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Gn(n,e))})}var Os=class n extends Fs{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pu(e,t,"signInWithPassword",wA,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return EA(e,{email:this._email,oobCode:this._password});default:$t(e,"internal-error")}})}_linkToIdToken(e,t){return g(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pu(e,i,"signUpPassword",IA,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return AA(e,{idToken:t,email:this._email,oobCode:this._password});default:$t(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function nu(n,e){return g(this,null,function*(){return Ls(n,"POST","/v1/accounts:signInWithIdp",Gn(n,e))})}function TA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CA(n){let e=Hi(qi(n)).link,t=e?Hi(qi(e)).deep_link_id:null,i=Hi(qi(n)).deep_link_id;return(i?Hi(qi(i)).link:null)||i||t||e||n}var $a=class n{constructor(e){var t,i,r,s,a,l;let d=Hi(qi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=TA((r=d.mode)!==null&&r!==void 0?r:null);$(h&&m&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=d.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let t=CA(e);try{return new n(t)}catch{return null}}};var A_=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Os._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=$a.parseLink(i);return $(r,"argument-error"),Os._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ha=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gu=class extends Ha{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function SA(n,e){return g(this,null,function*(){return Ls(n,"POST","/v1/accounts:signUp",Gn(n,e))})}var Xi=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return g(this,null,function*(){let s=yield Un._fromIdTokenResponse(e,i,r),a=Yy(i);return new n({user:s,providerId:a,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return g(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Yy(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function Yy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yu=class n extends ft{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function T_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yu._fromErrorAndOperation(n,s,e,i):s})}function RA(n,e,t=!1){return g(this,null,function*(){let i=yield Ms(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xi._forOperation(n,"link",i)})}function DA(n,e,t=!1){return g(this,null,function*(){let{auth:i}=n;if(ct(i.app))return Promise.reject(un(i));let r="reauthenticate";try{let s=yield Ms(n,T_(i,r,e,n),t);$(s.idToken,i,"internal-error");let a=Su(s.idToken);$(a,i,"internal-error");let{sub:l}=a;return $(n.uid===l,i,"user-mismatch"),Xi._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&$t(i,"user-mismatch"),s}})}function C_(n,e,t=!1){return g(this,null,function*(){if(ct(n.app))return Promise.reject(un(n));let i="signIn",r=yield T_(n,i,e),s=yield Xi._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Pu(n,e){return g(this,null,function*(){return C_(mi(n),e)})}function S_(n){return g(this,null,function*(){let e=mi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Fu(n,e,t){return g(this,null,function*(){if(ct(n.app))return Promise.reject(un(n));let i=mi(n),a=yield pu(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SA,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&S_(n),d}),l=yield Xi._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Ou(n,e,t){return ct(n.app)?Promise.reject(un(n)):Pu(Qe(n),A_.credential(e,t)).catch(i=>g(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&S_(n),i}))}function Vs(n,e,t,i){return Qe(n).onIdTokenChanged(e,t,i)}function Nu(n,e,t){return Qe(n).beforeAuthStateChanged(e,t)}function Lu(n){return Qe(n).signOut()}var qa="__sak";var Wa=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var kA=1e3,MA=10,PA=(()=>{class n extends Wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);hA()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,MA):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},kA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return g(this,null,function*(){yield Cn(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return g(this,null,function*(){let i=yield Cn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return g(this,null,function*(){yield Cn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),R_=PA;var FA=(()=>{class n extends Wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Vu=FA;function OA(n){return Promise.all(n.map(e=>g(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var NA=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return g(this,null,function*(){let i=t,{eventId:r,eventType:s,data:a}=i.data,l=this.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let d=Array.from(l).map(m=>g(this,null,function*(){return m(i.origin,a)})),h=yield OA(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function D_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var _u=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return g(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,d)=>{let h=D_("",20);r.port1.start();let m=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let x=v;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(x.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function zt(){return window}function LA(n){zt().location.href=n}function k_(){return typeof zt().WorkerGlobalScope<"u"&&typeof zt().importScripts=="function"}function VA(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function BA(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UA(){return k_()?self:null}var M_="firebaseLocalStorageDb",jA=1,Ka="firebaseLocalStorage",P_="fbase_key",fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Xa(n,e){return n.transaction([Ka],e?"readwrite":"readonly").objectStore(Ka)}function GA(){let n=indexedDB.deleteDatabase(M_);return new fi(n).toPromise()}function vu(){let n=indexedDB.open(M_,jA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Ka,{keyPath:P_})}catch(r){t(r)}}),n.addEventListener("success",()=>g(null,null,function*(){let i=n.result;i.objectStoreNames.contains(Ka)?e(i):(i.close(),yield GA(),e(yield vu()))}))})}function Xy(n,e,t){return g(this,null,function*(){let i=Xa(n,!0).put({[P_]:e,value:t});return new fi(i).toPromise()})}function zA(n,e){return g(this,null,function*(){let t=Xa(n,!1).get(e),i=yield new fi(t).toPromise();return i===void 0?null:i.value})}function Jy(n,e){let t=Xa(n,!0).delete(e);return new fi(t).toPromise()}var $A=800,HA=3,qA=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield vu(),this.db)})}_withRetries(t){return g(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>HA)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return k_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=NA._getInstance(UA()),this.receiver._subscribe("keyChanged",(t,i)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var t,i;if(this.activeServiceWorker=yield VA(),!this.activeServiceWorker)return;this.sender=new _u(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||BA()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let t=yield vu();return yield Xy(t,qa,"1"),yield Jy(t,qa),!0}catch{}return!1})}_withPendingWrite(t){return g(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>Xy(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return g(this,null,function*(){let i=yield this._withRetries(r=>zA(r,t));return this.localCache[t]=i,i})}_remove(t){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>Jy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return g(this,null,function*(){let t=yield this._withRetries(s=>{let a=Xa(s,!1).getAll();return new fi(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),F_=qA;var bN=I_("rcb"),xN=new hi(3e4,6e4);function WA(n,e){return e?dn(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ns=class extends Fs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nu(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function KA(n){return C_(n.auth,new Ns(n),n.bypassAuthState)}function QA(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),DA(t,new Ns(n),n.bypassAuthState)}function YA(n){return g(this,null,function*(){let{auth:e,user:t}=n;return $(t,e,"internal-error"),RA(t,new Ns(n),n.bypassAuthState)})}var bu=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KA;case"linkViaPopup":case"linkViaRedirect":return YA;case"reauthViaPopup":case"reauthViaRedirect":return QA;default:$t(this.auth,"internal-error")}}resolve(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var IN=new hi(2e3,1e4);var XA="pendingRedirect",Na=new Map,xu=class n extends bu{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return g(this,null,function*(){let e=Na.get(this.auth._key());if(!e){try{let i=(yield JA(this.resolver,this.auth))?yield Cn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Na.set(this.auth._key(),e)}return this.bypassAuthState||Na.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Cn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Cn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function JA(n,e){return g(this,null,function*(){let t=tT(e),i=eT(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function ZA(n,e){Na.set(n._key(),e)}function eT(n){return dn(n._redirectPersistence)}function tT(n){return Oa(XA,n.config.apiKey,n.name)}function nT(n,e,t=!1){return g(this,null,function*(){if(ct(n.app))return Promise.reject(un(n));let i=mi(n),r=WA(i,e),a=yield new xu(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}var iT=10*60*1e3,Iu=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!O_(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}};function Zy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rT(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O_(n);default:return!1}}function sT(t){return g(this,arguments,function*(n,e={}){return zn(n,"GET","/v1/projects",e)})}var oT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aT=/^https?/;function lT(n){return g(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield sT(n);for(let t of e)try{if(cT(t))return}catch{}$t(n,"unauthorized-domain")})}function cT(n){let e=ru(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!aT.test(t))return!1;if(oT.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var dT=new hi(3e4,6e4);function e_(){let n=zt().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uT(n){return new Promise((e,t)=>{var i,r,s;function a(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),t(ui(n,"network-request-failed"))},timeout:dT.get()})}if(!((r=(i=zt().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=zt().gapi)===null||s===void 0)&&s.load)a();else{let l=I_("iframefcb");return zt()[l]=()=>{gapi.load?a():t(ui(n,"network-request-failed"))},x_(`${yA()}?onload=${l}`).catch(d=>t(d))}}).catch(e=>{throw La=null,e})}var La=null;function hT(n){return La=La||uT(n),La}var fT=new hi(5e3,15e3),mT="__/auth/iframe",pT="emulator/auth/iframe",gT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _T(n){let e=n.config;$(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Tu(e,pT):`https://${n.config.authDomain}/${mT}`,i={apiKey:e.apiKey,appName:n.name,v:On},r=yT.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${ws(i).slice(1)}`}function vT(n){return g(this,null,function*(){let e=yield hT(n),t=zt().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:_T(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gT,dontclear:!0},i=>new Promise((r,s)=>g(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=ui(n,"network-request-failed"),l=zt().setTimeout(()=>{s(a)},fT.get());function d(){zt().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{s(a)})})))})}var bT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xT=500,IT=600,wT="_blank",ET="http://localhost",Qa=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AT(n,e,t,i=xT,r=IT){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},bT),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Le().toLowerCase();t&&(l=m_(h)?wT:t),h_(h)&&(e=e||ET,d.scrollbars="yes");let m=Object.entries(d).reduce((x,[C,k])=>`${x}${C}=${k},`,"");if(uA(h)&&l!=="_self")return TT(e||"",l),new Qa(null);let v=window.open(e||"",l,m);$(v,n,"popup-blocked");try{v.focus()}catch{}return new Qa(v)}function TT(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var CT="__/auth/handler",ST="emulator/auth/handler",RT=encodeURIComponent("fac");function t_(n,e,t,i,r,s){return g(this,null,function*(){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:On,eventId:r};if(e instanceof Ha){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",gy(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(s||{}))a[m]=v}if(e instanceof gu){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);let l=a;for(let m of Object.keys(l))l[m]===void 0&&delete l[m];let d=yield n._getAppCheckToken(),h=d?`#${RT}=${encodeURIComponent(d)}`:"";return`${DT(n)}?${ws(l).slice(1)}${h}`})}function DT({config:n}){return n.emulator?Tu(n,ST):`https://${n.authDomain}/${CT}`}var iu="webStorageSupport",wu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vu,this._completeRedirectFn=nT,this._overrideRedirectResult=ZA}_openPopup(e,t,i,r){return g(this,null,function*(){var s;jn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield t_(e,t,i,ru(),r);return AT(e,a,D_())})}_openRedirect(e,t,i,r){return g(this,null,function*(){yield this._originValidation(e);let s=yield t_(e,t,i,ru(),r);return LA(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(jn(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return g(this,null,function*(){let t=yield vT(e),i=new Iu(e);return t.register("authEvent",r=>($(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iu,{type:iu},r=>{var s;let a=(s=r?.[0])===null||s===void 0?void 0:s[iu];a!==void 0&&t(!!a),$t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return v_()||f_()||Du()}},N_=wu;var n_="@firebase/auth",i_="1.10.7";var Eu=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MT(n){Rt(new ot("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b_(n)},h=new uu(i,r,s,d);return vA(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Rt(new ot("auth-internal",e=>{let t=mi(e.getProvider("auth").getImmediate());return(i=>new Eu(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(n_,i_,kT(n)),Ee(n_,i_,"esm2017")}var PT=5*60,FT=kd("authIdTokenMaxAge")||PT,r_=null,OT=n=>e=>g(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>FT)return;let r=t?.token;r_!==r&&(r_=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bu(n=li()){let e=Wi(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ku(n,{popupRedirectResolver:N_,persistence:[F_,R_,Vu]}),i=kd("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let a=OT(s.toString());Nu(t,a,()=>a(t.currentUser)),Vs(t,l=>a(l))}}let r=Rd("auth");return r&&Mu(t,`http://${r}`),t}function NT(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pA({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=ui("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",NT().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MT("Browser");function B_(n){return new tt(function(e){var t=Vs(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var U_="auth",hn=class{constructor(e){return e}},Bs=class{constructor(){return Qi(U_)}};var Uu=new q("angularfire2.auth-instances");function wC(n,e){let t=Ts(U_,n,e);return t&&new hn(t)}function EC(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new hn(i)}}var AC={provide:Bs,deps:[[new gt,Uu]]},TC={provide:hn,useFactory:wC,deps:[[new gt,Uu],ln]};function mL(n,...e){return Ee("angularfire",Nn.full,"auth"),Pi([TC,AC,{provide:Uu,useFactory:EC(n),multi:!0,deps:[Z,Oe,Ln,di,[new gt,Yi],...e]}])}var j_=dt(B_,!0);var G_=dt(Fu,!0,2);var pL=dt(Bu,!0);var z_=dt(Ou,!0,2);var $_=dt(Lu,!0,2);var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W_={};var fn,ju;(function(){var n;function e(I,p){function _(){}_.prototype=p.prototype,I.D=p.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(b,w,A){for(var y=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)y[Jt-2]=arguments[Jt];return p.prototype[w].apply(b,y)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,p,_){_||(_=0);var b=Array(16);if(typeof p=="string")for(var w=0;16>w;++w)b[w]=p.charCodeAt(_++)|p.charCodeAt(_++)<<8|p.charCodeAt(_++)<<16|p.charCodeAt(_++)<<24;else for(w=0;16>w;++w)b[w]=p[_++]|p[_++]<<8|p[_++]<<16|p[_++]<<24;p=I.g[0],_=I.g[1],w=I.g[2];var A=I.g[3],y=p+(A^_&(w^A))+b[0]+3614090360&4294967295;p=_+(y<<7&4294967295|y>>>25),y=A+(w^p&(_^w))+b[1]+3905402710&4294967295,A=p+(y<<12&4294967295|y>>>20),y=w+(_^A&(p^_))+b[2]+606105819&4294967295,w=A+(y<<17&4294967295|y>>>15),y=_+(p^w&(A^p))+b[3]+3250441966&4294967295,_=w+(y<<22&4294967295|y>>>10),y=p+(A^_&(w^A))+b[4]+4118548399&4294967295,p=_+(y<<7&4294967295|y>>>25),y=A+(w^p&(_^w))+b[5]+1200080426&4294967295,A=p+(y<<12&4294967295|y>>>20),y=w+(_^A&(p^_))+b[6]+2821735955&4294967295,w=A+(y<<17&4294967295|y>>>15),y=_+(p^w&(A^p))+b[7]+4249261313&4294967295,_=w+(y<<22&4294967295|y>>>10),y=p+(A^_&(w^A))+b[8]+1770035416&4294967295,p=_+(y<<7&4294967295|y>>>25),y=A+(w^p&(_^w))+b[9]+2336552879&4294967295,A=p+(y<<12&4294967295|y>>>20),y=w+(_^A&(p^_))+b[10]+4294925233&4294967295,w=A+(y<<17&4294967295|y>>>15),y=_+(p^w&(A^p))+b[11]+2304563134&4294967295,_=w+(y<<22&4294967295|y>>>10),y=p+(A^_&(w^A))+b[12]+1804603682&4294967295,p=_+(y<<7&4294967295|y>>>25),y=A+(w^p&(_^w))+b[13]+4254626195&4294967295,A=p+(y<<12&4294967295|y>>>20),y=w+(_^A&(p^_))+b[14]+2792965006&4294967295,w=A+(y<<17&4294967295|y>>>15),y=_+(p^w&(A^p))+b[15]+1236535329&4294967295,_=w+(y<<22&4294967295|y>>>10),y=p+(w^A&(_^w))+b[1]+4129170786&4294967295,p=_+(y<<5&4294967295|y>>>27),y=A+(_^w&(p^_))+b[6]+3225465664&4294967295,A=p+(y<<9&4294967295|y>>>23),y=w+(p^_&(A^p))+b[11]+643717713&4294967295,w=A+(y<<14&4294967295|y>>>18),y=_+(A^p&(w^A))+b[0]+3921069994&4294967295,_=w+(y<<20&4294967295|y>>>12),y=p+(w^A&(_^w))+b[5]+3593408605&4294967295,p=_+(y<<5&4294967295|y>>>27),y=A+(_^w&(p^_))+b[10]+38016083&4294967295,A=p+(y<<9&4294967295|y>>>23),y=w+(p^_&(A^p))+b[15]+3634488961&4294967295,w=A+(y<<14&4294967295|y>>>18),y=_+(A^p&(w^A))+b[4]+3889429448&4294967295,_=w+(y<<20&4294967295|y>>>12),y=p+(w^A&(_^w))+b[9]+568446438&4294967295,p=_+(y<<5&4294967295|y>>>27),y=A+(_^w&(p^_))+b[14]+3275163606&4294967295,A=p+(y<<9&4294967295|y>>>23),y=w+(p^_&(A^p))+b[3]+4107603335&4294967295,w=A+(y<<14&4294967295|y>>>18),y=_+(A^p&(w^A))+b[8]+1163531501&4294967295,_=w+(y<<20&4294967295|y>>>12),y=p+(w^A&(_^w))+b[13]+2850285829&4294967295,p=_+(y<<5&4294967295|y>>>27),y=A+(_^w&(p^_))+b[2]+4243563512&4294967295,A=p+(y<<9&4294967295|y>>>23),y=w+(p^_&(A^p))+b[7]+1735328473&4294967295,w=A+(y<<14&4294967295|y>>>18),y=_+(A^p&(w^A))+b[12]+2368359562&4294967295,_=w+(y<<20&4294967295|y>>>12),y=p+(_^w^A)+b[5]+4294588738&4294967295,p=_+(y<<4&4294967295|y>>>28),y=A+(p^_^w)+b[8]+2272392833&4294967295,A=p+(y<<11&4294967295|y>>>21),y=w+(A^p^_)+b[11]+1839030562&4294967295,w=A+(y<<16&4294967295|y>>>16),y=_+(w^A^p)+b[14]+4259657740&4294967295,_=w+(y<<23&4294967295|y>>>9),y=p+(_^w^A)+b[1]+2763975236&4294967295,p=_+(y<<4&4294967295|y>>>28),y=A+(p^_^w)+b[4]+1272893353&4294967295,A=p+(y<<11&4294967295|y>>>21),y=w+(A^p^_)+b[7]+4139469664&4294967295,w=A+(y<<16&4294967295|y>>>16),y=_+(w^A^p)+b[10]+3200236656&4294967295,_=w+(y<<23&4294967295|y>>>9),y=p+(_^w^A)+b[13]+681279174&4294967295,p=_+(y<<4&4294967295|y>>>28),y=A+(p^_^w)+b[0]+3936430074&4294967295,A=p+(y<<11&4294967295|y>>>21),y=w+(A^p^_)+b[3]+3572445317&4294967295,w=A+(y<<16&4294967295|y>>>16),y=_+(w^A^p)+b[6]+76029189&4294967295,_=w+(y<<23&4294967295|y>>>9),y=p+(_^w^A)+b[9]+3654602809&4294967295,p=_+(y<<4&4294967295|y>>>28),y=A+(p^_^w)+b[12]+3873151461&4294967295,A=p+(y<<11&4294967295|y>>>21),y=w+(A^p^_)+b[15]+530742520&4294967295,w=A+(y<<16&4294967295|y>>>16),y=_+(w^A^p)+b[2]+3299628645&4294967295,_=w+(y<<23&4294967295|y>>>9),y=p+(w^(_|~A))+b[0]+4096336452&4294967295,p=_+(y<<6&4294967295|y>>>26),y=A+(_^(p|~w))+b[7]+1126891415&4294967295,A=p+(y<<10&4294967295|y>>>22),y=w+(p^(A|~_))+b[14]+2878612391&4294967295,w=A+(y<<15&4294967295|y>>>17),y=_+(A^(w|~p))+b[5]+4237533241&4294967295,_=w+(y<<21&4294967295|y>>>11),y=p+(w^(_|~A))+b[12]+1700485571&4294967295,p=_+(y<<6&4294967295|y>>>26),y=A+(_^(p|~w))+b[3]+2399980690&4294967295,A=p+(y<<10&4294967295|y>>>22),y=w+(p^(A|~_))+b[10]+4293915773&4294967295,w=A+(y<<15&4294967295|y>>>17),y=_+(A^(w|~p))+b[1]+2240044497&4294967295,_=w+(y<<21&4294967295|y>>>11),y=p+(w^(_|~A))+b[8]+1873313359&4294967295,p=_+(y<<6&4294967295|y>>>26),y=A+(_^(p|~w))+b[15]+4264355552&4294967295,A=p+(y<<10&4294967295|y>>>22),y=w+(p^(A|~_))+b[6]+2734768916&4294967295,w=A+(y<<15&4294967295|y>>>17),y=_+(A^(w|~p))+b[13]+1309151649&4294967295,_=w+(y<<21&4294967295|y>>>11),y=p+(w^(_|~A))+b[4]+4149444226&4294967295,p=_+(y<<6&4294967295|y>>>26),y=A+(_^(p|~w))+b[11]+3174756917&4294967295,A=p+(y<<10&4294967295|y>>>22),y=w+(p^(A|~_))+b[2]+718787259&4294967295,w=A+(y<<15&4294967295|y>>>17),y=_+(A^(w|~p))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+p&4294967295,I.g[1]=I.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+A&4294967295}i.prototype.u=function(I,p){p===void 0&&(p=I.length);for(var _=p-this.blockSize,b=this.B,w=this.h,A=0;A<p;){if(w==0)for(;A<=_;)r(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<p;)if(b[w++]=I.charCodeAt(A++),w==this.blockSize){r(this,b),w=0;break}}else for(;A<p;)if(b[w++]=I[A++],w==this.blockSize){r(this,b),w=0;break}}this.h=w,this.o+=p},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var p=1;p<I.length-8;++p)I[p]=0;var _=8*this.o;for(p=I.length-8;p<I.length;++p)I[p]=_&255,_/=256;for(this.u(I),I=Array(16),p=_=0;4>p;++p)for(var b=0;32>b;b+=8)I[_++]=this.g[p]>>>b&255;return I};function s(I,p){var _=l;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=p(I)}function a(I,p){this.h=p;for(var _=[],b=!0,w=I.length-1;0<=w;w--){var A=I[w]|0;b&&A==p||(_[w]=A,b=!1)}this.g=_}var l={};function d(I){return-128<=I&&128>I?s(I,function(p){return new a([p|0],0>p?-1:0)}):new a([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return v;if(0>I)return M(h(-I));for(var p=[],_=1,b=0;I>=_;b++)p[b]=I/_|0,_*=4294967296;return new a(p,0)}function m(I,p){if(I.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(I.charAt(0)=="-")return M(m(I.substring(1),p));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(p,8)),b=v,w=0;w<I.length;w+=8){var A=Math.min(8,I.length-w),y=parseInt(I.substring(w,w+A),p);8>A?(A=h(Math.pow(p,A)),b=b.j(A).add(h(y))):(b=b.j(_),b=b.add(h(y)))}return b}var v=d(0),x=d(1),C=d(16777216);n=a.prototype,n.m=function(){if(F(this))return-M(this).m();for(var I=0,p=1,_=0;_<this.g.length;_++){var b=this.i(_);I+=(0<=b?b:4294967296+b)*p,p*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(F(this))return"-"+M(this).toString(I);for(var p=h(Math.pow(I,6)),_=this,b="";;){var w=he(_,p).g;_=K(_,w.j(p));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=w,k(_))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var p=0;p<I.g.length;p++)if(I.g[p]!=0)return!1;return!0}function F(I){return I.h==-1}n.l=function(I){return I=K(this,I),F(I)?-1:k(I)?0:1};function M(I){for(var p=I.g.length,_=[],b=0;b<p;b++)_[b]=~I.g[b];return new a(_,~I.h).add(x)}n.abs=function(){return F(this)?M(this):this},n.add=function(I){for(var p=Math.max(this.g.length,I.g.length),_=[],b=0,w=0;w<=p;w++){var A=b+(this.i(w)&65535)+(I.i(w)&65535),y=(A>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);b=y>>>16,A&=65535,y&=65535,_[w]=y<<16|A}return new a(_,_[_.length-1]&-2147483648?-1:0)};function K(I,p){return I.add(M(p))}n.j=function(I){if(k(this)||k(I))return v;if(F(this))return F(I)?M(this).j(M(I)):M(M(this).j(I));if(F(I))return M(this.j(M(I)));if(0>this.l(C)&&0>I.l(C))return h(this.m()*I.m());for(var p=this.g.length+I.g.length,_=[],b=0;b<2*p;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var w=0;w<I.g.length;w++){var A=this.i(b)>>>16,y=this.i(b)&65535,Jt=I.i(w)>>>16,Sr=I.i(w)&65535;_[2*b+2*w]+=y*Sr,j(_,2*b+2*w),_[2*b+2*w+1]+=A*Sr,j(_,2*b+2*w+1),_[2*b+2*w+1]+=y*Jt,j(_,2*b+2*w+1),_[2*b+2*w+2]+=A*Jt,j(_,2*b+2*w+2)}for(b=0;b<p;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=p;b<2*p;b++)_[b]=0;return new a(_,0)};function j(I,p){for(;(I[p]&65535)!=I[p];)I[p+1]+=I[p]>>>16,I[p]&=65535,p++}function Q(I,p){this.g=I,this.h=p}function he(I,p){if(k(p))throw Error("division by zero");if(k(I))return new Q(v,v);if(F(I))return p=he(M(I),p),new Q(M(p.g),M(p.h));if(F(p))return p=he(I,M(p)),new Q(M(p.g),p.h);if(30<I.g.length){if(F(I)||F(p))throw Error("slowDivide_ only works with positive integers.");for(var _=x,b=p;0>=b.l(I);)_=Je(_),b=Je(b);var w=de(_,1),A=de(b,1);for(b=de(b,2),_=de(_,2);!k(b);){var y=A.add(b);0>=y.l(I)&&(w=w.add(_),A=y),b=de(b,1),_=de(_,1)}return p=K(I,w.j(p)),new Q(w,p)}for(w=v;0<=I.l(p);){for(_=Math.max(1,Math.floor(I.m()/p.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=h(_),y=A.j(p);F(y)||0<y.l(I);)_-=b,A=h(_),y=A.j(p);k(A)&&(A=x),w=w.add(A),I=K(I,y)}return new Q(w,I)}n.A=function(I){return he(this,I).h},n.and=function(I){for(var p=Math.max(this.g.length,I.g.length),_=[],b=0;b<p;b++)_[b]=this.i(b)&I.i(b);return new a(_,this.h&I.h)},n.or=function(I){for(var p=Math.max(this.g.length,I.g.length),_=[],b=0;b<p;b++)_[b]=this.i(b)|I.i(b);return new a(_,this.h|I.h)},n.xor=function(I){for(var p=Math.max(this.g.length,I.g.length),_=[],b=0;b<p;b++)_[b]=this.i(b)^I.i(b);return new a(_,this.h^I.h)};function Je(I){for(var p=I.g.length+1,_=[],b=0;b<p;b++)_[b]=I.i(b)<<1|I.i(b-1)>>>31;return new a(_,I.h)}function de(I,p){var _=p>>5;p%=32;for(var b=I.g.length-_,w=[],A=0;A<b;A++)w[A]=0<p?I.i(A+_)>>>p|I.i(A+_+1)<<32-p:I.i(A+_);return new a(w,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ju=W_.Md5=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,fn=W_.Integer=a}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mn={};var Gu,CC,Ji,zu,Us,Za,$u,Hu,qu;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,u){return o==Array.prototype||o==Object.prototype||(o[c]=u.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ja=="object"&&Ja];for(var c=0;c<o.length;++c){var u=o[c];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var i=t(this);function r(o,c){if(c)e:{var u=i;o=o.split(".");for(var f=0;f<o.length-1;f++){var E=o[f];if(!(E in u))break e;u=u[E]}o=o[o.length-1],f=u[o],c=c(f),c!=f&&c!=null&&e(u,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var u=0,f=!1,E={next:function(){if(!f&&u<o.length){var T=u++;return{value:c(T,o[T]),done:!1}}return f=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,u){return u})}});var a=a||{},l=this||self;function d(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function m(o,c,u){return o.call.apply(o.bind,arguments)}function v(o,c,u){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,f),o.apply(c,E)}}return function(){return o.apply(c,arguments)}}function x(o,c,u){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function C(o,c){var u=Array.prototype.slice.call(arguments,1);return function(){var f=u.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function k(o,c){function u(){}u.prototype=c.prototype,o.aa=c.prototype,o.prototype=new u,o.prototype.constructor=o,o.Qb=function(f,E,T){for(var P=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)P[fe-2]=arguments[fe];return c.prototype[E].apply(f,P)}}function F(o){let c=o.length;if(0<c){let u=Array(c);for(let f=0;f<c;f++)u[f]=o[f];return u}return[]}function M(o,c){for(let u=1;u<arguments.length;u++){let f=arguments[u];if(d(f)){let E=o.length||0,T=f.length||0;o.length=E+T;for(let P=0;P<T;P++)o[E+P]=f[P]}else o.push(f)}}class K{constructor(c,u){this.i=c,this.j=u,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function j(o){return/^[\s\xa0]*$/.test(o)}function Q(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function he(o){return he[" "](o),o}he[" "]=function(){};var Je=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function de(o,c,u){for(let f in o)c.call(u,o[f],f,o)}function I(o,c){for(let u in o)c.call(void 0,o[u],u,o)}function p(o){let c={};for(let u in o)c[u]=o[u];return c}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,c){let u,f;for(let E=1;E<arguments.length;E++){f=arguments[E];for(u in f)o[u]=f[u];for(let T=0;T<_.length;T++)u=_[T],Object.prototype.hasOwnProperty.call(f,u)&&(o[u]=f[u])}}function w(o){var c=1;o=o.split(":");let u=[];for(;0<c&&o.length;)u.push(o.shift()),c--;return o.length&&u.push(o.join(":")),u}function A(o){l.setTimeout(()=>{throw o},0)}function y(){var o=lc;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Jt{constructor(){this.h=this.g=null}add(c,u){let f=Sr.get();f.set(c,u),this.h?this.h.next=f:this.g=f,this.h=f}}var Sr=new K(()=>new Lx,o=>o.reset());class Lx{constructor(){this.next=this.g=this.h=null}set(c,u){this.h=c,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let Rr,Dr=!1,lc=new Jt,fm=()=>{let o=l.Promise.resolve(void 0);Rr=()=>{o.then(Vx)}};var Vx=()=>{for(var o;o=y();){try{o.h.call(o.g)}catch(u){A(u)}var c=Sr;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}Dr=!1};function wn(){this.s=this.s,this.C=this.C}wn.prototype.s=!1,wn.prototype.ma=function(){this.s||(this.s=!0,this.N())},wn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var Bx=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let u=()=>{};l.addEventListener("test",u,c),l.removeEventListener("test",u,c)}catch{}return o}();function kr(o,c){if(Ge.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var u=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(Je){e:{try{he(c.nodeName);var E=!0;break e}catch{}E=!1}E||(c=null)}}else u=="mouseover"?c=o.fromElement:u=="mouseout"&&(c=o.toElement);this.relatedTarget=c,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ux[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&kr.aa.h.call(this)}}k(kr,Ge);var Ux={2:"touch",3:"pen",4:"mouse"};kr.prototype.h=function(){kr.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Mr="closure_listenable_"+(1e6*Math.random()|0),jx=0;function Gx(o,c,u,f,E){this.listener=o,this.proxy=null,this.src=c,this.type=u,this.capture=!!f,this.ha=E,this.key=++jx,this.da=this.fa=!1}function mo(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function po(o){this.src=o,this.g={},this.h=0}po.prototype.add=function(o,c,u,f,E){var T=o.toString();o=this.g[T],o||(o=this.g[T]=[],this.h++);var P=dc(o,c,f,E);return-1<P?(c=o[P],u||(c.fa=!1)):(c=new Gx(c,this.src,T,!!f,E),c.fa=u,o.push(c)),c};function cc(o,c){var u=c.type;if(u in o.g){var f=o.g[u],E=Array.prototype.indexOf.call(f,c,void 0),T;(T=0<=E)&&Array.prototype.splice.call(f,E,1),T&&(mo(c),o.g[u].length==0&&(delete o.g[u],o.h--))}}function dc(o,c,u,f){for(var E=0;E<o.length;++E){var T=o[E];if(!T.da&&T.listener==c&&T.capture==!!u&&T.ha==f)return E}return-1}var uc="closure_lm_"+(1e6*Math.random()|0),hc={};function mm(o,c,u,f,E){if(f&&f.once)return gm(o,c,u,f,E);if(Array.isArray(c)){for(var T=0;T<c.length;T++)mm(o,c[T],u,f,E);return null}return u=gc(u),o&&o[Mr]?o.K(c,u,h(f)?!!f.capture:!!f,E):pm(o,c,u,!1,f,E)}function pm(o,c,u,f,E,T){if(!c)throw Error("Invalid event type");var P=h(E)?!!E.capture:!!E,fe=mc(o);if(fe||(o[uc]=fe=new po(o)),u=fe.add(c,u,f,P,T),u.proxy)return u;if(f=zx(),u.proxy=f,f.src=o,f.listener=u,o.addEventListener)Bx||(E=P),E===void 0&&(E=!1),o.addEventListener(c.toString(),f,E);else if(o.attachEvent)o.attachEvent(_m(c.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return u}function zx(){function o(u){return c.call(o.src,o.listener,u)}let c=$x;return o}function gm(o,c,u,f,E){if(Array.isArray(c)){for(var T=0;T<c.length;T++)gm(o,c[T],u,f,E);return null}return u=gc(u),o&&o[Mr]?o.L(c,u,h(f)?!!f.capture:!!f,E):pm(o,c,u,!0,f,E)}function ym(o,c,u,f,E){if(Array.isArray(c))for(var T=0;T<c.length;T++)ym(o,c[T],u,f,E);else f=h(f)?!!f.capture:!!f,u=gc(u),o&&o[Mr]?(o=o.i,c=String(c).toString(),c in o.g&&(T=o.g[c],u=dc(T,u,f,E),-1<u&&(mo(T[u]),Array.prototype.splice.call(T,u,1),T.length==0&&(delete o.g[c],o.h--)))):o&&(o=mc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=dc(c,u,f,E)),(u=-1<o?c[o]:null)&&fc(u))}function fc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Mr])cc(c.i,o);else{var u=o.type,f=o.proxy;c.removeEventListener?c.removeEventListener(u,f,o.capture):c.detachEvent?c.detachEvent(_m(u),f):c.addListener&&c.removeListener&&c.removeListener(f),(u=mc(c))?(cc(u,o),u.h==0&&(u.src=null,c[uc]=null)):mo(o)}}}function _m(o){return o in hc?hc[o]:hc[o]="on"+o}function $x(o,c){if(o.da)o=!0;else{c=new kr(c,this);var u=o.listener,f=o.ha||o.src;o.fa&&fc(o),o=u.call(f,c)}return o}function mc(o){return o=o[uc],o instanceof po?o:null}var pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function gc(o){return typeof o=="function"?o:(o[pc]||(o[pc]=function(c){return o.handleEvent(c)}),o[pc])}function ze(){wn.call(this),this.i=new po(this),this.M=this,this.F=null}k(ze,wn),ze.prototype[Mr]=!0,ze.prototype.removeEventListener=function(o,c,u,f){ym(this,o,c,u,f)};function Ze(o,c){var u,f=o.F;if(f)for(u=[];f;f=f.F)u.push(f);if(o=o.M,f=c.type||c,typeof c=="string")c=new Ge(c,o);else if(c instanceof Ge)c.target=c.target||o;else{var E=c;c=new Ge(f,o),b(c,E)}if(E=!0,u)for(var T=u.length-1;0<=T;T--){var P=c.g=u[T];E=go(P,f,!0,c)&&E}if(P=c.g=o,E=go(P,f,!0,c)&&E,E=go(P,f,!1,c)&&E,u)for(T=0;T<u.length;T++)P=c.g=u[T],E=go(P,f,!1,c)&&E}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var u=o.g[c],f=0;f<u.length;f++)mo(u[f]);delete o.g[c],o.h--}}this.F=null},ze.prototype.K=function(o,c,u,f){return this.i.add(String(o),c,!1,u,f)},ze.prototype.L=function(o,c,u,f){return this.i.add(String(o),c,!0,u,f)};function go(o,c,u,f){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var E=!0,T=0;T<c.length;++T){var P=c[T];if(P&&!P.da&&P.capture==u){var fe=P.listener,Ue=P.ha||P.src;P.fa&&cc(o.i,P),E=fe.call(Ue,f)!==!1&&E}}return E&&!f.defaultPrevented}function vm(o,c,u){if(typeof o=="function")u&&(o=x(o,u));else if(o&&typeof o.handleEvent=="function")o=x(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function bm(o){o.g=vm(()=>{o.g=null,o.i&&(o.i=!1,bm(o))},o.l);let c=o.h;o.h=null,o.m.apply(null,c)}class Hx extends wn{constructor(c,u){super(),this.m=c,this.l=u,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:bm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(o){wn.call(this),this.h=o,this.g={}}k(Pr,wn);var xm=[];function Im(o){de(o.g,function(c,u){this.g.hasOwnProperty(u)&&fc(c)},o),o.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Im(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yc=l.JSON.stringify,qx=l.JSON.parse,Wx=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function _c(){}_c.prototype.h=null;function wm(o){return o.h||(o.h=o.i())}function Em(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vc(){Ge.call(this,"d")}k(vc,Ge);function bc(){Ge.call(this,"c")}k(bc,Ge);var Kn={},Am=null;function yo(){return Am=Am||new ze}Kn.La="serverreachability";function Tm(o){Ge.call(this,Kn.La,o)}k(Tm,Ge);function Or(o){let c=yo();Ze(c,new Tm(c))}Kn.STAT_EVENT="statevent";function Cm(o,c){Ge.call(this,Kn.STAT_EVENT,o),this.stat=c}k(Cm,Ge);function et(o){let c=yo();Ze(c,new Cm(c,o))}Kn.Ma="timingevent";function Sm(o,c){Ge.call(this,Kn.Ma,o),this.size=c}k(Sm,Ge);function Nr(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function Kx(o,c,u,f,E,T){o.info(function(){if(o.g)if(T)for(var P="",fe=T.split("&"),Ue=0;Ue<fe.length;Ue++){var ae=fe[Ue].split("=");if(1<ae.length){var $e=ae[0];ae=ae[1];var He=$e.split("_");P=2<=He.length&&He[1]=="type"?P+($e+"="+ae+"&"):P+($e+"=redacted&")}}else P=null;else P=T;return"XMLHTTP REQ ("+f+") [attempt "+E+"]: "+c+`
`+u+`
`+P})}function Qx(o,c,u,f,E,T,P){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+E+"]: "+c+`
`+u+`
`+T+" "+P})}function Ri(o,c,u,f){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Xx(o,u)+(f?" "+f:"")})}function Yx(o,c){o.info(function(){return"TIMEOUT: "+c})}Lr.prototype.info=function(){};function Xx(o,c){if(!o.g)return c;if(!c)return null;try{var u=JSON.parse(c);if(u){for(o=0;o<u.length;o++)if(Array.isArray(u[o])){var f=u[o];if(!(2>f.length)){var E=f[1];if(Array.isArray(E)&&!(1>E.length)){var T=E[0];if(T!="noop"&&T!="stop"&&T!="close")for(var P=1;P<E.length;P++)E[P]=""}}}}return yc(u)}catch{return c}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xc;function vo(){}k(vo,_c),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},xc=new vo;function En(o,c,u,f){this.j=o,this.i=c,this.l=u,this.R=f||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dm}function Dm(){this.i=null,this.g="",this.h=!1}var km={},Ic={};function wc(o,c,u){o.L=1,o.v=wo(Zt(c)),o.m=u,o.P=!0,Mm(o,null)}function Mm(o,c){o.F=Date.now(),bo(o),o.A=Zt(o.v);var u=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),qm(u.i,"t",f),o.C=0,u=o.j.J,o.h=new Dm,o.g=dp(o.j,u?c:null,!o.m),0<o.O&&(o.M=new Hx(x(o.Y,o,o.g),o.O)),c=o.U,u=o.g,f=o.ca;var E="readystatechange";Array.isArray(E)||(E&&(xm[0]=E.toString()),E=xm);for(var T=0;T<E.length;T++){var P=mm(u,E[T],f||c.handleEvent,!1,c.h||c);if(!P)break;c.g[P.key]=P}c=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Or(),Kx(o.i,o.u,o.A,o.l,o.R,o.m)}En.prototype.ca=function(o){o=o.target;let c=this.M;c&&en(o)==3?c.j():this.Y(o)},En.prototype.Y=function(o){try{if(o==this.g)e:{let He=en(this.g);var c=this.g.Ba();let Mi=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||Zm(this.g)))){this.J||He!=4||c==7||(c==8||0>=Mi?Or(3):Or(2)),Ec(this);var u=this.g.Z();this.X=u;t:if(Pm(this)){var f=Zm(this.g);o="";var E=f.length,T=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Vr(this);var P="";break t}this.h.i=new l.TextDecoder}for(c=0;c<E;c++)this.h.h=!0,o+=this.h.i.decode(f[c],{stream:!(T&&c==E-1)});f.length=0,this.h.g+=o,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=u==200,Qx(this.i,this.u,this.A,this.l,this.R,He,u),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,Ue=this.g;if((fe=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(fe)){var ae=fe;break t}}ae=null}if(u=ae)Ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ac(this,u);else{this.o=!1,this.s=3,et(12),Qn(this),Vr(this);break e}}if(this.P){u=!0;let xt;for(;!this.J&&this.C<P.length;)if(xt=Jx(this,P),xt==Ic){He==4&&(this.s=4,et(14),u=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==km){this.s=4,et(15),Ri(this.i,this.l,P,"[Invalid Chunk]"),u=!1;break}else Ri(this.i,this.l,xt,null),Ac(this,xt);if(Pm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||P.length!=0||this.h.h||(this.s=1,et(16),u=!1),this.o=this.o&&u,!u)Ri(this.i,this.l,P,"[Invalid Chunked Response]"),Qn(this),Vr(this);else if(0<P.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),kc($e),$e.M=!0,et(11))}}else Ri(this.i,this.l,P,null),Ac(this,P);He==4&&Qn(this),this.o&&!this.J&&(He==4?op(this.j,this):(this.o=!1,bo(this)))}else p0(this.g),u==400&&0<P.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Qn(this),Vr(this)}}}catch{}finally{}};function Pm(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Jx(o,c){var u=o.C,f=c.indexOf(`
`,u);return f==-1?Ic:(u=Number(c.substring(u,f)),isNaN(u)?km:(f+=1,f+u>c.length?Ic:(c=c.slice(f,f+u),o.C=f+u,c)))}En.prototype.cancel=function(){this.J=!0,Qn(this)};function bo(o){o.S=Date.now()+o.I,Fm(o,o.I)}function Fm(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Nr(x(o.ba,o),c)}function Ec(o){o.B&&(l.clearTimeout(o.B),o.B=null)}En.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(Yx(this.i,this.A),this.L!=2&&(Or(),et(17)),Qn(this),this.s=2,Vr(this)):Fm(this,this.S-o)};function Vr(o){o.j.G==0||o.J||op(o.j,o)}function Qn(o){Ec(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Im(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Ac(o,c){try{var u=o.j;if(u.G!=0&&(u.g==o||Tc(u.h,o))){if(!o.K&&Tc(u.h,o)&&u.G==3){try{var f=u.Da.g.parse(c)}catch{f=null}if(Array.isArray(f)&&f.length==3){var E=f;if(E[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<o.F)So(u),To(u);else break e;Dc(u),et(18)}}else u.za=E[1],0<u.za-u.T&&37500>E[2]&&u.F&&u.v==0&&!u.C&&(u.C=Nr(x(u.Za,u),6e3));if(1>=Lm(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else Xn(u,11)}else if((o.K||u.g==o)&&So(u),!j(c))for(E=u.Da.g.parse(c),c=0;c<E.length;c++){let ae=E[c];if(u.T=ae[0],ae=ae[1],u.G==2)if(ae[0]=="c"){u.K=ae[1],u.ia=ae[2];let $e=ae[3];$e!=null&&(u.la=$e,u.j.info("VER="+u.la));let He=ae[4];He!=null&&(u.Aa=He,u.j.info("SVER="+u.Aa));let Mi=ae[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(f=1.5*Mi,u.L=f,u.j.info("backChannelRequestTimeoutMs_="+f)),f=u;let xt=o.g;if(xt){let Do=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var T=f.h;T.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(Cc(T,T.h),T.h=null))}if(f.D){let Mc=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(f.ya=Mc,ge(f.I,f.D,Mc))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-o.F,u.j.info("Handshake RTT: "+u.R+"ms")),f=u;var P=o;if(f.qa=cp(f,f.J?f.ia:null,f.W),P.K){Vm(f.h,P);var fe=P,Ue=f.L;Ue&&(fe.I=Ue),fe.B&&(Ec(fe),bo(fe)),f.g=P}else rp(f);0<u.i.length&&Co(u)}else ae[0]!="stop"&&ae[0]!="close"||Xn(u,7);else u.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Xn(u,7):Rc(u):ae[0]!="noop"&&u.l&&u.l.ta(ae),u.v=0)}}Or(4)}catch{}}var Zx=class{constructor(o,c){this.g=o,this.map=c}};function Om(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nm(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Lm(o){return o.h?1:o.g?o.g.size:0}function Tc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Cc(o,c){o.g?o.g.add(c):o.h=c}function Vm(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Om.prototype.cancel=function(){if(this.i=Bm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Bm(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(let u of o.g.values())c=c.concat(u.D);return c}return F(o.i)}function e0(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(d(o)){for(var c=[],u=o.length,f=0;f<u;f++)c.push(o[f]);return c}c=[],u=0;for(f in o)c[u++]=o[f];return c}function t0(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(d(o)||typeof o=="string"){var c=[];o=o.length;for(var u=0;u<o;u++)c.push(u);return c}c=[],u=0;for(let f in o)c[u++]=f;return c}}}function Um(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(d(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var u=t0(o),f=e0(o),E=f.length,T=0;T<E;T++)c.call(void 0,f[T],u&&u[T],o)}var jm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function n0(o,c){if(o){o=o.split("&");for(var u=0;u<o.length;u++){var f=o[u].indexOf("="),E=null;if(0<=f){var T=o[u].substring(0,f);E=o[u].substring(f+1)}else T=o[u];c(T,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Yn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Yn){this.h=o.h,xo(this,o.j),this.o=o.o,this.g=o.g,Io(this,o.s),this.l=o.l;var c=o.i,u=new jr;u.i=c.i,c.g&&(u.g=new Map(c.g),u.h=c.h),Gm(this,u),this.m=o.m}else o&&(c=String(o).match(jm))?(this.h=!1,xo(this,c[1]||"",!0),this.o=Br(c[2]||""),this.g=Br(c[3]||"",!0),Io(this,c[4]),this.l=Br(c[5]||"",!0),Gm(this,c[6]||"",!0),this.m=Br(c[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}Yn.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Ur(c,zm,!0),":");var u=this.g;return(u||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ur(c,zm,!0),"@"),o.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&o.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&o.push("/"),o.push(Ur(u,u.charAt(0)=="/"?s0:r0,!0))),(u=this.i.toString())&&o.push("?",u),(u=this.m)&&o.push("#",Ur(u,a0)),o.join("")};function Zt(o){return new Yn(o)}function xo(o,c,u){o.j=u?Br(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Io(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Gm(o,c,u){c instanceof jr?(o.i=c,l0(o.i,o.h)):(u||(c=Ur(c,o0)),o.i=new jr(c,o.h))}function ge(o,c,u){o.i.set(c,u)}function wo(o){return ge(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Br(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ur(o,c,u){return typeof o=="string"?(o=encodeURI(o).replace(c,i0),u&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function i0(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zm=/[#\/\?@]/g,r0=/[#\?:]/g,s0=/[#\?]/g,o0=/[#\?@]/g,a0=/#/g;function jr(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function An(o){o.g||(o.g=new Map,o.h=0,o.i&&n0(o.i,function(c,u){o.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}n=jr.prototype,n.add=function(o,c){An(this),this.i=null,o=Di(this,o);var u=this.g.get(o);return u||this.g.set(o,u=[]),u.push(c),this.h+=1,this};function $m(o,c){An(o),c=Di(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Hm(o,c){return An(o),c=Di(o,c),o.g.has(c)}n.forEach=function(o,c){An(this),this.g.forEach(function(u,f){u.forEach(function(E){o.call(c,E,f,this)},this)},this)},n.na=function(){An(this);let o=Array.from(this.g.values()),c=Array.from(this.g.keys()),u=[];for(let f=0;f<c.length;f++){let E=o[f];for(let T=0;T<E.length;T++)u.push(c[f])}return u},n.V=function(o){An(this);let c=[];if(typeof o=="string")Hm(this,o)&&(c=c.concat(this.g.get(Di(this,o))));else{o=Array.from(this.g.values());for(let u=0;u<o.length;u++)c=c.concat(o[u])}return c},n.set=function(o,c){return An(this),this.i=null,o=Di(this,o),Hm(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},n.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function qm(o,c,u){$m(o,c),0<u.length&&(o.i=null,o.g.set(Di(o,c),F(u)),o.h+=u.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],c=Array.from(this.g.keys());for(var u=0;u<c.length;u++){var f=c[u];let T=encodeURIComponent(String(f)),P=this.V(f);for(f=0;f<P.length;f++){var E=T;P[f]!==""&&(E+="="+encodeURIComponent(String(P[f]))),o.push(E)}}return this.i=o.join("&")};function Di(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function l0(o,c){c&&!o.j&&(An(o),o.i=null,o.g.forEach(function(u,f){var E=f.toLowerCase();f!=E&&($m(this,f),qm(this,E,u))},o)),o.j=c}function c0(o,c){let u=new Lr;if(l.Image){let f=new Image;f.onload=C(Tn,u,"TestLoadImage: loaded",!0,c,f),f.onerror=C(Tn,u,"TestLoadImage: error",!1,c,f),f.onabort=C(Tn,u,"TestLoadImage: abort",!1,c,f),f.ontimeout=C(Tn,u,"TestLoadImage: timeout",!1,c,f),l.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else c(!1)}function d0(o,c){let u=new Lr,f=new AbortController,E=setTimeout(()=>{f.abort(),Tn(u,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:f.signal}).then(T=>{clearTimeout(E),T.ok?Tn(u,"TestPingServer: ok",!0,c):Tn(u,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(E),Tn(u,"TestPingServer: error",!1,c)})}function Tn(o,c,u,f,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),f(u)}catch{}}function u0(){this.g=new Wx}function h0(o,c,u){let f=u||"";try{Um(o,function(E,T){let P=E;h(E)&&(P=yc(E)),c.push(f+T+"="+encodeURIComponent(P))})}catch(E){throw c.push(f+"type="+encodeURIComponent("_badmap")),E}}function Gr(o){this.l=o.Ub||null,this.j=o.eb||!1}k(Gr,_c),Gr.prototype.g=function(){return new Eo(this.l,this.j)},Gr.prototype.i=function(o){return function(){return o}}({});function Eo(o,c){ze.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Eo,ze),n=Eo.prototype,n.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,$r(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wm(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wm(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?zr(this):$r(this),this.readyState==3&&Wm(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,zr(this))},n.Qa=function(o){this.g&&(this.response=o,zr(this))},n.ga=function(){this.g&&zr(this)};function zr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,$r(o)}n.setRequestHeader=function(o,c){this.u.append(o,c)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],c=this.h.entries();for(var u=c.next();!u.done;)u=u.value,o.push(u[0]+": "+u[1]),u=c.next();return o.join(`\r
`)};function $r(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Km(o){let c="";return de(o,function(u,f){c+=f,c+=":",c+=u,c+=`\r
`}),c}function Sc(o,c,u){e:{for(f in u){var f=!1;break e}f=!0}f||(u=Km(u),typeof o=="string"?u!=null&&encodeURIComponent(String(u)):ge(o,c,u))}function Ie(o){ze.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ie,ze);var f0=/^https?$/i,m0=["POST","PUT"];n=Ie.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,c,u,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xc.g(),this.v=this.o?wm(this.o):wm(xc),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(T){Qm(this,T);return}if(o=u||"",u=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var E in f)u.set(E,f[E]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let T of f.keys())u.set(T,f.get(T));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(u.keys()).find(T=>T.toLowerCase()=="content-type"),E=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(m0,c,void 0))||f||E||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,P]of u)this.g.setRequestHeader(T,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jm(this),this.u=!0,this.g.send(o),this.u=!1}catch(T){Qm(this,T)}};function Qm(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Ym(o),Ao(o)}function Ym(o){o.A||(o.A=!0,Ze(o,"complete"),Ze(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ze(this,"complete"),Ze(this,"abort"),Ao(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),Ie.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xm(this):this.bb())},n.bb=function(){Xm(this)};function Xm(o){if(o.h&&typeof a<"u"&&(!o.v[1]||en(o)!=4||o.Z()!=2)){if(o.u&&en(o)==4)vm(o.Ea,0,o);else if(Ze(o,"readystatechange"),en(o)==4){o.h=!1;try{let P=o.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var u;if(!(u=c)){var f;if(f=P===0){var E=String(o.D).match(jm)[1]||null;!E&&l.self&&l.self.location&&(E=l.self.location.protocol.slice(0,-1)),f=!f0.test(E?E.toLowerCase():"")}u=f}if(u)Ze(o,"complete"),Ze(o,"success");else{o.m=6;try{var T=2<en(o)?o.g.statusText:""}catch{T=""}o.l=T+" ["+o.Z()+"]",Ym(o)}}finally{Ao(o)}}}}function Ao(o,c){if(o.g){Jm(o);let u=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||Ze(o,"ready");try{u.onreadystatechange=f}catch{}}}function Jm(o){o.I&&(l.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function en(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),qx(c)}};function Zm(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function p0(o){let c={};o=(o.g&&2<=en(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(j(o[f]))continue;var u=w(o[f]);let E=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let T=c[E]||[];c[E]=T,T.push(u)}I(c,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(o,c,u){return u&&u.internalChannelParams&&u.internalChannelParams[o]||c}function ep(o){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,o),this.cb=Hr("retryDelaySeedMs",1e4,o),this.Wa=Hr("forwardChannelMaxRetries",2,o),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Om(o&&o.concurrentRequestLimit),this.Da=new u0,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ep.prototype,n.la=8,n.G=1,n.connect=function(o,c,u,f){et(0),this.W=o,this.H=c||{},u&&f!==void 0&&(this.H.OSID=u,this.H.OAID=f),this.F=this.X,this.I=cp(this,null,this.W),Co(this)};function Rc(o){if(tp(o),o.G==3){var c=o.U++,u=Zt(o.I);if(ge(u,"SID",o.K),ge(u,"RID",c),ge(u,"TYPE","terminate"),qr(o,u),c=new En(o,o.j,c),c.L=2,c.v=wo(Zt(u)),u=!1,l.navigator&&l.navigator.sendBeacon)try{u=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!u&&l.Image&&(new Image().src=c.v,u=!0),u||(c.g=dp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),bo(c)}lp(o)}function To(o){o.g&&(kc(o),o.g.cancel(),o.g=null)}function tp(o){To(o),o.u&&(l.clearTimeout(o.u),o.u=null),So(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Co(o){if(!Nm(o.h)&&!o.s){o.s=!0;var c=o.Ga;Rr||fm(),Dr||(Rr(),Dr=!0),lc.add(c,o),o.B=0}}function g0(o,c){return Lm(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Nr(x(o.Ga,o,c),ap(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let E=new En(this,this.j,o),T=this.o;if(this.S&&(T?(T=p(T),b(T,this.S)):T=this.S),this.m!==null||this.O||(E.H=T,T=null),this.P)e:{for(var c=0,u=0;u<this.i.length;u++){t:{var f=this.i[u];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(c+=f,4096<c){c=u;break e}if(c===4096||u===this.i.length-1){c=u+1;break e}}c=1e3}else c=1e3;c=ip(this,E,c),u=Zt(this.I),ge(u,"RID",o),ge(u,"CVER",22),this.D&&ge(u,"X-HTTP-Session-Id",this.D),qr(this,u),T&&(this.O?c="headers="+encodeURIComponent(String(Km(T)))+"&"+c:this.m&&Sc(u,this.m,T)),Cc(this.h,E),this.Ua&&ge(u,"TYPE","init"),this.P?(ge(u,"$req",c),ge(u,"SID","null"),E.T=!0,wc(E,u,null)):wc(E,u,c),this.G=2}}else this.G==3&&(o?np(this,o):this.i.length==0||Nm(this.h)||np(this))};function np(o,c){var u;c?u=c.l:u=o.U++;let f=Zt(o.I);ge(f,"SID",o.K),ge(f,"RID",u),ge(f,"AID",o.T),qr(o,f),o.m&&o.o&&Sc(f,o.m,o.o),u=new En(o,o.j,u,o.B+1),o.m===null&&(u.H=o.o),c&&(o.i=c.D.concat(o.i)),c=ip(o,u,1e3),u.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Cc(o.h,u),wc(u,f,c)}function qr(o,c){o.H&&de(o.H,function(u,f){ge(c,f,u)}),o.l&&Um({},function(u,f){ge(c,f,u)})}function ip(o,c,u){u=Math.min(o.i.length,u);var f=o.l?x(o.l.Na,o.l,o):null;e:{var E=o.i;let T=-1;for(;;){let P=["count="+u];T==-1?0<u?(T=E[0].g,P.push("ofs="+T)):T=0:P.push("ofs="+T);let fe=!0;for(let Ue=0;Ue<u;Ue++){let ae=E[Ue].g,$e=E[Ue].map;if(ae-=T,0>ae)T=Math.max(0,E[Ue].g-100),fe=!1;else try{h0($e,P,"req"+ae+"_")}catch{f&&f($e)}}if(fe){f=P.join("&");break e}}}return o=o.i.splice(0,u),c.D=o,f}function rp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Rr||fm(),Dr||(Rr(),Dr=!0),lc.add(c,o),o.v=0}}function Dc(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Nr(x(o.Fa,o),ap(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,sp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Nr(x(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),To(this),sp(this))};function kc(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function sp(o){o.g=new En(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Zt(o.qa);ge(c,"RID","rpc"),ge(c,"SID",o.K),ge(c,"AID",o.T),ge(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&ge(c,"TO",o.ja),ge(c,"TYPE","xmlhttp"),qr(o,c),o.m&&o.o&&Sc(c,o.m,o.o),o.L&&(o.g.I=o.L);var u=o.g;o=o.ia,u.L=1,u.v=wo(Zt(c)),u.m=null,u.P=!0,Mm(u,o)}n.Za=function(){this.C!=null&&(this.C=null,To(this),Dc(this),et(19))};function So(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function op(o,c){var u=null;if(o.g==c){So(o),kc(o),o.g=null;var f=2}else if(Tc(o.h,c))u=c.D,Vm(o.h,c),f=1;else return;if(o.G!=0){if(c.o)if(f==1){u=c.m?c.m.length:0,c=Date.now()-c.F;var E=o.B;f=yo(),Ze(f,new Sm(f,u)),Co(o)}else rp(o);else if(E=c.s,E==3||E==0&&0<c.X||!(f==1&&g0(o,c)||f==2&&Dc(o)))switch(u&&0<u.length&&(c=o.h,c.i=c.i.concat(u)),E){case 1:Xn(o,5);break;case 4:Xn(o,10);break;case 3:Xn(o,6);break;default:Xn(o,2)}}}function ap(o,c){let u=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(u*=2),u*c}function Xn(o,c){if(o.j.info("Error code "+c),c==2){var u=x(o.fb,o),f=o.Xa;let E=!f;f=new Yn(f||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xo(f,"https"),wo(f),E?c0(f.toString(),u):d0(f.toString(),u)}else et(2);o.G=0,o.l&&o.l.sa(c),lp(o),tp(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function lp(o){if(o.G=0,o.ka=[],o.l){let c=Bm(o.h);(c.length!=0||o.i.length!=0)&&(M(o.ka,c),M(o.ka,o.i),o.h.i.length=0,F(o.i),o.i.length=0),o.l.ra()}}function cp(o,c,u){var f=u instanceof Yn?Zt(u):new Yn(u);if(f.g!="")c&&(f.g=c+"."+f.g),Io(f,f.s);else{var E=l.location;f=E.protocol,c=c?c+"."+E.hostname:E.hostname,E=+E.port;var T=new Yn(null);f&&xo(T,f),c&&(T.g=c),E&&Io(T,E),u&&(T.l=u),f=T}return u=o.D,c=o.ya,u&&c&&ge(f,u,c),ge(f,"VER",o.la),qr(o,f),f}function dp(o,c,u){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Ie(new Gr({eb:u})):new Ie(o.pa),c.Ha(o.J),c}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function up(){}n=up.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ro(){}Ro.prototype.g=function(o,c){return new ut(o,c)};function ut(o,c){ze.call(this),this.g=new ep(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!j(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!j(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new ki(this)}k(ut,ze),ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ut.prototype.close=function(){Rc(this.g)},ut.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var u={};u.__data__=o,o=u}else this.u&&(u={},u.__data__=yc(o),o=u);c.i.push(new Zx(c.Ya++,o)),c.G==3&&Co(c)},ut.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,ut.aa.N.call(this)};function hp(o){vc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(let u in c){o=u;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}k(hp,vc);function fp(){bc.call(this),this.status=1}k(fp,bc);function ki(o){this.g=o}k(ki,up),ki.prototype.ua=function(){Ze(this.g,"a")},ki.prototype.ta=function(o){Ze(this.g,new hp(o))},ki.prototype.sa=function(o){Ze(this.g,new fp)},ki.prototype.ra=function(){Ze(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,ut.prototype.send=ut.prototype.o,ut.prototype.open=ut.prototype.m,ut.prototype.close=ut.prototype.close,qu=mn.createWebChannelTransport=function(){return new Ro},Hu=mn.getStatEventTarget=function(){return yo()},$u=mn.Event=Kn,Za=mn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Us=mn.ErrorCode=_o,Rm.COMPLETE="complete",zu=mn.EventType=Rm,Em.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Ji=mn.WebChannel=Em,CC=mn.FetchXmlHttpFactory=Gr,Ie.prototype.listenOnce=Ie.prototype.L,Ie.prototype.getLastError=Ie.prototype.Ka,Ie.prototype.getLastErrorCode=Ie.prototype.Ba,Ie.prototype.getStatus=Ie.prototype.Z,Ie.prototype.getResponseJson=Ie.prototype.Oa,Ie.prototype.getResponseText=Ie.prototype.oa,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Ha,Gu=mn.XhrIo=Ie}).apply(typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{});var K_="@firebase/firestore",Q_="4.7.17";var Ve=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");var xr="11.9.0";var vi=new jt("@firebase/firestore");function Zi(){return vi.logLevel}function O(n,...e){if(vi.logLevel<=te.DEBUG){let t=e.map(Ff);vi.debug(`Firestore (${xr}): ${n}`,...t)}}function gn(n,...e){if(vi.logLevel<=te.ERROR){let t=e.map(Ff);vi.error(`Firestore (${xr}): ${n}`,...t)}}function ar(n,...e){if(vi.logLevel<=te.WARN){let t=e.map(Ff);vi.warn(`Firestore (${xr}): ${n}`,...t)}}function Ff(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function V(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Vv(n,i,t)}function Vv(n,e,t){let i=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw gn(i),new Error(i)}function ce(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||Vv(e,r,i)}function W(n,e){return n}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ol=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xu=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ve.UNAUTHENTICATED))}shutdown(){}},Ju=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Zu=class{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ce(this.o===void 0,42304);let i=this.i,r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve(),s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=s;e.enqueueRetryable(()=>g(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ce(typeof i.accessToken=="string",31837,{l:i}),new ol(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string",2055,{h:e}),new Ve(e)}},eh=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},th=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new eh(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},al=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nh=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ct(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ce(this.o===void 0,3512);let i=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.m;return this.m=s.token,O("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?r(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new al(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ce(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new al(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function SC(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function Bv(){return new TextEncoder}var ll=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=SC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}};function J(n,e){return n<e?-1:n>e?1:0}function ih(n,e){let t=0;for(;t<n.length&&t<e.length;){let i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return J(i,r);{let s=Bv(),a=RC(s.encode(Y_(n,t)),s.encode(Y_(e,t)));return a!==0?a:J(i,r)}}t+=i>65535?2:1}return J(n.length,e.length)}function Y_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function RC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return J(n[t],e[t]);return J(n.length,e.length)}function lr(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var X_=-62135596800,J_=1e6,je=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*J_);return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X_)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Y=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new je(0,0))}static max(){return new n(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Z_="__name__",cl=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&V(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&V(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=n.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return J(e.length,t.length)}static compareSegments(e,t){let i=n.isNumericId(e),r=n.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(t)):ih(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fn.fromString(e.substring(4,e.length-2))}},De=class n extends cl{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mt=class n extends cl{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return DC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new n([Z_])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new L(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var U=class n{constructor(e){this.path=e}static fromPath(e){return new n(De.fromString(e))}static fromName(e){return new n(De.fromString(e).popFirst(5))}static empty(){return new n(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new De(e.slice()))}};var qs=-1,rh=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};rh.UNKNOWN_ID=-1;function kC(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(i===1e9?new je(t+1,0):new je(t,i));return new bi(r,U.empty(),e)}function MC(n){return new bi(n.readTime,n.key,qs)}var bi=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Y.min(),U.empty(),qs)}static max(){return new n(Y.max(),U.empty(),qs)}};function PC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=U.comparator(n.documentKey,e.documentKey),t!==0?t:J(n.largestBatchId,e.largestBatchId))}var FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sh=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ir(n){return g(this,null,function*(){if(n.code!==D.FAILED_PRECONDITION||n.message!==FC)throw n;O("LocalStore","Unexpectedly lost primary lease")})}var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&t()},d=>i(d))}),a=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,a=new Array(s),l=0;for(let d=0;d<s;d++){let h=d;t(e[h]).next(m=>{a[h]=m,++l,l===s&&i(a)},m=>r(m))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function OC(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wr(n){return n.name==="IndexedDbTransactionError"}var Of=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),Nf=-1;function jl(n){return n==null}function Ws(n){return n===0&&1/n==-1/0}function NC(n){return typeof n=="number"&&Number.isInteger(n)&&!Ws(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Uv="";function LC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ev(e)),e=VC(n.get(t),e);return ev(e)}function VC(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":t+="";break;case Uv:t+="";break;default:t+=s}}return t}function ev(n){return n+Uv+""}var BC="remoteDocuments",jv="owner";var Gv="mutationQueues";var zv="mutations";var $v="documentMutations",UC="remoteDocumentsV14";var Hv="remoteDocumentGlobal";var qv="targets";var Wv="targetDocuments";var Kv="targetGlobal",Qv="collectionParents";var Yv="clientMetadata";var Xv="bundles";var Jv="namedQueries";var jC="indexConfiguration";var GC="indexState";var zC="indexEntries";var Zv="documentOverlays";var $C="globals";var HC=[Gv,zv,$v,BC,qv,jv,Kv,Wv,Yv,Hv,Qv,Xv,Jv],RL=[...HC,Zv],qC=[Gv,zv,$v,UC,qv,jv,Kv,Wv,Yv,Hv,Qv,Xv,Jv,Zv],WC=qC,KC=[...WC,jC,GC,zC];var DL=[...KC,$C];function tv(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ai(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eb(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ae=class n{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ir(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ir(this.root,e,this.comparator,!1)}getReverseIterator(){return new ir(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ir(this.root,e,this.comparator,!0)}},ir=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qt=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw V(43730,{key:this.key,value:this.value});if(this.right.isRed())throw V(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw V(27949);return e+(this.isRed()?0:1)}};qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw V(57766)}get value(){throw V(16141)}get color(){throw V(16727)}get left(){throw V(29726)}get right(){throw V(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Be=class n{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dl(this.data.getIterator())}getIteratorFrom(e){return new dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},dl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ht=class n{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Be(mt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lr(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var ul=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xe=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ul("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xe.EMPTY_BYTE_STRING=new Xe("");var QC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yn(n){if(ce(!!n,39018),typeof n=="string"){let e=0,t=QC.exec(n);if(ce(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _n(n){return typeof n=="string"?Xe.fromBase64String(n):Xe.fromUint8Array(n)}var tb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function Lf(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nb])===null||t===void 0?void 0:t.stringValue)===tb}function Gl(n){let e=n.mapValue.fields[ib];return Lf(e)?Gl(e):e}function Ks(n){let e=yn(n.mapValue.fields[rb].timestampValue);return new je(e.seconds,e.nanos)}var oh=class{constructor(e,t,i,r,s,a,l,d,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}},hl="(default)",fl=class n{constructor(e,t){this.projectId=e,this.database=t||hl}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===hl}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Vf="__type__",sb="__max__",el={mapValue:{fields:{__type__:{stringValue:sb}}}},Bf="__vector__",cr="value";function $n(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lf(n)?4:ab(n)?9007199254740991:ob(n)?10:11:V(28295,{value:n})}function Qt(n,e){if(n===e)return!0;let t=$n(n);if(t!==$n(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ks(n).isEqual(Ks(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let a=yn(r.timestampValue),l=yn(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return _n(r.bytesValue).isEqual(_n(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return be(r.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(r.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return be(r.integerValue)===be(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let a=be(r.doubleValue),l=be(s.doubleValue);return a===l?Ws(a)===Ws(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return lr(n.arrayValue.values||[],e.arrayValue.values||[],Qt);case 10:case 11:return function(r,s){let a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(tv(a)!==tv(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!Qt(a[d],l[d])))return!1;return!0}(n,e);default:return V(52216,{left:n})}}function Qs(n,e){return(n.values||[]).find(t=>Qt(t,e))!==void 0}function dr(n,e){if(n===e)return 0;let t=$n(n),i=$n(e);if(t!==i)return J(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return J(n.booleanValue,e.booleanValue);case 2:return function(s,a){let l=be(s.integerValue||s.doubleValue),d=be(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return nv(n.timestampValue,e.timestampValue);case 4:return nv(Ks(n),Ks(e));case 5:return ih(n.stringValue,e.stringValue);case 6:return function(s,a){let l=_n(s),d=_n(a);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let l=s.split("/"),d=a.split("/");for(let h=0;h<l.length&&h<d.length;h++){let m=J(l[h],d[h]);if(m!==0)return m}return J(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let l=J(be(s.latitude),be(a.latitude));return l!==0?l:J(be(s.longitude),be(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iv(n.arrayValue,e.arrayValue);case 10:return function(s,a){var l,d,h,m;let v=s.fields||{},x=a.fields||{},C=(l=v[cr])===null||l===void 0?void 0:l.arrayValue,k=(d=x[cr])===null||d===void 0?void 0:d.arrayValue,F=J(((h=C?.values)===null||h===void 0?void 0:h.length)||0,((m=k?.values)===null||m===void 0?void 0:m.length)||0);return F!==0?F:iv(C,k)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===el.mapValue&&a===el.mapValue)return 0;if(s===el.mapValue)return 1;if(a===el.mapValue)return-1;let l=s.fields||{},d=Object.keys(l),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){let x=ih(d[v],m[v]);if(x!==0)return x;let C=dr(l[d[v]],h[m[v]]);if(C!==0)return C}return J(d.length,m.length)}(n.mapValue,e.mapValue);default:throw V(23264,{Pe:t})}}function nv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return J(n,e);let t=yn(n),i=yn(e),r=J(t.seconds,i.seconds);return r!==0?r:J(t.nanos,i.nanos)}function iv(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=dr(t[r],i[r]);if(s)return s}return J(t.length,i.length)}function ur(n){return ah(n)}function ah(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=yn(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _n(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return U.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=ah(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let a of i)s?s=!1:r+=",",r+=`${a}:${ah(t.fields[a])}`;return r+"}"}(n.mapValue):V(61005,{value:n})}function il(n){switch($n(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gl(n);return e?16+il(e):16;case 5:return 2*n.stringValue.length;case 6:return _n(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+il(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ai(i.fields,(s,a)=>{r+=s.length+il(a)}),r}(n.mapValue);default:throw V(13486,{value:n})}}function lh(n){return!!n&&"integerValue"in n}function Uf(n){return!!n&&"arrayValue"in n}function rv(n){return!!n&&"nullValue"in n}function sv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rl(n){return!!n&&"mapValue"in n}function ob(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vf])===null||t===void 0?void 0:t.stringValue)===Bf}function Gs(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ai(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Gs(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gs(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ab(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sb}var ML={mapValue:{fields:{[Vf]:{stringValue:Bf},[cr]:{arrayValue:{}}}}};var kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!rl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gs(t)}setAll(e){let t=mt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){let d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=l.popLast()}a?i[l.lastSegment()]=Gs(a):r.push(l.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());rl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];rl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ai(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Gs(this.value))}};function lb(n){let e=[];return Ai(n.fields,(t,i)=>{let r=new mt([t]);if(rl(i)){let s=lb(i.mapValue).fields;if(s.length===0)e.push(r);else for(let a of s)e.push(r.child(a))}else e.push(r)}),new Ht(e)}var Mt=class n{constructor(e,t,i,r,s,a,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new n(e,0,Y.min(),Y.min(),Y.min(),kt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Y.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Y.min(),Y.min(),kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Y.min(),Y.min(),kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hr=class{constructor(e,t){this.position=e,this.inclusive=t}};function ov(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],a=n.position[r];if(s.field.isKeyField()?i=U.comparator(U.fromName(a.referenceValue),t.key):i=dr(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function av(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qt(n.position[t],e.position[t]))return!1;return!0}var fr=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function YC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ml=class{},Pe=class n extends ml{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new dh(e,t,i):t==="array-contains"?new fh(e,i):t==="in"?new mh(e,i):t==="not-in"?new ph(e,i):t==="array-contains-any"?new gh(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new uh(e,i):new hh(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(dr(t,this.value)):t!==null&&$n(this.value)===$n(t)&&this.matchesComparison(dr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yt=class n extends ml{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return cb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function cb(n){return n.op==="and"}function db(n){return XC(n)&&cb(n)}function XC(n){for(let e of n.filters)if(e instanceof Yt)return!1;return!0}function ch(n){if(n instanceof Pe)return n.field.canonicalString()+n.op.toString()+ur(n.value);if(db(n))return n.filters.map(e=>ch(e)).join(",");{let e=n.filters.map(t=>ch(t)).join(",");return`${n.op}(${e})`}}function ub(n,e){return n instanceof Pe?function(i,r){return r instanceof Pe&&i.op===r.op&&i.field.isEqual(r.field)&&Qt(i.value,r.value)}(n,e):n instanceof Yt?function(i,r){return r instanceof Yt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&ub(a,r.filters[l]),!0):!1}(n,e):void V(19439)}function hb(n){return n instanceof Pe?function(t){return`${t.field.canonicalString()} ${t.op} ${ur(t.value)}`}(n):n instanceof Yt?function(t){return t.op.toString()+" {"+t.getFilters().map(hb).join(" ,")+"}"}(n):"Filter"}var dh=class extends Pe{constructor(e,t,i){super(e,t,i),this.key=U.fromName(i.referenceValue)}matches(e){let t=U.comparator(e.key,this.key);return this.matchesComparison(t)}},uh=class extends Pe{constructor(e,t){super(e,"in",t),this.keys=fb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hh=class extends Pe{constructor(e,t){super(e,"not-in",t),this.keys=fb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function fb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>U.fromName(i.referenceValue))}var fh=class extends Pe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Uf(t)&&Qs(t.arrayValue,this.value)}},mh=class extends Pe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qs(this.value.arrayValue,t)}},ph=class extends Pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qs(this.value.arrayValue,t)}},gh=class extends Pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Uf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Qs(this.value.arrayValue,i))}};var yh=class{constructor(e,t=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}};function lv(n,e=null,t=[],i=[],r=null,s=null,a=null){return new yh(n,e,t,i,r,s,a)}function jf(n){let e=W(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ch(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),jl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ur(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ur(i)).join(",")),e.Ie=t}return e.Ie}function Gf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ub(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!av(n.startAt,e.startAt)&&av(n.endAt,e.endAt)}function _h(n){return U.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var mr=class{constructor(e,t=null,i=[],r=[],s=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function JC(n,e,t,i,r,s,a,l){return new mr(n,e,t,i,r,s,a,l)}function zf(n){return new mr(n)}function cv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZC(n){return n.collectionGroup!==null}function zs(n){let e=W(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Be(mt.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new fr(s,i))}),t.has(mt.keyField().canonicalString())||e.Ee.push(new fr(mt.keyField(),i))}return e.Ee}function Wt(n){let e=W(n);return e.de||(e.de=eS(e,zs(n))),e.de}function eS(n,e){if(n.limitType==="F")return lv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new fr(r.field,s)});let t=n.endAt?new hr(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hr(n.startAt.position,n.startAt.inclusive):null;return lv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vh(n,e,t){return new mr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zl(n,e){return Gf(Wt(n),Wt(e))&&n.limitType===e.limitType}function mb(n){return`${jf(Wt(n))}|lt:${n.limitType}`}function er(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>hb(r)).join(", ")}]`),jl(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ur(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ur(r)).join(",")),`Target(${i})`}(Wt(n))}; limitType=${n.limitType})`}function $l(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):U.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of zs(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let h=ov(a,l,d);return a.inclusive?h<=0:h<0}(i.startAt,zs(i),r)||i.endAt&&!function(a,l,d){let h=ov(a,l,d);return a.inclusive?h>=0:h>0}(i.endAt,zs(i),r))}(n,e)}function tS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pb(n){return(e,t)=>{let i=!1;for(let r of zs(n)){let s=nS(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function nS(n,e,t){let i=n.field.isKeyField()?U.comparator(e.key,t.key):function(s,a,l){let d=a.data.field(s),h=l.data.field(s);return d!==null&&h!==null?dr(d,h):V(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return V(19790,{direction:n.dir})}}var vn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return eb(this.inner)}size(){return this.innerSize}};var iS=new Ae(U.comparator);function bn(){return iS}var gb=new Ae(U.comparator);function js(...n){let e=gb;for(let t of n)e=e.insert(t.key,t);return e}function yb(n){let e=gb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function pi(){return $s()}function _b(){return $s()}function $s(){return new vn(n=>n.toString(),(n,e)=>n.isEqual(e))}var rS=new Ae(U.comparator),sS=new Be(U.comparator);function ie(...n){let e=sS;for(let t of n)e=e.add(t);return e}var oS=new Be(J);function aS(){return oS}function $f(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ws(e)?"-0":e}}function vb(n){return{integerValue:""+n}}function lS(n,e){return NC(e)?vb(e):$f(n,e)}var pr=class{constructor(){this._=void 0}};function cS(n,e,t){return n instanceof gr?function(r,s){let a={fields:{[nb]:{stringValue:tb},[rb]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Lf(s)&&(s=Gl(s)),s&&(a.fields[ib]=s),{mapValue:a}}(t,e):n instanceof xi?xb(n,e):n instanceof Ii?Ib(n,e):function(r,s){let a=bb(r,s),l=dv(a)+dv(r.Re);return lh(a)&&lh(r.Re)?vb(l):$f(r.serializer,l)}(n,e)}function dS(n,e,t){return n instanceof xi?xb(n,e):n instanceof Ii?Ib(n,e):t}function bb(n,e){return n instanceof yr?function(i){return lh(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var gr=class extends pr{},xi=class extends pr{constructor(e){super(),this.elements=e}};function xb(n,e){let t=wb(e);for(let i of n.elements)t.some(r=>Qt(r,i))||t.push(i);return{arrayValue:{values:t}}}var Ii=class extends pr{constructor(e){super(),this.elements=e}};function Ib(n,e){let t=wb(e);for(let i of n.elements)t=t.filter(r=>!Qt(r,i));return{arrayValue:{values:t}}}var yr=class extends pr{constructor(e,t){super(),this.serializer=e,this.Re=t}};function dv(n){return be(n.integerValue||n.doubleValue)}function wb(n){return Uf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uS(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof xi&&r instanceof xi||i instanceof Ii&&r instanceof Ii?lr(i.elements,r.elements,Qt):i instanceof yr&&r instanceof yr?Qt(i.Re,r.Re):i instanceof gr&&r instanceof gr}(n.transform,e.transform)}var bh=class{constructor(e,t){this.version=e,this.transformResults=t}},_i=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _r=class{};function Eb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pl(n.key,_i.none()):new wi(n.key,n.data,_i.none());{let t=n.data,i=kt.empty(),r=new Be(mt.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new xn(n.key,i,new Ht(r.toArray()),_i.none())}}function hS(n,e,t){n instanceof wi?function(r,s,a){let l=r.value.clone(),d=hv(r.fieldTransforms,s,a.transformResults);l.setAll(d),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof xn?function(r,s,a){if(!sl(r.precondition,s))return void s.convertToUnknownDocument(a.version);let l=hv(r.fieldTransforms,s,a.transformResults),d=s.data;d.setAll(Ab(r)),d.setAll(l),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Hs(n,e,t,i){return n instanceof wi?function(s,a,l,d){if(!sl(s.precondition,a))return l;let h=s.value.clone(),m=fv(s.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof xn?function(s,a,l,d){if(!sl(s.precondition,a))return l;let h=fv(s.fieldTransforms,d,a),m=a.data;return m.setAll(Ab(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(s,a,l){return sl(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,e,t)}function fS(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=bb(i.transform,r||null);s!=null&&(t===null&&(t=kt.empty()),t.set(i.field,s))}return t||null}function uv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&lr(i,r,(s,a)=>uS(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var wi=class extends _r{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},xn=class extends _r{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Ab(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function hv(n,e,t){let i=new Map;ce(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){let s=n[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,dS(a,l,t[r]))}return i}function fv(n,e,t){let i=new Map;for(let r of n){let s=r.transform,a=t.data.field(r.field);i.set(r.field,cS(s,a,e))}return i}var pl=class extends _r{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xh=class extends _r{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ih=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&hS(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hs(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Hs(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=_b();return this.mutations.forEach(r=>{let s=e.get(r.key),a=s.overlayedDocument,l=this.applyToLocalView(a,s.mutatedFields);l=t.has(r.key)?null:l;let d=Eb(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ie())}isEqual(e){return this.batchId===e.batchId&&lr(this.mutations,e.mutations,(t,i)=>uv(t,i))&&lr(this.baseMutations,e.baseMutations,(t,i)=>uv(t,i))}},wh=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ce(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return rS}(),s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new n(e,t,i,r)}};var Eh=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ah=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Se,oe;function mS(n){switch(n){case D.OK:return V(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return V(15467,{code:n})}}function Tb(n){if(n===void 0)return gn("GRPC error has no .code"),D.UNKNOWN;switch(n){case Se.OK:return D.OK;case Se.CANCELLED:return D.CANCELLED;case Se.UNKNOWN:return D.UNKNOWN;case Se.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Se.INTERNAL:return D.INTERNAL;case Se.UNAVAILABLE:return D.UNAVAILABLE;case Se.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Se.NOT_FOUND:return D.NOT_FOUND;case Se.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Se.ABORTED:return D.ABORTED;case Se.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Se.DATA_LOSS:return D.DATA_LOSS;default:return V(39323,{code:n})}}(oe=Se||(Se={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var mv=null;var pS=new fn([4294967295,4294967295],0);function pv(n){let e=Bv().encode(n),t=new ju;return t.update(e),new Uint8Array(t.digest())}function gv(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fn([t,i],0),new fn([r,s],0)]}var Th=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new gi(`Invalid padding: ${t}`);if(i<0)throw new gi(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new gi(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new gi(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=fn.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(fn.fromNumber(i)));return r.compare(pS)===1&&(r=new fn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=pv(e),[i,r]=gv(t);for(let s=0;s<this.hashCount;s++){let a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,r,t);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;let t=pv(e),[i,r]=gv(t);for(let s=0;s<this.hashCount;s++){let a=this.we(i,r,s);this.Se(a)}}Se(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},gi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gl=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Ys.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Y.min(),r,new Ae(J),bn(),ie())}},Ys=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,ie(),ie(),ie())}};var rr=class{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}},yl=class{constructor(e,t){this.targetId=e,this.Ce=t}},_l=class{constructor(e,t,i=Xe.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},vl=class{constructor(){this.Fe=0,this.Me=yv(),this.xe=Xe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ie(),t=ie(),i=ie();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:V(38017,{changeType:s})}}),new Ys(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=yv()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ce(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Ch=class{constructor(e){this.ze=e,this.je=new Map,this.He=bn(),this.Je=tl(),this.Ye=tl(),this.Ze=new Ae(J)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:V(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){let t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){let s=r.target;if(_h(s))if(i===0){let a=new U(s.path);this.tt(t,a,Mt.newNoDocument(a,Y.min()))}else ce(i===1,20013,{expectedCount:i});else{let a=this.ut(t);if(a!==i){let l=this.ct(e),d=l?this.lt(l,e,a):1;if(d!==0){this.st(t);let h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}mv?.ht(function(m,v,x,C,k){var F,M,K,j,Q,he;let Je={localCacheCount:m,existenceFilterCount:v.count,databaseId:x.database,projectId:x.projectId},de=v.unchangedNames;return de&&(Je.bloomFilter={applied:k===0,hashCount:(F=de?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(j=(K=(M=de?.bits)===null||M===void 0?void 0:M.bitmap)===null||K===void 0?void 0:K.length)!==null&&j!==void 0?j:0,padding:(he=(Q=de?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&he!==void 0?he:0,mightContain:I=>{var p;return(p=C?.mightContain(I))!==null&&p!==void 0&&p}}),Je}(a,e.Ce,this.ze.Pt(),l,d))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,a,l;try{a=_n(i).toUint8Array()}catch(d){if(d instanceof ul)return ar("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new Th(a,r,s)}catch(d){return ar(d instanceof gi?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.pe===0?null:l}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){let i=this.ze.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,s,null),r++)}),r}It(e){let t=new Map;this.je.forEach((s,a)=>{let l=this._t(a);if(l){if(s.current&&_h(l.target)){let d=new U(l.target.path);this.Et(d).has(a)||this.dt(a,d)||this.tt(a,d,Mt.newNoDocument(d,e))}s.Le&&(t.set(a,s.qe()),s.Qe())}});let i=ie();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(d=>{let h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));let r=new gl(e,t,this.Ze,this.He,i);return this.He=bn(),this.Je=tl(),this.Ye=tl(),this.Ze=new Ae(J),r}et(e,t){if(!this.it(e))return;let i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;let r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new vl,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Be(J),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Be(J),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||O("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vl),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function tl(){return new Ae(U.comparator)}function yv(){return new Ae(U.comparator)}var gS={asc:"ASCENDING",desc:"DESCENDING"},yS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_S={and:"AND",or:"OR"},Sh=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Rh(n,e){return n.useProto3Json||jl(e)?e:{value:e}}function bl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vS(n,e){return bl(n,e.toTimestamp())}function Kt(n){return ce(!!n,49232),Y.fromTimestamp(function(t){let i=yn(t);return new je(i.seconds,i.nanos)}(n))}function Hf(n,e){return Dh(n,e).canonicalString()}function Dh(n,e){let t=function(r){return new De(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Sb(n){let e=De.fromString(n);return ce(Pb(e),10190,{key:e.toString()}),e}function kh(n,e){return Hf(n.databaseId,e.path)}function Wu(n,e){let t=Sb(e);if(t.get(1)!==n.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(Db(t))}function Rb(n,e){return Hf(n.databaseId,e)}function bS(n){let e=Sb(n);return e.length===4?De.emptyPath():Db(e)}function Mh(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Db(n){return ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _v(n,e,t){return{name:kh(n,e),fields:t.value.mapValue.fields}}function xS(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:V(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(ce(m===void 0||typeof m=="string",58123),Xe.fromBase64String(m||"")):(ce(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Xe.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){let m=h.code===void 0?D.UNKNOWN:Tb(h.code);return new L(m,h.message||"")}(a);t=new _l(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Wu(n,i.document.name),s=Kt(i.document.updateTime),a=i.document.createTime?Kt(i.document.createTime):Y.min(),l=new kt({mapValue:{fields:i.document.fields}}),d=Mt.newFoundDocument(r,s,a,l),h=i.targetIds||[],m=i.removedTargetIds||[];t=new rr(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Wu(n,i.document),s=i.readTime?Kt(i.readTime):Y.min(),a=Mt.newNoDocument(r,s),l=i.removedTargetIds||[];t=new rr([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Wu(n,i.document),s=i.removedTargetIds||[];t=new rr([],s,r,null)}else{if(!("filter"in e))return V(11601,{Vt:e});{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,a=new Ah(r,s),l=i.targetId;t=new yl(l,a)}}return t}function IS(n,e){let t;if(e instanceof wi)t={update:_v(n,e.key,e.value)};else if(e instanceof pl)t={delete:kh(n,e.key)};else if(e instanceof xn)t={update:_v(n,e.key,e.data),updateMask:kS(e.fieldMask)};else{if(!(e instanceof xh))return V(16599,{ft:e.type});t={verify:kh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){let l=a.transform;if(l instanceof gr)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof xi)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ii)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof yr)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw V(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:vS(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:V(27497)}(n,e.precondition)),t}function wS(n,e){return n&&n.length>0?(ce(e!==void 0,14353),n.map(t=>function(r,s){let a=r.updateTime?Kt(r.updateTime):Kt(s);return a.isEqual(Y.min())&&(a=Kt(s)),new bh(a,r.transformResults||[])}(t,e))):[]}function ES(n,e){return{documents:[Rb(n,e.path)]}}function AS(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Rb(n,r);let s=function(h){if(h.length!==0)return Mb(Yt.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(h){if(h.length!==0)return h.map(m=>function(x){return{field:tr(x.field),direction:SS(x.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let l=Rh(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:r}}function TS(n){let e=bS(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){ce(i===1,65062);let m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(v){let x=kb(v);return x instanceof Yt&&db(x)?x.getFilters():[x]}(t.where));let a=[];t.orderBy&&(a=function(v){return v.map(x=>function(k){return new fr(nr(k.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(x))}(t.orderBy));let l=null;t.limit&&(l=function(v){let x;return x=typeof v=="object"?v.value:v,jl(x)?null:x}(t.limit));let d=null;t.startAt&&(d=function(v){let x=!!v.before,C=v.values||[];return new hr(C,x)}(t.startAt));let h=null;return t.endAt&&(h=function(v){let x=!v.before,C=v.values||[];return new hr(C,x)}(t.endAt)),JC(e,r,a,s,l,"F",d,h)}function CS(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=nr(t.unaryFilter.field);return Pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=nr(t.unaryFilter.field);return Pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=nr(t.unaryFilter.field);return Pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=nr(t.unaryFilter.field);return Pe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return V(61313);default:return V(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pe.create(nr(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return V(58110);default:return V(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yt.create(t.compositeFilter.filters.map(i=>kb(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return V(1026)}}(t.compositeFilter.op))}(n):V(30097,{filter:n})}function SS(n){return gS[n]}function RS(n){return yS[n]}function DS(n){return _S[n]}function tr(n){return{fieldPath:n.canonicalString()}}function nr(n){return mt.fromServerFormat(n.fieldPath)}function Mb(n){return n instanceof Pe?function(t){if(t.op==="=="){if(sv(t.value))return{unaryFilter:{field:tr(t.field),op:"IS_NAN"}};if(rv(t.value))return{unaryFilter:{field:tr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sv(t.value))return{unaryFilter:{field:tr(t.field),op:"IS_NOT_NAN"}};if(rv(t.value))return{unaryFilter:{field:tr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tr(t.field),op:RS(t.op),value:t.value}}}(n):n instanceof Yt?function(t){let i=t.getFilters().map(r=>Mb(r));return i.length===1?i[0]:{compositeFilter:{op:DS(t.op),filters:i}}}(n):V(54877,{filter:n})}function kS(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Xs=class n{constructor(e,t,i,r,s=Y.min(),a=Y.min(),l=Xe.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ph=class{constructor(e){this.wt=e}};function MS(n){let e=TS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vh(e,e.limit,"L"):e}var xl=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(be(e.integerValue));else if("doubleValue"in e){let i=be(e.doubleValue);isNaN(i)?this.Mt(t,13):(this.Mt(t,15),Ws(i)?t.xt(0):t.xt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Mt(t,20),typeof i=="string"&&(i=yn(i)),t.Ot(`${i.seconds||""}`),t.xt(i.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(_n(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Mt(t,45),t.xt(i.latitude||0),t.xt(i.longitude||0)}else"mapValue"in e?ab(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):ob(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):V(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let i=e.fields||{};this.Mt(t,55);for(let r of Object.keys(i))this.Nt(r,t),this.Ct(i[r],t)}qt(e,t){var i,r;let s=e.fields||{};this.Mt(t,53);let a=cr,l=((r=(i=s[a].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Mt(t,15),t.xt(be(l)),this.Nt(a,t),this.Ct(s[a],t)}$t(e,t){let i=e.values||[];this.Mt(t,50);for(let r of i)this.Ct(r,t)}kt(e,t){this.Mt(t,37),U.fromName(e).path.forEach(i=>{this.Mt(t,60),this.Kt(i,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};xl.Wt=new xl;var Fh=class{constructor(){this.Cn=new Oh}addToCollectionParentIndex(e,t){return this.Cn.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(bi.min())}updateCollectionGroup(e,t,i){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},Oh=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Be(De.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Be(De.comparator)).toArray()}};var PL=new Uint8Array(0);var vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fb=41943040,vt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(Fb,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);var Js=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var bv="LruGarbageCollector",PS=1048576;function xv([n,e],[t,i]){let r=J(n,t);return r===0?J(e,i):r}var Nh=class{constructor(e){this.Er=e,this.buffer=new Be(xv),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();xv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},Lh=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){O(bv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>g(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){wr(t)?O(bv,"Ignoring IndexedDB error during garbage collection: ",t):yield Ir(t)}yield this.mr(3e5)}))}},Vh=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return R.resolve(Of.le);let i=new Nh(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(vv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,s,a,l,d,h,m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,a=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,l=Date.now(),this.removeTargets(e,i,t))).next(v=>(s=v,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(h=Date.now(),Zi()<=te.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(d-l)+`ms
	Removed ${v} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:v})))}};function FS(n,e){return new Vh(n,e)}var Bh=class{constructor(){this.changes=new vn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?R.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Uh=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var jh=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Hs(i.mutation,r,Ht.empty(),je.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ie()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ie()){let r=pi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=js();return s.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let i=pi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ie()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,i,r){let s=bn(),a=$s(),l=function(){return $s()}();return t.forEach((d,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof xn)?s=s.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Hs(m.mutation,h,m.mutation.getFieldMask(),je.now())):a.set(h.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>a.set(h,m)),t.forEach((h,m)=>{var v;return l.set(h,new Uh(m,(v=a.get(h))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,t){let i=$s(),r=new Ae((a,l)=>a-l),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let l of a)l.keys().forEach(d=>{let h=t.get(d);if(h===null)return;let m=i.get(d)||Ht.empty();m=l.applyToLocalView(h,m),i.set(d,m);let v=(r.get(l.batchId)||ie()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),h=d.key,m=d.value,v=_b();m.forEach(x=>{if(!s.has(x)){let C=Eb(t.get(x),i.get(x));C!==null&&v.set(x,C),s=s.add(x)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,v))}return R.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return U.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):R.resolve(pi()),l=qs,d=s;return a.next(h=>R.forEach(h,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),s.get(m)?R.resolve():this.remoteDocumentCache.getEntry(e,m).next(x=>{d=d.insert(m,x)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,ie())).next(m=>({batchId:l,changes:yb(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(i=>{let r=js();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,a=js();return this.indexManager.getCollectionParents(e,s).next(l=>R.forEach(l,d=>{let h=function(v,x){return new mr(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((v,x)=>{a=a.insert(v,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((d,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,Mt.newInvalidDocument(m)))});let l=js();return a.forEach((d,h)=>{let m=s.get(d);m!==void 0&&Hs(m.mutation,h,Ht.empty(),je.now()),$l(t,h)&&(l=l.insert(d,h))}),l})}};var Gh=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return R.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Kt(r.createTime)}}(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:MS(r.bundledQuery),readTime:Kt(r.readTime)}}(t)),R.resolve()}};var zh=class{constructor(){this.overlays=new Ae(U.comparator),this.Qr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let i=pi();return R.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.St(e,t,s)}),R.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),R.resolve()}getOverlaysForCollection(e,t,i){let r=pi(),s=t.length+1,a=new U(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return R.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ae((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let m=s.get(h.largestBatchId);m===null&&(m=pi(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let l=pi(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=r)););return R.resolve(l)}St(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Eh(t,i));let s=this.Qr.get(t);s===void 0&&(s=ie(),this.Qr.set(t,s)),this.Qr.set(t,s.add(i.key))}};var $h=class{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,R.resolve()}};var Zs=class{constructor(){this.$r=new Be(Re.Ur),this.Kr=new Be(Re.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let i=new Re(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Re(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){let t=new U(new De([])),i=new Re(t,e),r=new Re(t,e+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new U(new De([])),i=new Re(t,e),r=new Re(t,e+1),s=ie();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Re(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Re=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return U.comparator(e.key,t.key)||J(e.Zr,t.Zr)}static Wr(e,t){return J(e.Zr,t.Zr)||U.comparator(e.key,t.key)}};var Hh=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Be(Re.Ur)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Ih(s,t,i,r);this.mutationQueue.push(a);for(let l of r)this.Xr=this.Xr.add(new Re(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return R.resolve(a)}lookupMutationBatch(e,t){return R.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.ti(i),s=r<0?0:r;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?Nf:this.nr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Re(t,0),r=new Re(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{let l=this.ei(a.Zr);s.push(l)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Be(J);return t.forEach(r=>{let s=new Re(r,0),a=new Re(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),R.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;U.isDocumentKey(s)||(s=s.child(""));let a=new Re(new U(s),0),l=new Be(J);return this.Xr.forEachWhile(d=>{let h=d.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(d.Zr)),!0)},a),R.resolve(this.ni(l))}ni(e){let t=[];return e.forEach(i=>{let r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ce(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return R.forEach(t.mutations,r=>{let s=new Re(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){let i=new Re(t,0),r=this.Xr.firstAfterOrEqual(i);return R.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var qh=class{constructor(e){this.ii=e,this.docs=function(){return new Ae(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return R.resolve(i?i.document.mutableCopy():Mt.newInvalidDocument(t))}getEntries(e,t){let i=bn();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Mt.newInvalidDocument(r))}),R.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=bn(),a=t.path,l=new U(a.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||PC(MC(m),i)<=0||(r.has(m.key)||$l(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,t,i,r){V(9500)}si(e,t){return R.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Wh(this)}getSize(e){return R.resolve(this.size)}},Wh=class extends Bh{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),R.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var Kh=class{constructor(e){this.persistence=e,this.oi=new vn(t=>jf(t),Gf),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this._i=0,this.ai=new Zs,this.targetCount=0,this.ui=Js.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),R.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Js(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.Tr(t),R.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=t&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),R.waitFor(s).next(()=>r)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let i=this.oi.get(t)||null;return R.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),R.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),R.resolve()}getMatchingKeysForTargetId(e,t){let i=this.ai.Yr(t);return R.resolve(i)}containsKey(e,t){return R.resolve(this.ai.containsKey(t))}};var Il=class{constructor(e,t){this.ci={},this.overlays={},this.li=new Of(0),this.hi=!1,this.hi=!0,this.Pi=new $h,this.referenceDelegate=e(this),this.Ti=new Kh(this),this.indexManager=new Fh,this.remoteDocumentCache=function(r){return new qh(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new Ph(t),this.Ei=new Gh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new Hh(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){O("MemoryPersistence","Starting transaction:",e);let r=new Qh(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,t){return R.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}},Qh=class extends sh{constructor(e){super(),this.currentSequenceNumber=e}},Yh=class n{constructor(e){this.persistence=e,this.Vi=new Zs,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw V(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),R.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),R.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.gi,i=>{let r=U.fromPath(i);return this.pi(e,r).next(s=>{s||t.removeEntry(r,Y.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return R.or([()=>R.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},wl=class n{constructor(e,t){this.persistence=e,this.yi=new vn(i=>LC(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=FS(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return R.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return R.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?R.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0,r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,a=>this.Dr(e,a,t).next(l=>{l||(i++,s.removeEntry(a,Y.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),R.resolve()}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),R.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),R.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),R.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=il(e.data.value)),t}Dr(e,t,i){return R.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let r=this.yi.get(t);return R.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Xh=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=ie(),r=ie();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var Jh=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Zh=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return my()?8:OC(Le())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.ws(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new Jh;return this.Ss(e,t,a).next(l=>{if(s.result=l,this.fs)return this.Ds(e,t,a,l.size)})}).next(()=>s.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Zi()<=te.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",er(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),R.resolve()):(Zi()<=te.DEBUG&&O("QueryEngine","Query:",er(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Zi()<=te.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",er(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(t))):R.resolve())}ws(e,t){if(cv(t))return R.resolve(null);let i=Wt(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=vh(t,null,"F"),i=Wt(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let a=ie(...s);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let h=this.vs(t,l);return this.Cs(t,h,a,d.readTime)?this.ws(e,vh(t,null,"F")):this.Fs(e,h,t,d)}))})))}bs(e,t,i,r){return cv(t)||r.isEqual(Y.min())?R.resolve(null):this.ys.getDocuments(e,i).next(s=>{let a=this.vs(t,s);return this.Cs(t,a,i,r)?R.resolve(null):(Zi()<=te.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),er(t)),this.Fs(e,a,t,kC(r,qs)).next(l=>l))})}vs(e,t){let i=new Be(pb(e));return t.forEach((r,s)=>{$l(e,s)&&(i=i.add(s))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,i){return Zi()<=te.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",er(t)),this.ys.getDocumentsMatchingQuery(e,t,bi.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var qf="LocalStore",OS=3e8,ef=class{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Ae(J),this.Os=new vn(s=>jf(s),Gf),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jh(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function NS(n,e,t,i){return new ef(n,e,t,i)}function Ob(n,e){return g(this,null,function*(){let t=W(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let a=[],l=[],d=ie();for(let h of r){a.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}for(let h of s){l.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(i,d).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})})}function LS(n,e){let t=W(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(l,d,h,m){let v=h.batch,x=v.keys(),C=R.resolve();return x.forEach(k=>{C=C.next(()=>m.getEntry(d,k)).next(F=>{let M=h.docVersions.get(k);ce(M!==null,48541),F.version.compareTo(M)<0&&(v.applyToRemoteDocument(F,h),F.isValidDocument()&&(F.setReadTime(h.commitVersion),m.addEntry(F)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=ie();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(d=d.add(l.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Nb(n){let e=W(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function VS(n,e){let t=W(n),i=e.snapshotVersion,r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;let l=[];e.targetChanges.forEach((m,v)=>{let x=r.get(v);if(!x)return;l.push(t.Ti.removeMatchingKeys(s,m.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(s,m.addedDocuments,v)));let C=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(Xe.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,i)),r=r.insert(v,C),function(F,M,K){return F.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=OS?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(x,C,m)&&l.push(t.Ti.updateTargetData(s,C))});let d=bn(),h=ie();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(BS(s,a,e.documentUpdates).next(m=>{d=m.qs,h=m.Qs})),!i.isEqual(Y.min())){let m=t.Ti.getLastRemoteSnapshotVersion(s).next(v=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(m)}return R.waitFor(l).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.xs=r,s))}function BS(n,e,t){let i=ie(),r=ie();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=bn();return t.forEach((l,d)=>{let h=s.get(l);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(Y.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):O(qf,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",d.version)}),{qs:a,Qs:r}})}function US(n,e){let t=W(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Nf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jS(n,e){let t=W(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(s=>s?(r=s,R.resolve(r)):t.Ti.allocateTargetId(i).next(a=>(r=new Xs(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}function tf(n,e,t){return g(this,null,function*(){let i=W(n),r=i.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!wr(a))throw a;O(qf,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)})}function Iv(n,e,t){let i=W(n),r=Y.min(),s=ie();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,h,m){let v=W(d),x=v.Os.get(m);return x!==void 0?R.resolve(v.xs.get(x)):v.Ti.getTargetData(h,m)}(i,a,Wt(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(d=>{s=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,t?r:Y.min(),t?s:ie())).next(l=>(GS(i,tS(e),l),{documents:l,$s:s})))}function GS(n,e,t){let i=n.Ns.get(e)||Y.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(e,i)}var El=class{constructor(){this.activeTargetIds=aS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var nf=class{constructor(){this.xo=new El,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new El,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rf=class{No(e){}shutdown(){}};var wv="ConnectivityMonitor",Al=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){O(wv,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){O(wv,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nl=null;function sf(){return nl===null?nl=function(){return 268435456+Math.round(2147483648*Math.random())}():nl++,"0x"+nl.toString(16)}var Ku="RestConnection",zS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},of=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===hl?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,s){let a=sf(),l=this.jo(e,t.toUriEncodedString());O(Ku,`Sending RPC '${e}' ${a}:`,l,i);let d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,r,s);let{host:h}=new URL(l),m=Pn(h);return this.Jo(e,l,d,i,m).then(v=>(O(Ku,`Received RPC '${e}' ${a}: `,v),v),v=>{throw ar(Ku,`RPC '${e}' ${a} failed with error: `,v,"url: ",l,"request:",i),v})}Yo(e,t,i,r,s,a){return this.zo(e,t,i,r,s)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,t){let i=zS[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}};var af=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var Ye="WebChannelConnection",lf=class extends of{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,s){let a=sf();return new Promise((l,d)=>{let h=new Gu;h.setWithCredentials(!0),h.listenOnce(zu.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Us.NO_ERROR:let v=h.getResponseJson();O(Ye,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),l(v);break;case Us.TIMEOUT:O(Ye,`RPC '${e}' ${a} timed out`),d(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case Us.HTTP_ERROR:let x=h.getStatus();if(O(Ye,`RPC '${e}' ${a} failed with status:`,x,"response text:",h.getResponseText()),x>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);let k=C?.error;if(k&&k.status&&k.message){let F=function(K){let j=K.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(j)>=0?j:D.UNKNOWN}(k.status);d(new L(F,k.message))}else d(new L(D.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new L(D.UNAVAILABLE,"Connection failed."));break;default:V(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{O(Ye,`RPC '${e}' ${a} completed.`)}});let m=JSON.stringify(r);O(Ye,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",m,i,15)})}I_(e,t,i){let r=sf(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qu(),l=Hu(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;let m=s.join("");O(Ye,`Creating RPC '${e}' stream ${r}: ${m}`,d);let v=a.createWebChannel(m,d);this.E_(v);let x=!1,C=!1,k=new af({Zo:M=>{C?O(Ye,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(x||(O(Ye,`Opening RPC '${e}' stream ${r} transport.`),v.open(),x=!0),O(Ye,`RPC '${e}' stream ${r} sending:`,M),v.send(M))},Xo:()=>v.close()}),F=(M,K,j)=>{M.listen(K,Q=>{try{j(Q)}catch(he){setTimeout(()=>{throw he},0)}})};return F(v,Ji.EventType.OPEN,()=>{C||(O(Ye,`RPC '${e}' stream ${r} transport opened.`),k.__())}),F(v,Ji.EventType.CLOSE,()=>{C||(C=!0,O(Ye,`RPC '${e}' stream ${r} transport closed`),k.u_(),this.d_(v))}),F(v,Ji.EventType.ERROR,M=>{C||(C=!0,ar(Ye,`RPC '${e}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),k.u_(new L(D.UNAVAILABLE,"The operation could not be completed")))}),F(v,Ji.EventType.MESSAGE,M=>{var K;if(!C){let j=M.data[0];ce(!!j,16349);let Q=j,he=Q?.error||((K=Q[0])===null||K===void 0?void 0:K.error);if(he){O(Ye,`RPC '${e}' stream ${r} received error:`,he);let Je=he.status,de=function(_){let b=Se[_];if(b!==void 0)return Tb(b)}(Je),I=he.message;de===void 0&&(de=D.INTERNAL,I="Unknown error status: "+Je+" with message "+he.message),C=!0,k.u_(new L(de,I)),v.close()}else O(Ye,`RPC '${e}' stream ${r} received:`,j),k.c_(j)}}),F(l,$u.STAT_EVENT,M=>{M.stat===Za.PROXY?O(Ye,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===Za.NOPROXY&&O(Ye,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function Qu(){return typeof document<"u"?document:null}function Hl(n){return new Sh(n,!0)}var Tl=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-i);r>0&&O("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var Ev="PersistentStream",Cl=class{constructor(e,t,i,r,s,a,l,d){this.xi=e,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Tl(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return g(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return g(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return g(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===t&&this.z_(i,r)},i=>{e(()=>{let r=new L(D.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,t){let i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(()=>g(this,null,function*(){this.state=0,this.start()}))}j_(e){return O(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(O(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cf=class extends Cl{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=xS(this.serializer,e),i=function(s){if(!("targetChange"in s))return Y.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?Y.min():a.readTime?Kt(a.readTime):Y.min()}(e);return this.listener.Y_(t,i)}Z_(e){let t={};t.database=Mh(this.serializer),t.addTarget=function(s,a){let l,d=a.target;if(l=_h(d)?{documents:ES(s,d)}:{query:AS(s,d).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Cb(s,a.resumeToken);let h=Rh(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Y.min())>0){l.readTime=bl(s,a.snapshotVersion.toTimestamp());let h=Rh(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);let i=CS(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){let t={};t.database=Mh(this.serializer),t.removeTarget=e,this.Q_(t)}},df=class extends Cl{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=wS(e.writeResults,e.commitTime),i=Kt(e.commitTime);return this.listener.ra(i,t)}ia(){let e={};e.database=Mh(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>IS(this.serializer,i))};this.Q_(t)}};var uf=class{},hf=class extends uf{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,Dh(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(D.UNKNOWN,s.toString())})}Yo(e,t,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Dh(t,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new L(D.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},ff=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(gn(t),this.ua=!1):O("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Ei="RemoteStore",mf=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(()=>g(this,null,function*(){Ti(this)&&(O(Ei,"Restarting streams for network reachability change."),yield function(d){return g(this,null,function*(){let h=W(d);h.da.add(4),yield oo(h),h.Va.set("Unknown"),h.da.delete(4),yield ql(h)})}(this))}))}),this.Va=new ff(i,r)}};function ql(n){return g(this,null,function*(){if(Ti(n))for(let e of n.Aa)yield e(!0)})}function oo(n){return g(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function Lb(n,e){let t=W(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Yf(t)?Qf(t):Er(t).N_()&&Kf(t,e))}function Wf(n,e){let t=W(n),i=Er(t);t.Ea.delete(e),i.N_()&&Vb(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ti(t)&&t.Va.set("Unknown"))}function Kf(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Er(n).Z_(e)}function Vb(n,e){n.ma.Ke(e),Er(n).X_(e)}function Qf(n){n.ma=new Ch({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Er(n).start(),n.Va.ca()}function Yf(n){return Ti(n)&&!Er(n).O_()&&n.Ea.size>0}function Ti(n){return W(n).da.size===0}function Bb(n){n.ma=void 0}function $S(n){return g(this,null,function*(){n.Va.set("Online")})}function HS(n){return g(this,null,function*(){n.Ea.forEach((e,t)=>{Kf(n,e)})})}function qS(n,e){return g(this,null,function*(){Bb(n),Yf(n)?(n.Va.Pa(e),Qf(n)):n.Va.set("Unknown")})}function WS(n,e,t){return g(this,null,function*(){if(n.Va.set("Online"),e instanceof _l&&e.state===2&&e.cause)try{yield function(r,s){return g(this,null,function*(){let a=s.cause;for(let l of s.targetIds)r.Ea.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))})}(n,e)}catch(i){O(Ei,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Sl(n,i)}else if(e instanceof rr?n.ma.Xe(e):e instanceof yl?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Y.min()))try{let i=yield Nb(n.localStore);t.compareTo(i)>=0&&(yield function(s,a){let l=s.ma.It(a);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){let m=s.Ea.get(h);m&&s.Ea.set(h,m.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,h)=>{let m=s.Ea.get(d);if(!m)return;s.Ea.set(d,m.withResumeToken(Xe.EMPTY_BYTE_STRING,m.snapshotVersion)),Vb(s,d);let v=new Xs(m.target,d,h,m.sequenceNumber);Kf(s,v)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){O(Ei,"Failed to raise snapshot:",i),yield Sl(n,i)}})}function Sl(n,e,t){return g(this,null,function*(){if(!wr(e))throw e;n.da.add(1),yield oo(n),n.Va.set("Offline"),t||(t=()=>Nb(n.localStore)),n.asyncQueue.enqueueRetryable(()=>g(null,null,function*(){O(Ei,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield ql(n)}))})}function Ub(n,e){return e().catch(t=>Sl(n,t,e))}function Wl(n){return g(this,null,function*(){let e=W(n),t=Hn(e),i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Nf;for(;KS(e);)try{let r=yield US(e.localStore,i);if(r===null){e.Ia.length===0&&t.k_();break}i=r.batchId,QS(e,r)}catch(r){yield Sl(e,r)}jb(e)&&Gb(e)})}function KS(n){return Ti(n)&&n.Ia.length<10}function QS(n,e){n.Ia.push(e);let t=Hn(n);t.N_()&&t.ea&&t.ta(e.mutations)}function jb(n){return Ti(n)&&!Hn(n).O_()&&n.Ia.length>0}function Gb(n){Hn(n).start()}function YS(n){return g(this,null,function*(){Hn(n).ia()})}function XS(n){return g(this,null,function*(){let e=Hn(n);for(let t of n.Ia)e.ta(t.mutations)})}function JS(n,e,t){return g(this,null,function*(){let i=n.Ia.shift(),r=wh.from(i,e,t);yield Ub(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wl(n)})}function ZS(n,e){return g(this,null,function*(){e&&Hn(n).ea&&(yield function(i,r){return g(this,null,function*(){if(function(a){return mS(a)&&a!==D.ABORTED}(r.code)){let s=i.Ia.shift();Hn(i).L_(),yield Ub(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Wl(i)}})}(n,e)),jb(n)&&Gb(n)})}function Av(n,e){return g(this,null,function*(){let t=W(n);t.asyncQueue.verifyOperationInProgress(),O(Ei,"RemoteStore received new credentials");let i=Ti(t);t.da.add(3),yield oo(t),i&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield ql(t)})}function eR(n,e){return g(this,null,function*(){let t=W(n);e?(t.da.delete(2),yield ql(t)):e||(t.da.add(2),yield oo(t),t.Va.set("Unknown"))})}function Er(n){return n.fa||(n.fa=function(t,i,r){let s=W(t);return s.oa(),new cf(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:$S.bind(null,n),n_:HS.bind(null,n),i_:qS.bind(null,n),Y_:WS.bind(null,n)}),n.Aa.push(e=>g(null,null,function*(){e?(n.fa.L_(),Yf(n)?Qf(n):n.Va.set("Unknown")):(yield n.fa.stop(),Bb(n))}))),n.fa}function Hn(n){return n.ga||(n.ga=function(t,i,r){let s=W(t);return s.oa(),new df(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:YS.bind(null,n),i_:ZS.bind(null,n),na:XS.bind(null,n),ra:JS.bind(null,n)}),n.Aa.push(e=>g(null,null,function*(){e?(n.ga.L_(),yield Wl(n)):(yield n.ga.stop(),n.Ia.length>0&&(O(Ei,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var pf=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let a=Date.now()+i,l=new n(e,t,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Xf(n,e){if(gn("AsyncQueue",`${e}: ${n}`),wr(n))return new L(D.UNAVAILABLE,`${e}: ${n}`);throw n}var Rl=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||U.comparator(t.key,i.key):(t,i)=>U.comparator(t.key,i.key),this.keyedMap=js(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Dl=class{constructor(){this.pa=new Ae(U.comparator)}track(e){let t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):V(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}},vr=class n{constructor(e,t,i,r,s,a,l,d,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,s){let a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new n(e,t,Rl.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var gf=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},yf=class{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){let r=W(t),s=r.queries;r.queries=Tv(),s.forEach((a,l)=>{for(let d of l.Sa)d.onError(i)})})(this,new L(D.ABORTED,"Firestore shutting down"))}};function Tv(){return new vn(n=>mb(n),zl)}function tR(n,e){return g(this,null,function*(){let t=W(n),i=3,r=e.query,s=t.queries.get(r);s?!s.Da()&&e.va()&&(i=2):(s=new gf,i=e.va()?0:1);try{switch(i){case 0:s.ba=yield t.onListen(r,!0);break;case 1:s.ba=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(a){let l=Xf(a,`Initialization of query '${er(e.query)}' failed`);return void e.onError(l)}t.queries.set(r,s),s.Sa.push(e),e.Fa(t.onlineState),s.ba&&e.Ma(s.ba)&&Jf(t)})}function nR(n,e){return g(this,null,function*(){let t=W(n),i=e.query,r=3,s=t.queries.get(i);if(s){let a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.va()?0:1:!s.Da()&&e.va()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function iR(n,e){let t=W(n),i=!1;for(let r of e){let s=r.query,a=t.queries.get(s);if(a){for(let l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&Jf(t)}function rR(n,e,t){let i=W(n),r=i.queries.get(e);if(r)for(let s of r.Sa)s.onError(t);i.queries.delete(e)}function Jf(n){n.Ca.forEach(e=>{e.next()})}var _f,Cv;(Cv=_f||(_f={})).xa="default",Cv.Cache="cache";var vf=class{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new vr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=vr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==_f.Cache}};var kl=class{constructor(e){this.key=e}},Ml=class{constructor(e){this.key=e}},bf=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.Za=pb(e),this.Xa=new Rl(this.Za)}get eu(){return this.Ha}tu(e,t){let i=t?t.nu:new Dl,r=t?t.Xa:this.Xa,s=t?t.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{let x=r.get(m),C=$l(this.query,v)?v:null,k=!!x&&this.mutatedKeys.has(x.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),M=!1;x&&C?x.data.isEqual(C.data)?k!==F&&(i.track({type:3,doc:C}),M=!0):this.ru(x,C)||(i.track({type:2,doc:C}),M=!0,(d&&this.Za(C,d)>0||h&&this.Za(C,h)<0)&&(l=!0)):!x&&C?(i.track({type:0,doc:C}),M=!0):x&&!C&&(i.track({type:1,doc:x}),M=!0,(d||h)&&(l=!0)),M&&(C?(a=a.add(C),s=F?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let a=e.nu.wa();a.sort((m,v)=>function(C,k){let F=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V(20277,{Vt:M})}};return F(C)-F(k)}(m.type,v.type)||this.Za(m.doc,v.doc)),this.iu(i),r=r!=null&&r;let l=t&&!r?this.su():[],d=this.Ya.size===0&&this.current&&!r?1:0,h=d!==this.Ja;return this.Ja=d,a.length!==0||h?{snapshot:new vr(this.query,e.Xa,s,a,e.mutatedKeys,d===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Dl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=ie(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});let t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Ml(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new kl(i))}),t}au(e){this.Ha=e.$s,this.Ya=ie();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return vr.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},Zf="SyncEngine",xf=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},If=class{constructor(e){this.key=e,this.cu=!1}},wf=class{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new vn(l=>mb(l),zl),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ae(U.comparator),this.Eu=new Map,this.du=new Zs,this.Au={},this.Ru=new Map,this.Vu=Js.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function sR(n,e,t=!0){return g(this,null,function*(){let i=Kb(n),r,s=i.hu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=yield zb(i,e,t,!0),r})}function oR(n,e){return g(this,null,function*(){let t=Kb(n);yield zb(t,e,!0,!1)})}function zb(n,e,t,i){return g(this,null,function*(){let r=yield jS(n.localStore,Wt(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t),l;return i&&(l=yield aR(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&Lb(n.remoteStore,r),l})}function aR(n,e,t,i,r){return g(this,null,function*(){n.fu=(v,x,C)=>function(F,M,K,j){return g(this,null,function*(){let Q=M.view.tu(K);Q.Cs&&(Q=yield Iv(F.localStore,M.query,!1).then(({documents:I})=>M.view.tu(I,Q)));let he=j&&j.targetChanges.get(M.targetId),Je=j&&j.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(Q,F.isPrimaryClient,he,Je);return Rv(F,M.targetId,de.ou),de.snapshot})}(n,v,x,C);let s=yield Iv(n.localStore,e,!0),a=new bf(e,s.$s),l=a.tu(s.documents),d=Ys.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=a.applyChanges(l,n.isPrimaryClient,d);Rv(n,t,h.ou);let m=new xf(e,t,a);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot})}function lR(n,e,t){return g(this,null,function*(){let i=W(n),r=i.hu.get(e),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!zl(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Wf(i.remoteStore,r.targetId),Ef(i,r.targetId)}).catch(Ir))):(Ef(i,r.targetId),yield tf(i.localStore,r.targetId,!0))})}function cR(n,e){return g(this,null,function*(){let t=W(n),i=t.hu.get(e),r=t.Pu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Wf(t.remoteStore,i.targetId))})}function dR(n,e,t){return g(this,null,function*(){let i=yR(n);try{let r=yield function(a,l){let d=W(a),h=je.now(),m=l.reduce((C,k)=>C.add(k.key),ie()),v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=bn(),F=ie();return d.Bs.getEntries(C,m).next(M=>{k=M,k.forEach((K,j)=>{j.isValidDocument()||(F=F.add(K))})}).next(()=>d.localDocuments.getOverlayedDocuments(C,k)).next(M=>{v=M;let K=[];for(let j of l){let Q=fS(j,v.get(j.key).overlayedDocument);Q!=null&&K.push(new xn(j.key,Q,lb(Q.value.mapValue),_i.exists(!0)))}return d.mutationQueue.addMutationBatch(C,h,K,l)}).next(M=>{x=M;let K=M.applyToLocalDocumentSet(v,F);return d.documentOverlayCache.saveOverlays(C,M.batchId,K)})}).then(()=>({batchId:x.batchId,changes:yb(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let h=a.Au[a.currentUser.toKey()];h||(h=new Ae(J)),h=h.insert(l,d),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,t),yield ao(i,r.changes),yield Wl(i.remoteStore)}catch(r){let s=Xf(r,"Failed to persist write");t.reject(s)}})}function $b(n,e){return g(this,null,function*(){let t=W(n);try{let i=yield VS(t.localStore,e);e.targetChanges.forEach((r,s)=>{let a=t.Eu.get(s);a&&(ce(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?ce(a.cu,14607):r.removedDocuments.size>0&&(ce(a.cu,42227),a.cu=!1))}),yield ao(t,i,e)}catch(i){yield Ir(i)}})}function Sv(n,e,t){let i=W(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.hu.forEach((s,a)=>{let l=a.view.Fa(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=W(a);d.onlineState=l;let h=!1;d.queries.forEach((m,v)=>{for(let x of v.Sa)x.Fa(l)&&(h=!0)}),h&&Jf(d)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function uR(n,e,t){return g(this,null,function*(){let i=W(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Eu.get(e),s=r&&r.key;if(s){let a=new Ae(U.comparator);a=a.insert(s,Mt.newNoDocument(s,Y.min()));let l=ie().add(s),d=new gl(Y.min(),new Map,new Ae(J),a,l);yield $b(i,d),i.Iu=i.Iu.remove(s),i.Eu.delete(e),em(i)}else yield tf(i.localStore,e,!1).then(()=>Ef(i,e,t)).catch(Ir)})}function hR(n,e){return g(this,null,function*(){let t=W(n),i=e.batch.batchId;try{let r=yield LS(t.localStore,e);qb(t,i,null),Hb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ao(t,r)}catch(r){yield Ir(r)}})}function fR(n,e,t){return g(this,null,function*(){let i=W(n);try{let r=yield function(a,l){let d=W(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,l).next(v=>(ce(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(i.localStore,e);qb(i,e,t),Hb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ao(i,r)}catch(r){yield Ir(r)}})}function Hb(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function qb(n,e,t){let i=W(n),r=i.Au[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function Ef(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Wb(n,i)})}function Wb(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(Wf(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),em(n))}function Rv(n,e,t){for(let i of t)i instanceof kl?(n.du.addReference(i.key,e),mR(n,i)):i instanceof Ml?(O(Zf,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Wb(n,i.key)):V(19791,{pu:i})}function mR(n,e){let t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(O(Zf,"New document in limbo: "+t),n.Tu.add(i),em(n))}function em(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new U(De.fromString(e)),i=n.Vu.next();n.Eu.set(i,new If(t)),n.Iu=n.Iu.insert(t,i),Lb(n.remoteStore,new Xs(Wt(zf(t.path)),i,"TargetPurposeLimboResolution",Of.le))}}function ao(n,e,t){return g(this,null,function*(){let i=W(n),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,d)=>{a.push(i.fu(d,e,t).then(h=>{var m;if((h||t)&&i.isPrimaryClient){let v=h?!h.fromCache:(m=t?.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(h){r.push(h);let v=Xh.Rs(d.targetId,h);s.push(v)}}))}),yield Promise.all(a),i.lu.Y_(r),yield function(d,h){return g(this,null,function*(){let m=W(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>R.forEach(h,x=>R.forEach(x.ds,C=>m.persistence.referenceDelegate.addReference(v,x.targetId,C)).next(()=>R.forEach(x.As,C=>m.persistence.referenceDelegate.removeReference(v,x.targetId,C)))))}catch(v){if(!wr(v))throw v;O(qf,"Failed to update sequence numbers: "+v)}for(let v of h){let x=v.targetId;if(!v.fromCache){let C=m.xs.get(x),k=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(k);m.xs=m.xs.insert(x,F)}}})}(i.localStore,s))})}function pR(n,e){return g(this,null,function*(){let t=W(n);if(!t.currentUser.isEqual(e)){O(Zf,"User change. New user:",e.toKey());let i=yield Ob(t.localStore,e);t.currentUser=e,function(s,a){s.Ru.forEach(l=>{l.forEach(d=>{d.reject(new L(D.CANCELLED,a))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ao(t,i.ks)}})}function gR(n,e){let t=W(n),i=t.Eu.get(e);if(i&&i.cu)return ie().add(i.key);{let r=ie(),s=t.Pu.get(e);if(!s)return r;for(let a of s){let l=t.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function Kb(n){let e=W(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uR.bind(null,e),e.lu.Y_=iR.bind(null,e.eventManager),e.lu.gu=rR.bind(null,e.eventManager),e}function yR(n){let e=W(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fR.bind(null,e),e}var Qb=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return g(this,null,function*(){this.serializer=Hl(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,i){return null}Cu(t,i){return null}Du(t){return NS(this.persistence,new Zh,t.initialUser,this.serializer)}Su(t){return new Il(Yh.fi,this.serializer)}bu(t){return new nf}terminate(){return g(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Af=class extends Qb{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ce(this.persistence.referenceDelegate instanceof wl,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new Lh(i,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?vt.withCacheSize(this.cacheSizeBytes):vt.DEFAULT;return new Il(i=>wl.fi(i,t),this.serializer)}};var _R=(()=>{class n{initialize(t,i){return g(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pR.bind(null,this.syncEngine),yield eR(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new yf}()}createDatastore(t){let i=Hl(t.databaseInfo.databaseId),r=function(a){return new lf(a)}(t.databaseInfo);return function(a,l,d,h){return new hf(a,l,d,h)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,a,l,d){return new mf(r,s,a,l,d)}(this.localStore,this.datastore,t.asyncQueue,i=>Sv(this.syncEngine,i,0),function(){return Al.C()?new Al:new rf}())}createSyncEngine(t,i){return function(s,a,l,d,h,m,v){let x=new wf(s,a,l,d,h,m);return v&&(x.mu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return g(this,null,function*(){var t,i;yield function(s){return g(this,null,function*(){let a=W(s);O(Ei,"RemoteStore shutting down."),a.da.add(5),yield oo(a),a.Ra.shutdown(),a.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Tf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var qn="FirestoreClient",Cf=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ve.UNAUTHENTICATED,this.clientId=ll.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,a=>g(this,null,function*(){O(qn,"Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,a=>(O(qn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Xf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Yu(n,e){return g(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),O(qn,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>g(null,null,function*(){i.isEqual(r)||(yield Ob(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Dv(n,e){return g(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield vR(n);O(qn,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Av(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Av(e.remoteStore,r)),n._onlineComponents=e})}function vR(n){return g(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){O(qn,"Using user provided OfflineComponentProvider");try{yield Yu(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===D.FAILED_PRECONDITION||r.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;ar("Error using user provided cache. Falling back to memory cache: "+t),yield Yu(n,new Qb)}}else O(qn,"Using default OfflineComponentProvider"),yield Yu(n,new Af(void 0));return n._offlineComponents})}function Yb(n){return g(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(O(qn,"Using user provided OnlineComponentProvider"),yield Dv(n,n._uninitializedComponentsProvider._online)):(O(qn,"Using default OnlineComponentProvider"),yield Dv(n,new _R))),n._onlineComponents})}function bR(n){return Yb(n).then(e=>e.syncEngine)}function kv(n){return g(this,null,function*(){let e=yield Yb(n),t=e.eventManager;return t.onListen=sR.bind(null,e.syncEngine),t.onUnlisten=lR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cR.bind(null,e.syncEngine),t})}function Xb(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Mv=new Map;function xR(n,e,t){if(!t)throw new L(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IR(n,e,t,i){if(e===!0&&i===!0)throw new L(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pv(n){if(!U.isDocumentKey(n))throw new L(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":V(12329,{type:typeof n})}function sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=tm(n);throw new L(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Jb="firestore.googleapis.com",Fv=!0,Pl=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jb,this.ssl=Fv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PS)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},eo=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pl(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xu;switch(i.type){case"firstParty":return new th(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return g(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=Mv.get(t);i&&(O("ComponentProvider","Removing Datastore"),Mv.delete(t),i.terminate())}(this),Promise.resolve()}};function Zb(n,e,t,i={}){var r;n=sr(n,eo);let s=Pn(e),a=n._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;s&&(Ta(`https://${d}`),Ca("Firestore",!0)),a.host!==Jb&&a.host!==d&&ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Object.assign(Object.assign({},a),{host:d,ssl:s,emulatorOptions:i});if(!Ut(h,l)&&(n._setSettings(h),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Ve.MOCK_USER;else{m=ly(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ve(x)}n._authCredentials=new Ju(new ol(m,v))}}var Fl=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},bt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},to=class n extends Fl{constructor(e,t,i){super(e,t,zf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new U(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ex(n,e,...t){if(n=Qe(n),arguments.length===1&&(e=ll.newId()),xR("doc","path",e),n instanceof eo){let i=De.fromString(e,...t);return Pv(i),new bt(n,null,new U(i))}{if(!(n instanceof bt||n instanceof to))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(De.fromString(e,...t));return Pv(i),new bt(n.firestore,n instanceof to?n.converter:null,new U(i))}}var Ov="AsyncQueue",Ol=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Tl(this,"async_queue_retry"),this.rc=()=>{let i=Qu();i&&O(Ov,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;let t=Qu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=Qu();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new pn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return g(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wr(e))throw e;O(Ov,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,gn("INTERNAL UNHANDLED ERROR: ",Nv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let r=pf.createAndSchedule(this,e,t,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&V(47125,{cc:Nv(this.Xu)})}verifyOperationInProgress(){}lc(){return g(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function Nv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Lv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var br=class extends eo{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Ol,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return g(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ol(e),this._firestoreClient=void 0,yield e}})}};function tx(n,e){let t=typeof n=="object"?n:li(),i=typeof n=="string"?n:e||hl,r=Wi(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=ay("firestore");s&&Zb(r,...s)}return r}function nx(n){if(n._terminated)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wR(n),n._firestoreClient}function wR(n){var e,t,i;let r=n._freezeSettings(),s=function(l,d,h,m){return new oh(l,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Xb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Cf(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(l){let d=l?._online.build();return{_offline:l?._offline.build(d),_online:d}}(n._componentsProvider))}var no=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Xe.fromBase64String(e))}catch(t){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var io=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nl=class{constructor(e){this._methodName=e}};var ro=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}};var so=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var ER=/^__.*__$/,Sf=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xn(e,this.data,this.fieldMask,t,this.fieldTransforms):new wi(e,this.data,t,this.fieldTransforms)}};function ix(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V(40011,{Ic:n})}}var Rf=class n{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ll(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(ix(this.Ic)&&ER.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},Df=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hl(e)}bc(e,t,i,r=!1){return new Rf({Ic:e,methodName:t,wc:i,path:mt.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AR(n){let e=n._freezeSettings(),t=Hl(n._databaseId);return new Df(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TR(n,e,t,i,r,s={}){let a=n.bc(s.merge||s.mergeFields?2:0,e,t,r);ax("Data must be an object, but it was:",a,i);let l=sx(i,a),d,h;if(s.merge)d=new Ht(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){let m=[];for(let v of s.mergeFields){let x=CR(e,v,t);if(!a.contains(x))throw new L(D.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);RR(m,x)||m.push(x)}d=new Ht(m),h=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=a.fieldTransforms;return new Sf(new kt(l),d,h)}function rx(n,e){if(ox(n=Qe(n)))return ax("Unsupported field value:",e,n),sx(n,e);if(n instanceof Nl)return function(i,r){if(!ix(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){let s=[],a=0;for(let l of i){let d=rx(l,r.fc(a));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lS(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=je.fromDate(i);return{timestampValue:bl(r.serializer,s)}}if(i instanceof je){let s=new je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bl(r.serializer,s)}}if(i instanceof ro)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof no)return{bytesValue:Cb(r.serializer,i._byteString)};if(i instanceof bt){let s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hf(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof so)return function(a,l){return{mapValue:{fields:{[Vf]:{stringValue:Bf},[cr]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return $f(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${tm(i)}`)}(n,e)}function sx(n,e){let t={};return eb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(n,(i,r)=>{let s=rx(r,e.Ac(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function ox(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof je||n instanceof ro||n instanceof no||n instanceof bt||n instanceof Nl||n instanceof so)}function ax(n,e,t){if(!ox(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=tm(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function CR(n,e,t){if((e=Qe(e))instanceof io)return e._internalPath;if(typeof e=="string")return lx(n,e);throw Ll("Field path arguments must be of type string or ",n,!1,void 0,t)}var SR=new RegExp("[~\\*/\\[\\]]");function lx(n,e,t){if(e.search(SR)>=0)throw Ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new io(...e.split("."))._internalPath}catch{throw Ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ll(n,e,t,i,r){let s=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new L(D.INVALID_ARGUMENT,l+n+d)}function RR(n,e){return n.some(t=>t.isEqual(e))}var Vl=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(cx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},kf=class extends Vl{data(){return super.data()}};function cx(n,e){return typeof e=="string"?lx(n,e):e instanceof io?e._internalPath:e._delegate._internalPath}function DR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mf=class{convertValue(e,t="none"){switch($n(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_n(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw V(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Ai(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[cr].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>be(a.doubleValue));return new so(s)}convertGeoPoint(e){return new ro(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=Gl(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ks(e));default:return null}}convertTimestamp(e){let t=yn(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=De.fromString(e);ce(Pb(i),9688,{name:e});let r=new fl(i.get(1),i.get(3)),s=new U(i.popFirst(5));return r.isEqual(t)||gn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function kR(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var yi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bl=class extends Vl{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new or(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(cx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},or=class extends Bl{data(e={}){return super.data(e)}},Pf=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yi(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new or(this._firestore,this._userDataWriter,i.key,i,new yi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new or(r._firestore,r._userDataWriter,l.doc.key,l.doc,new yi(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{let d=new or(r._firestore,r._userDataWriter,l.doc.key,l.doc,new yi(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:MR(l.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function MR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V(61501,{type:n})}}var Ul=class extends Mf{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}};function dx(n,e,t){n=sr(n,bt);let i=sr(n.firestore,br),r=kR(n.converter,e,t);return PR(i,[TR(AR(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,_i.none())])}function nm(n,...e){var t,i,r;n=Qe(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Lv(e[a])||(s=e[a],a++);let l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Lv(e[a])){let v=e[a];e[a]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[a+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[a+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let d,h,m;if(n instanceof bt)h=sr(n.firestore,br),m=zf(n._key.path),d={next:v=>{e[a]&&e[a](FR(h,n,v))},error:e[a+1],complete:e[a+2]};else{let v=sr(n,Fl);h=sr(v.firestore,br),m=v._query;let x=new Ul(h);d={next:C=>{e[a]&&e[a](new Pf(h,x,v,C))},error:e[a+1],complete:e[a+2]},DR(n._query)}return function(x,C,k,F){let M=new Tf(F),K=new vf(C,M,k);return x.asyncQueue.enqueueAndForget(()=>g(null,null,function*(){return tR(yield kv(x),K)})),()=>{M.xu(),x.asyncQueue.enqueueAndForget(()=>g(null,null,function*(){return nR(yield kv(x),K)}))}}(nx(h),m,l,d)}function PR(n,e){return function(i,r){let s=new pn;return i.asyncQueue.enqueueAndForget(()=>g(null,null,function*(){return dR(yield bR(i),r,s)})),s.promise}(nx(n),e)}function FR(n,e,t){let i=t.docs.get(e._key),r=new Ul(n);return new Bl(n,r,e._key,i,new yi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){xr=r})(On),Rt(new ot("firestore",(i,{instanceIdentifier:r,options:s})=>{let a=i.getProvider("app").getImmediate(),l=new br(new Zu(i.getProvider("auth-internal")),new nh(a,i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(h.options.projectId,m)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ee(K_,Q_,e),Ee(K_,Q_,"esm2017")})();var Kl=function(){return Kl=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Kl.apply(this,arguments)};var LR={includeMetadataChanges:!1};function ux(n,e){return e===void 0&&(e=LR),new tt(function(t){var i=nm(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function hx(n){return ux(n,{includeMetadataChanges:!0})}function fx(n,e){return e===void 0&&(e={}),hx(n).pipe(Fe(function(t){return mx(t,e)}))}function mx(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Kl(Kl({},i),(t={},t[e.idField]=n.id,t))}var Ci=class{constructor(e){return e}},px="firestore",im=class{constructor(){return Qi(px)}};var rm=new q("angularfire2.firestore-instances");function VR(n,e){let t=Ts(px,n,e);return t&&new Ci(t)}function BR(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ci(i)}}var UR={provide:im,deps:[[new gt,rm]]},jR={provide:Ci,useFactory:VR,deps:[[new gt,rm],ln]};function i2(n,...e){return Ee("angularfire",Nn.full,"fst"),Pi([jR,UR,{provide:rm,useFactory:BR(n),multi:!0,deps:[Z,Oe,Ln,di,[new gt,Bs],[new gt,Yi],...e]}])}var gx=dt(fx,!0);var Ql=dt(ex,!0,2);var r2=dt(tx,!0);var sm=dt(dx,!0,2);var Ar=class n{constructor(e,t){this.auth=e;this.afs=t}login(e,t){return Sn(z_(this.auth,e,t))}register(e,t,i){return Sn(G_(this.auth,t,i)).pipe(Lc(r=>{let s=Ql(this.afs,`users/${r.user.uid}`);return sm(s,{name:e,email:t,createdAt:new Date}).then(()=>r)}))}getUserDoc(e){let t=Ql(this.afs,`users/${e}`);return gx(t)}updateUser(e,t){let i=Ql(this.afs,`users/${e}`);return sm(i,t,{merge:!0})}logout(){return Sn($_(this.auth))}static \u0275fac=function(t){return new(t||n)(le(hn),le(Ci))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function am(n){for(let e in n){let t=n[e]??"";switch(e){case"display":t==="flex"?n.display=["-webkit-flex","flex"]:t==="inline-flex"?n.display=["-webkit-inline-flex","inline-flex"]:n.display=t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t;break}}return n}var om="inline",Yl=["row","column","row-reverse","column-reverse"];function Xl(n){let[e,t,i]=zR(n);return HR(e,t,i)}function zR(n){n=n?.toLowerCase()??"";let[e,t,i]=n.split(" ");return Yl.find(r=>r===e)||(e=Yl[0]),t===om&&(t=i!==om?i:"",i=om),[e,$R(t),!!i]}function $R(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap";break}return n}function HR(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}function lm(n,...e){if(n==null)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(t!=null)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function qR(n,e){return()=>{if(sn(e)){let t=Array.from(n.querySelectorAll(`[class*=${_x}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${_x}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}}var WR={provide:Cp,useFactory:qR,deps:[lt,Ft],multi:!0},_x="flex-layout-";var Cr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=se({type:n})}static{this.\u0275inj=re({providers:[WR]})}}return n})(),Si=class n{constructor(e=!1,t="all",i="",r="",s=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new n(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}};var KR=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){let s=this.stylesheet.get(t);s?s.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){let r=this.stylesheet.get(t),s="";if(r){let a=r.get(i);(typeof a=="number"||typeof a=="string")&&(s=a+"")}return s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jl={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Xt=new q("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Jl});var co=new q("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1});var Zl=new q("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Sx(n,e){return n=n?.clone()??new Si,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}var Wn=class{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}};var uo=(()=>{class n{constructor(t,i,r,s){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(t,i,r=null){let s={};typeof i=="string"&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:am(i),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,i=[]){let r=this.layoutConfig.disableVendorPrefixes?t:am(t);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(t){let i="flex-direction",r=this.lookupStyle(t,i),s=this.lookupInlineStyle(t,i)||$o(this._platformId)&&this._serverModuleLoaded?r:"";return[r||"row",s]}hasWrap(t){return this.lookupStyle(t,"flex-wrap")==="wrap"}lookupAttributeValue(t,i){return t.getAttribute(i)??""}lookupInlineStyle(t,i){return sn(this._platformId)?t.style.getPropertyValue(i):QR(t,i)}lookupStyle(t,i,r=!1){let s="";return t&&((s=this.lookupInlineStyle(t,i))||(sn(this._platformId)?r||(s=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,i)))),s?s.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{let s=t[r],a=Array.isArray(s)?s:[s];a.sort();for(let l of a)l=l?l+"":"",sn(this._platformId)||!this._serverModuleLoaded?sn(this._platformId)?i.style.setProperty(r,l):YR(i,r,l):this._serverStylesheet.addStyleToElement(i,r,l)})}static{this.\u0275fac=function(i){return new(i||n)(le(KR),le(co),le(Ft),le(Xt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QR(n,e){return Rx(n)[e]??""}function YR(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();let i=Rx(n);i[e]=t??"",XR(n,i)}function XR(n,e){let t="";for(let i in e)e[i]&&(t+=`${i}:${e[i]};`);n.setAttribute("style",t)}function Rx(n){let e={},t=n.getAttribute("style");if(t){let i=t.split(/;+/g);for(let r=0;r<i.length;r++){let s=i[r].trim();if(s.length>0){let a=s.indexOf(":");if(a===-1)throw new Error(`Invalid CSS style: ${s}`);let l=s.substr(0,a).trim();e[l]=s.substr(a+1).trim()}}}return e}function lo(n,e){let t=n&&n.priority||0;return(e&&e.priority||0)-t}function JR(n,e){let t=n.priority||0,i=e.priority||0;return t-i}var ZR=(()=>{class n{constructor(t,i,r,s){this._zone=t,this._platformId=i,this._document=r,this._nonce=s,this.source=new Mo(new Si(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){let t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){let r=this._observable$.pipe(It(a=>i?t.indexOf(a.mediaQuery)>-1:!0)),s=new tt(a=>{let l=this.registerQuery(t);if(l.length){let d=l.pop();l.forEach(h=>{a.next(h)}),this.source.next(d)}a.complete()});return Wr(s,r)}return this._observable$}registerQuery(t){let i=Array.isArray(t)?t:[t],r=[];return eD(i,this._document,this._nonce),i.forEach(s=>{let a=d=>{this._zone.run(()=>this.source.next(new Si(d.matches,s)))},l=this.registry.get(s);l||(l=this.buildMQL(s),l.addListener(a),this.pendingRemoveListenerFns.push(()=>l.removeListener(a)),this.registry.set(s,l)),l.matches&&r.push(new Si(!0,s))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return nD(t,sn(this._platformId))}static{this.\u0275fac=function(i){return new(i||n)(le(Z),le(Ft),le(lt),le(jo,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vx={};function eD(n,e,t){let i=n.filter(r=>!vx[r]);if(i.length>0){let r=i.join(", ");try{let s=e.createElement("style");if(s.setAttribute("type","text/css"),t&&s.setAttribute("nonce",t),!s.styleSheet){let a=`
/*
  @ngbracket/ngx-layout - workaround for possible browser quirk with mediaQuery listeners
  see http://bit.ly/2sd4HMP
*/
@media ${r} {.fx-query-test{ }}
`;s.appendChild(e.createTextNode(a))}e.head.appendChild(s),i.forEach(a=>vx[a]=s)}catch(s){console.error(s)}}}function tD(n){let e=new EventTarget;return e.matches=n==="all"||n==="",e.media=n,e.addListener=()=>{},e.removeListener=()=>{},e.addEventListener=()=>{},e.dispatchEvent=()=>!1,e.onchange=null,e}function nD(n,e){return e&&!!window.matchMedia("all").addListener?window.matchMedia(n):tD(n)}var iD=/(\.|-|_)/g;function rD(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}function sD(n){return n.replace(iD,"|").split("|").map(rD).join("")}function oD(n){return n.forEach(e=>{e.suffix||(e.suffix=sD(e.alias),e.overlapping=!!e.overlapping)}),n}function aD(n,e=[]){let t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?lm(t[i.alias],i):t[i.alias]=i}),oD(Object.keys(t).map(i=>t[i]))}var lD=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}];var bx="(orientation: portrait) and (max-width: 599.98px)",xx="(orientation: landscape) and (max-width: 959.98px)",Ix="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",wx="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Ex="(orientation: portrait) and (min-width: 840px)",Ax="(orientation: landscape) and (min-width: 1280px)",In={HANDSET:`${bx}, ${xx}`,TABLET:`${Ix} , ${wx}`,WEB:`${Ex}, ${Ax} `,HANDSET_PORTRAIT:`${bx}`,TABLET_PORTRAIT:`${Ix} `,WEB_PORTRAIT:`${Ex}`,HANDSET_LANDSCAPE:`${xx}`,TABLET_LANDSCAPE:`${wx}`,WEB_LANDSCAPE:`${Ax}`},cD=[{alias:"handset",priority:2e3,mediaQuery:In.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:In.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:In.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:In.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:In.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:In.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:In.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:In.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:In.WEB_PORTRAIT,overlapping:!0}];var dD=new q("Token (@ngbracket/ngx-layout) Breakpoints",{providedIn:"root",factory:()=>{let n=S(Zl),e=S(Xt),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r])),i=(e.disableDefaultBps?[]:lD).concat(e.addOrientationBps?cD:[]);return aD(i,t)}});var Dx=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(JR)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,i){let r=this.findByMap.get(t);return r||(r=this.items.find(i)??null,this.findByMap.set(t,r)),r??null}static{this.\u0275fac=function(i){return new(i||n)(le(dD))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Tr="print",uD={alias:Tr,mediaQuery:Tr,priority:1e3},hD=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new cm,this.deactivations=[]}withPrintQuery(t){return[...t,Tr]}isPrintEvent(t){return t.mediaQuery.startsWith(Tr)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>t!==null)}getEventBreakpoints({mediaQuery:t}){let i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(lo)}updateEvent(t){let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=i?.mediaQuery??""),Sx(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;let i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Si(!0,Tr))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return i=>{if(this.isPrintEvent(i)){i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles());return}this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent){this.deactivations=[];return}if(!i.matches){let r=this.breakpoints.findByQuery(i.mediaQuery);if(r){let s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&t.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort(lo))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}static{this.\u0275fac=function(i){return new(i||n)(le(Dx),le(Xt),le(lt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cm=class{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(uD),e.sort(lo),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)===void 0&&(this.printBreakpoints=fD(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}};function fD(n){return n?.mediaQuery.startsWith(Tr)??!1}var ec=(()=>{class n{get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new me,this.observeActivations()}onMediaChange(t){let i=this.findByQuery(t.mediaQuery);if(i){t=Sx(t,i);let r=this.activatedBreakpoints.indexOf(i);t.matches&&r===-1?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(lo),this.updateStyles()):!t.matches&&r!==-1&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(lo),this.updateStyles())}}init(t,i,r,s,a=[]){Tx(this.updateMap,t,i,r),Tx(this.clearMap,t,i,s),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,a)}getValue(t,i,r){let s=this.elementMap.get(t);if(s){let a=r!==void 0?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(t,i){let r=this.elementMap.get(t);if(r){let s=this.getActivatedValues(r,i);if(s)return s.get(i)!==void 0||!1}return!1}setValue(t,i,r,s){let a=this.elementMap.get(t);if(!a)a=new Map().set(s,new Map().set(i,r)),this.elementMap.set(t,a);else{let d=(a.get(s)??new Map).set(i,r);a.set(s,d),this.elementMap.set(t,a)}let l=this.getValue(t,i);l!==void 0&&this.updateElement(t,i,l)}trackValue(t,i){return this.subject.asObservable().pipe(It(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{let r=new Set(this.elementKeyMap.get(i)),s=this.getActivatedValues(t);s&&s.forEach((a,l)=>{this.updateElement(i,l,a),r.delete(l)}),r.forEach(a=>{if(s=this.getActivatedValues(t,a),s){let l=s.get(a);this.updateElement(i,a,l)}else this.clearElement(i,a)})})}clearElement(t,i){let r=this.clearMap.get(t);if(r){let s=r.get(i);s&&(s(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){let s=this.updateMap.get(t);if(s){let a=s.get(i);a&&(a(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){let i=this.watcherMap.get(t);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));let r=this.elementMap.get(t);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(t))}triggerUpdate(t,i){let r=this.elementMap.get(t);if(r){let s=this.getActivatedValues(r,i);s&&(i?this.updateElement(t,i,s.get(i)):s.forEach((a,l)=>this.updateElement(t,l,a)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(i)){let l=Wr(...r).subscribe(()=>{let d=this.getValue(t,i);this.updateElement(t,i,d)});s.set(i,l)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let s=0;s<this.activatedBreakpoints.length;s++){let a=this.activatedBreakpoints[s],l=t.get(a.alias);if(l&&(i===void 0||l.has(i)&&l.get(i)!=null))return l}if(!this._useFallbacks)return;let r=t.get("");return i===void 0||r&&r.has(i)?r:void 0}observeActivations(){let t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Lo(this.hook.interceptEvents(this)),It(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}static{this.\u0275fac=function(i){return new(i||n)(le(ZR),le(Dx),le(hD))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Tx(n,e,t,i){if(i!==void 0){let r=n.get(e)??new Map;r.set(t,i),n.set(e,r)}}var ho=(()=>{class n{get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}constructor(t,i,r,s){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new me,this.styleCache=new Map}ngOnChanges(t){Object.keys(t).forEach(i=>{if(this.inputs.indexOf(i)!==-1){let r=i.split(".").slice(1).join("."),s=t[i].currentValue;this.setValue(s,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){let r=this.styleBuilder,s=r.shouldCache,a=this.styleCache.get(t);(!a||!s)&&(a=r.buildStyles(t,i),s&&this.styleCache.set(t,a)),this.mru=X({},a),this.applyStyleToElement(a),r.sideEffect(t,a,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){let[r,s]=this.styler.getFlowDirection(t);if(!s&&i){let a=Xl(r),l=[t];this.styler.applyStyleToElements(a,l)}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}static{this.\u0275fac=function(i){return new(i||n)(G(pe),G(Wn),G(uo),G(ec))}}static{this.\u0275dir=ee({type:n,features:[tn]})}}return n})();var Cx="x";function tc(n,e){if(e===void 0)return n;let t=i=>{let r=+i.slice(0,-Cx.length);return n.endsWith(Cx)&&!isNaN(r)?`${r*e.value}${e.unit}`:n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}var Mx={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null},pD=(()=>{class n extends Wn{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(nc)?(t=t.slice(0,t.indexOf(nc)),t=tc(t,this._config.multiplier),wD(t,i.directionality)):{}}sideEffect(t,i,r){let s=r.items;if(t.endsWith(nc)){t=t.slice(0,t.indexOf(nc)),t=tc(t,this._config.multiplier);let a=ID(t,r.directionality);this._styler.applyStyleToElements(a,r.items)}else{t=tc(t,this._config.multiplier),t=this.addFallbackUnit(t);let a=s.pop(),l=ED(t,r);this._styler.applyStyleToElements(l,s),this._styler.applyStyleToElements(Mx,[a])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}static{this.\u0275fac=function(i){return new(i||n)(le(uo),le(Xt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gD=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];var yD=(()=>{class n extends ho{get childrenNodes(){let t=this.nativeElement.children,i=[];for(let r=t.length;r--;)i[r]=t[r];return i}constructor(t,i,r,s,a,l){super(t,a,s,l),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new me;let d=[this.directionality.change,this.observerSubject.asObservable()];this.init(d),this.marshal.trackValue(this.nativeElement,"layout").pipe(pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){let r=t.value.split(" ")[0];Yl.find(s=>s===r)||(r="row"),this.layout&&this.layout!==r&&this.clearStyles(),this.layout=r,this.triggerUpdate()}updateWithValue(t){let i=this.childrenNodes.filter(r=>r.nodeType===1&&this.willDisplay(r)).sort((r,s)=>{let a=+this.styler.lookupStyle(r,"order"),l=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(l)||a===l?0:a>l?1:-1});if(i.length>0){let r=this.directionality.value,s=this.layout;s==="row"&&r==="rtl"?this.styleCache=_D:s==="row"&&r!=="rtl"?this.styleCache=bD:s==="column"&&r==="rtl"?this.styleCache=vD:s==="column"&&r!=="rtl"&&(this.styleCache=xD),this.addStyles(t,{directionality:r,items:i,layout:s})}}clearStyles(){let t=Object.keys(this.mru).length>0,i=t?"padding":Px(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){let i=this.marshal.getValue(t,"show-hide");return i===!0||i===void 0&&this.styleUtils.lookupStyle(t,"display")!=="none"}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(t=>{let i=r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0;t.some(i)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}static{this.\u0275fac=function(i){return new(i||n)(G(pe),G(Z),G(ms),G(uo),G(pD),G(ec))}}static{this.\u0275dir=ee({type:n,features:[ke]})}}return n})(),ic=(()=>{class n extends yD{constructor(){super(...arguments),this.inputs=gD}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wt(n)))(r||n)}})()}static{this.\u0275dir=ee({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[ke]})}}return n})(),_D=new Map,vD=new Map,bD=new Map,xD=new Map,nc=" grid";function ID(n,e){let[t,i]=n.split(" "),r=i??t,s="0px",a=r,l="0px";return e==="rtl"?l=t:s=t,{padding:`0px ${s} ${a} ${l}`}}function wD(n,e){let[t,i]=n.split(" "),r=i??t,s=h=>`-${h}`,a="0px",l=s(r),d="0px";return e==="rtl"?d=s(t):a=s(t),{margin:`0px ${a} ${l} ${d}`}}function Px(n,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return n==="rtl"?"margin-left":"margin-right";case"row-reverse":return n==="rtl"?"margin-right":"margin-left";default:return n==="rtl"?"margin-left":"margin-right"}}function ED(n,e){let t=Px(e.directionality,e.layout),i=X({},Mx);return i[t]=n,i}var AD=(()=>{class n extends Wn{buildStyles(t,{display:i}){let r=Xl(t);return qe(X({},r),{display:i==="none"?i:r.display})}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wt(n)))(r||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TD=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];var CD=(()=>{class n extends ho{constructor(t,i,r,s,a){super(t,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){let r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=kx.get(r)??new Map,kx.set(r,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:r}),this.currentValue=t)}static{this.\u0275fac=function(i){return new(i||n)(G(pe),G(uo),G(AD),G(ec),G(Xt))}}static{this.\u0275dir=ee({type:n,features:[ke]})}}return n})(),rc=(()=>{class n extends CD{constructor(){super(...arguments),this.inputs=TD}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wt(n)))(r||n)}})()}static{this.\u0275dir=ee({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[ke]})}}return n})(),kx=new Map;var dm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=se({type:n})}static{this.\u0275inj=re({imports:[Cr,ps]})}}return n})();function kD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"LOGIN.ERROR.REQUIRED")," "))}function MD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"LOGIN.ERROR.EMAIL")," "))}function PD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"LOGIN.ERROR.REQUIRED")," "))}function FD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"LOGIN.ERROR.MIN_LENGTH")," "))}function OD(n,e){if(n&1&&(H(0,"mat-error"),ue(1),z()),n&2){let t=yt();N(),rt(t.errorMessage)}}var sc=class n{constructor(e,t,i,r){this.route=e;this.fb=t;this.auth=i;this.router=r;this.form=this.fb.group({email:["",[Ke.required,Ke.email]],password:["",[Ke.required,Ke.minLength(6)]]})}email="";password="";form;errorMessage="";returnUrl="";ngOnInit(){this.returnUrl=this.route.snapshot.queryParamMap.get("returnUrl")||"/map"}login(){if(this.form.invalid)return;let{email:e,password:t}=this.form.value;this.auth.login(e,t).subscribe({next:()=>this.router.navigateByUrl(this.returnUrl),error:i=>this.errorMessage=i.message})}static \u0275fac=function(t){return new(t||n)(G(Ho),G(da),G(Ar),G(Ni))};static \u0275cmp=Te({type:n,selectors:[["app-login"]],standalone:!1,decls:29,vars:25,consts:[[1,"auth-card"],["fxLayout","column","fxLayoutGap","16px",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],["matInput","","formControlName","password","type","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["routerLink","/auth/register"]],template:function(t,i){if(t&1&&(H(0,"mat-card",0)(1,"h2"),ue(2),ye(3,"translate"),z(),H(4,"form",1),ht("ngSubmit",function(){return i.login()}),H(5,"mat-form-field",2)(6,"mat-label"),ue(7),ye(8,"translate"),z(),Ce(9,"input",3),xe(10,kD,3,3,"mat-error",4)(11,MD,3,3,"mat-error",4),z(),H(12,"mat-form-field",2)(13,"mat-label"),ue(14),ye(15,"translate"),z(),Ce(16,"input",5),xe(17,PD,3,3,"mat-error",4)(18,FD,3,3,"mat-error",4),z(),H(19,"button",6),ue(20),ye(21,"translate"),z(),xe(22,OD,2,1,"mat-error",4),z(),H(23,"p"),ue(24),ye(25,"translate"),H(26,"a",7),ue(27),ye(28,"translate"),z()()()),t&2){let r,s,a,l;N(2),rt(_e(3,13,"LOGIN.TITLE")),N(2),ve("formGroup",i.form),N(3),rt(_e(8,15,"LOGIN.EMAIL")),N(3),ve("ngIf",(r=i.form.get("email"))==null?null:r.hasError("required")),N(),ve("ngIf",(s=i.form.get("email"))==null?null:s.hasError("email")),N(3),rt(_e(15,17,"LOGIN.PASSWORD")),N(3),ve("ngIf",(a=i.form.get("password"))==null?null:a.hasError("required")),N(),ve("ngIf",(l=i.form.get("password"))==null?null:l.hasError("minlength")),N(),ve("disabled",i.form.invalid),N(),We(" ",_e(21,19,"LOGIN.SUBMIT")," "),N(2),ve("ngIf",i.errorMessage),N(2),We(" ",_e(25,21,"LOGIN.NO_ACCOUNT")," "),N(3),rt(_e(28,23,"LOGIN.REGISTER"))}},dependencies:[zo,ca,ji,ra,sa,qo,rc,ic,Zn,cs,ma,ys,si,gs,ba,Ia,Wo],styles:[".auth-card[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1.5rem;text-align:center}.auth-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.auth-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;width:100%}.auth-card[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{margin-top:.5rem;display:block;text-align:center}"]})};function ND(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"REGISTER.ERROR.REQUIRED")," "))}function LD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"REGISTER.ERROR.NAME_TOO_SHORT")," "))}function VD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"REGISTER.ERROR.REQUIRED")," "))}function BD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"REGISTER.ERROR.EMAIL")," "))}function UD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"REGISTER.ERROR.REQUIRED")," "))}function jD(n,e){n&1&&(H(0,"mat-error"),ue(1),ye(2,"translate"),z()),n&2&&(N(),We(" ",_e(2,1,"REGISTER.ERROR.MIN_LENGTH")," "))}function GD(n,e){if(n&1&&(H(0,"mat-error"),ue(1),z()),n&2){let t=yt();N(),rt(t.errorMessage)}}var oc=class n{constructor(e,t,i,r){this.route=e;this.fb=t;this.auth=i;this.router=r;this.form=this.fb.group({email:["",[Ke.required,Ke.email]],password:["",[Ke.required,Ke.minLength(6)]],name:["",[Ke.required,Ke.minLength(2)]]})}name="";email="";password="";errorMessage="";form;returnUrl="";ngOnInit(){this.returnUrl=this.route.snapshot.queryParamMap.get("returnUrl")||"/map"}register(){if(this.form.invalid)return;let{email:e,password:t,name:i}=this.form.value;this.auth.register(i,e,t).subscribe({next:()=>this.router.navigateByUrl(this.returnUrl),error:r=>this.errorMessage=r.message})}static \u0275fac=function(t){return new(t||n)(G(Ho),G(da),G(Ar),G(Ni))};static \u0275cmp=Te({type:n,selectors:[["app-register"]],standalone:!1,decls:36,vars:30,consts:[[1,"auth-card"],["fxLayout","column","fxLayoutGap","16px",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","type","text"],[4,"ngIf"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password","type","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["routerLink","/auth/login"]],template:function(t,i){if(t&1&&(H(0,"mat-card",0)(1,"h2"),ue(2),ye(3,"translate"),z(),H(4,"form",1),ht("ngSubmit",function(){return i.register()}),H(5,"mat-form-field",2)(6,"mat-label"),ue(7),ye(8,"translate"),z(),Ce(9,"input",3),xe(10,ND,3,3,"mat-error",4)(11,LD,3,3,"mat-error",4),z(),H(12,"mat-form-field",2)(13,"mat-label"),ue(14),ye(15,"translate"),z(),Ce(16,"input",5),xe(17,VD,3,3,"mat-error",4)(18,BD,3,3,"mat-error",4),z(),H(19,"mat-form-field",2)(20,"mat-label"),ue(21),ye(22,"translate"),z(),Ce(23,"input",6),xe(24,UD,3,3,"mat-error",4)(25,jD,3,3,"mat-error",4),z(),H(26,"button",7),ue(27),ye(28,"translate"),z(),xe(29,GD,2,1,"mat-error",4),z(),H(30,"p"),ue(31),ye(32,"translate"),H(33,"a",8),ue(34),ye(35,"translate"),z()()()),t&2){let r,s,a,l,d,h;N(2),rt(_e(3,16,"REGISTER.TITLE")),N(2),ve("formGroup",i.form),N(3),rt(_e(8,18,"REGISTER.NAME")),N(3),ve("ngIf",(r=i.form.get("name"))==null?null:r.hasError("required")),N(),ve("ngIf",(s=i.form.get("name"))==null?null:s.hasError("minlength")),N(3),rt(_e(15,20,"REGISTER.EMAIL")),N(3),ve("ngIf",(a=i.form.get("email"))==null?null:a.hasError("required")),N(),ve("ngIf",(l=i.form.get("email"))==null?null:l.hasError("email")),N(3),rt(_e(22,22,"REGISTER.PASSWORD")),N(3),ve("ngIf",(d=i.form.get("password"))==null?null:d.hasError("required")),N(),ve("ngIf",(h=i.form.get("password"))==null?null:h.hasError("minlength")),N(),ve("disabled",i.form.invalid),N(),We(" ",_e(28,24,"REGISTER.SUBMIT")," "),N(2),ve("ngIf",i.errorMessage),N(2),We(" ",_e(32,26,"REGISTER.ALREADY_HAVE_ACCOUNT")," "),N(3),rt(_e(35,28,"REGISTER.LOGIN_HERE"))}},dependencies:[zo,ca,ji,ra,sa,qo,rc,ic,Zn,cs,ma,ys,si,gs,ba,Ia,Wo],styles:[".auth-card[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1.5rem;text-align:center}.auth-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.auth-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;width:100%}.auth-card[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{margin-top:.5rem;display:block;text-align:center}"]})};var ac=class n{constructor(e){this.auth=e;this.user$=j_(this.auth).pipe(Oo(1)),this.isLoggedIn$=this.user$.pipe(Fe(t=>!!t)),this.userId$=this.user$.pipe(Fe(t=>t?.uid??null)),this.displayName$=this.user$.pipe(Fe(t=>t?.displayName??t?.email??null))}user$;isLoggedIn$;userId$;displayName$;get currentUser(){return this.auth.currentUser}static \u0275fac=function(t){return new(t||n)(le(hn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var fo=class n{constructor(e,t){this.session=e;this.router=t}canActivate(){return this.session.isLoggedIn$.pipe(Qr(1),Fe(e=>e?(this.router.navigate(["/map"]),!1):!0))}static \u0275fac=function(t){return new(t||n)(le(ac),le(Ni))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var $D=[{path:"login",canActivate:[fo],component:sc},{path:"register",canActivate:[fo],component:oc}],Nx=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[zc.forChild($D),zc]})};var um=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=se({type:n})}static{this.\u0275inj=re({imports:[Cr]})}}return n})();var hm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=se({type:n})}static{this.\u0275inj=re({imports:[Cr]})}}return n})();var mB=(()=>{class n{static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:Xt,useValue:X(X({},Jl),t)},{provide:Zl,useValue:i,multi:!0},{provide:co,useValue:!0}]:[{provide:Xt,useValue:X(X({},Jl),t)},{provide:Zl,useValue:i,multi:!0}]}}constructor(t,i){$o(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static{this.\u0275fac=function(i){return new(i||n)(le(co),le(Ft))}}static{this.\u0275mod=se({type:n})}static{this.\u0275inj=re({imports:[dm,um,hm,dm,um,hm]})}}return n})();var pB=new ts("19.0.0");export{zO as a,$O as b,hn as c,mL as d,j_ as e,pL as f,ac as g,ji as h,Ke as i,Jn as j,ra as k,sa as l,id as m,ca as n,Zn as o,cs as p,da as q,lk as r,ck as s,i2 as t,r2 as u,Ar as v,ms as w,ps as x,ds as y,us as z,Tt as A,on as B,Ne as C,Ct as D,ld as E,ei as F,Hk as G,cd as H,Z0 as I,ni as J,Ag as K,fd as L,md as M,KM as N,QM as O,st as P,ma as Q,x1 as R,w1 as S,R1 as T,k1 as U,si as V,ga as W,ya as X,ys as Y,_a as Z,qg as _,va as $,ba as aa,eF as ba,uF as ca,ey as da,XI as ea,ty as fa,Ia as ga,GF as ha,Nx as ia,mB as ja};
