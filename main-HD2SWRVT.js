import{a as le}from"./chunk-KHNT4N4N.js";import{a as w,b as me,c as ce,d as ue,e as de,f as fe,g as ge,h as he,i as Me,j as ve,k as be,l as Ce,m as ye}from"./chunk-3VTWJNDJ.js";import{a as X,b as Y,c as P,d as ee,e as A,ea as oe,f as te,ga as ie,ha as ae,t as re,u as ne,v as I}from"./chunk-GMQ4XCUB.js";import{a as pe,b as T,c as se,d as x}from"./chunk-2JLCVH2Z.js";import{Aa as y,Ba as u,Bb as G,Eb as z,Fb as J,Gb as O,H as B,Hb as Z,Jb as q,Ka as R,Kb as K,Mb as Q,N as $,Nb as S,O as m,Ob as W,Pa as o,Pb as M,Q as C,Qa as i,Ra as d,Sa as V,Ua as h,Y as f,Z as g,cb as U,db as s,fb as _,ib as k,jb as D,l as F,sa as c,wa as p}from"./chunk-K7NCM4M7.js";import"./chunk-25N2FLV6.js";var Oe=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-WE3SEMUY.js").then(e=>e.AuthModule)},{path:"map",canActivate:[w],loadChildren:()=>import("./chunk-TXCVRC5Z.js").then(e=>e.MapModule)},{path:"chat",canActivate:[w],loadChildren:()=>import("./chunk-BQ237KRG.js").then(e=>e.ChatModule)},{path:"profile",canActivate:[w],loadChildren:()=>import("./chunk-GSWJYRDH.js").then(e=>e.ProfileModule)},{path:"**",redirectTo:"auth/login"}],j=class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=u({type:e});static \u0275inj=m({imports:[M.forRoot(Oe),M]})};var L=class e{constructor(t,r,n,a){this.translate=t;this.auth=r;this.router=n;this.afAuth=a;this.user$=A(this.afAuth)}langs=[{value:"en",name:"English"},{value:"es",name:"Spanish"}];currentLang="en";currentUser;user$;ngOnInit(){this.currentLang=this.translate.currentLang,this.translate.onLangChange.subscribe(t=>this.currentLang=t.lang),this.user$.subscribe(t=>{this.currentUser=t?{displayName:t.displayName||t.email,email:t.email}:void 0})}switchLang(t){this.translate.use(t)}logout(){this.auth.logout().subscribe(()=>this.router.navigate(["/auth/login"]))}navigateTo(t){this.router.navigate([`/${t}`])}static \u0275fac=function(r){return new(r||e)(p(T),p(I),p(S),p(P))};static \u0275cmp=y({type:e,selectors:[["app-header"]],standalone:!1,decls:28,vars:9,consts:[["profileMenu","matMenu"],["color","primary",1,"app-header"],[1,"toolbar-left"],["routerLink","/",1,"logo"],["src","assets/logo.png","alt","Geodyssey Logo"],[1,"app-name"],[1,"toolbar-spacer"],[1,"toolbar-right"],["mat-button","","fontIcon","terrain",3,"click"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"selectionChange","value"]],template:function(r,n){if(r&1){let a=V();o(0,"mat-toolbar",1)(1,"div",2)(2,"span",3),d(3,"img",4),o(4,"span",5),s(5,"GeOdyssey"),i()(),d(6,"span",6),i(),o(7,"div",7)(8,"button",8),h("click",function(){return f(a),g(n.navigateTo("map"))}),o(9,"mat-icon"),s(10,"public"),i(),s(11),k(12,"translate"),i(),o(13,"mat-menu",null,0)(15,"button",9),h("click",function(){return f(a),g(n.navigateTo("profile/profile"))}),o(16,"mat-icon"),s(17,"person"),i(),s(18),i(),o(19,"button",9),h("click",function(){return f(a),g(n.logout())}),o(20,"mat-icon"),s(21,"logout"),i(),s(22),k(23,"translate"),i()(),o(24,"button",10)(25,"mat-icon"),s(26,"account_circle"),i()(),o(27,"mat-select",11),h("selectionChange",function(b){return f(a),g(n.switchLang(b.value))}),i()()()}if(r&2){let a=U(14);c(11),_(" ",D(12,5,"MAP.TITLE")," "),c(7),_(" ",(n.currentUser==null?null:n.currentUser.displayName)||(n.currentUser==null?null:n.currentUser.email)," "),c(4),_(" ",D(23,7,"HEADER.LOGOUT")," "),c(2),R("matMenuTriggerFor",a),c(3),R("value",n.currentLang)}},dependencies:[ue,me,ge,fe,he,ie,oe,ve,W,se],styles:[".app-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:fixed;top:0;left:0;right:0;height:64px;z-index:10}.app-header[_ngcontent-%COMP%]   .toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.app-header[_ngcontent-%COMP%]   .toolbar-left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.app-header[_ngcontent-%COMP%]   .toolbar-left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-right:.5rem}.app-header[_ngcontent-%COMP%]   .toolbar-left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--primary-button-color)}.app-header[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-header[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.app-header[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%]{color:var(--primary-button-color);min-width:unset;max-width:80px}.app-header[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%]     .mat-select-trigger{padding:0 8px;display:flex;justify-content:center}.app-header[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%]     .mat-select-value{color:var(--primary-button-color);font-weight:700;text-align:center}.app-header[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{color:var(--primary-button-color)}"]})};var E=class e{constructor(t,r,n,a){this.translate=t;this.auth=r;this.router=n;this.afAuth=a;this.user$=A(this.afAuth),this.profileName$=this.user$.pipe(B(b=>b?this.auth.getUserDoc(b.uid):F(null))),t.addLangs(["en","es"]),t.setDefaultLang("en");let l=t.getBrowserLang()??"en";t.use(l.match(/en|es/)?l:"en")}user$;profileName$;menuOpen=!1;logout(){this.auth.logout().subscribe(()=>{this.router.navigate(["/auth/login"])})}toggleMenu(){this.menuOpen=!this.menuOpen}switchLang(t){let r=t.target.value;this.translate.use(r)}title="geodyssey";static \u0275fac=function(r){return new(r||e)(p(T),p(I),p(S),p(P))};static \u0275cmp=y({type:e,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,consts:[[1,"header"],[1,"page-content"]],template:function(r,n){r&1&&(d(0,"app-header",0),o(1,"div",1),d(2,"router-outlet"),i())},dependencies:[Q,L],encapsulation:2})};var _e=(()=>{class e{http;prefix;suffix;constructor(r,n="/assets/i18n/",a=".json"){this.http=r,this.prefix=n,this.suffix=a}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}static \u0275fac=function(n){return new(n||e)(C(O),C(String),C(String))};static \u0275prov=$({token:e,factory:e.\u0275fac})}return e})();var N=class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=u({type:e});static \u0275inj=m({imports:[de,ce,Me,ae,be,M,x,G]})};function xe(e){return new _e(e,"./assets/i18n/",".json")}var H=class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=u({type:e,bootstrap:[E]});static \u0275inj=m({providers:[Z(),K(q()),X(()=>Y({projectId:"earthconnect-2a956",appId:"1:516868557631:web:7eb8882eea1656fe91618a",storageBucket:"earthconnect-2a956.firebasestorage.app",apiKey:"AIzaSyAB6EwVvGQbpZNHkJBE_3nhJ30mRbPOqWw",authDomain:"earthconnect-2a956.firebaseapp.com",messagingSenderId:"516868557631",measurementId:"G-LZJEBDE0JV"})),ee(()=>te()),re(()=>ne())],imports:[x.forRoot({defaultLanguage:"en",loader:{provide:pe,useFactory:xe,deps:[O]}}),J,j,le,N,ye,Ce]})};z().bootstrapModule(H,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
